var dC=Object.defineProperty,hC=Object.defineProperties,fC=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,gC=Object.prototype.propertyIsEnumerable,xc=(Ue,ne,le)=>ne in Ue?dC(Ue,ne,{enumerable:!0,configurable:!0,writable:!0,value:le}):Ue[ne]=le,Ic=(Ue,ne)=>{for(var le in ne||(ne={}))pC.call(ne,le)&&xc(Ue,le,ne[le]);if(Ng)for(var le of Ng(ne))gC.call(ne,le)&&xc(Ue,le,ne[le]);return Ue},Rc=(Ue,ne)=>hC(Ue,fC(ne)),pl=(Ue,ne,le)=>(xc(Ue,"symbol"!=typeof ne?ne+"":ne,le),le),Oc=(Ue,ne,le)=>{if(!ne.has(Ue))throw TypeError("Cannot "+le)},vt=(Ue,ne,le)=>(Oc(Ue,ne,"read from private field"),le?le.call(Ue):ne.get(Ue)),Xt=(Ue,ne,le)=>{if(ne.has(Ue))throw TypeError("Cannot add the same private member more than once");ne instanceof WeakSet?ne.add(Ue):ne.set(Ue,le)},An=(Ue,ne,le,h)=>(Oc(Ue,ne,"write to private field"),h?h.call(Ue,le):ne.set(Ue,le),le),Ln=(Ue,ne,le)=>(Oc(Ue,ne,"access private method"),le);(self.webpackChunkkaelenb_github_io=self.webpackChunkkaelenb_github_io||[]).push([[179],{699:(Ue,ne,le)=>{"use strict";le.r(ne),le.d(ne,{AppModule:()=>L,tetrisSharedModule:()=>he});var h=le(2313),ie=le(4927),ge=le(1223);let be=(()=>{class Q{constructor(te){this.router=te,this.play=()=>this.router.navigate(["tetris/game"])}ngOnInit(){}}return Q.\u0275fac=function(te){return new(te||Q)(ge.Y36(ie.F0))},Q.\u0275cmp=ge.Xpm({type:Q,selectors:[["app-main-menu"]],decls:2,vars:0,consts:[[1,"play-button",3,"click"]],template:function(te,F){1&te&&(ge.TgZ(0,"button",0),ge.NdJ("click",function(){return F.play()}),ge._uU(1,"Play"),ge.qZA())},encapsulation:2}),Q})();const y=["none","cyan","blue","orange","yellow","green","purple","red"],E=[[],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[2,0,0],[2,2,2],[0,0,0]],[[0,0,3],[3,3,3],[0,0,0]],[[4,4],[4,4]],[[0,5,5],[5,5,0],[0,0,0]],[[0,6,0],[6,6,6],[0,0,0]],[[7,7,0],[0,7,7],[0,0,0]]],I={0:800,1:720,2:630,3:550,5:380,6:300,7:220,8:130,9:100,10:80,11:80,12:80,13:70,14:70,15:70,16:50,17:50,18:50,19:30,20:30};class _{constructor(Y){this.ctx=Y,this.spawn()}spawn(){const Y=this.randomizeTetrominoType(y.length-1);this.shape=E[Y],this.color=y[Y],this.x=4===Y?4:3,this.y=0}draw(){this.ctx.fillStyle=this.color,this.shape.forEach((Y,te)=>{Y.forEach((F,U)=>{F>0&&this.ctx.fillRect(this.x+U,this.y+te,1,1)})})}drawNext(Y){Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.fillStyle=this.color,this.shape.forEach((te,F)=>{te.forEach((U,J)=>{U>0&&Y.fillRect(J,F,1,1)})})}move(Y){this.x=Y.x,this.y=Y.y,this.shape=Y.shape}randomizeTetrominoType(Y){return Math.floor(Math.random()*Y+1)}}let W=(()=>{class Q{valid(te,F){return te.shape.every((U,J)=>U.every((q,re)=>{let k=te.x+re,M=te.y+J;return this.isEmpty(q)||this.insideWalls(k)&&this.aboveFloor(M)&&this.notOccupied(F,k,M)}))}isEmpty(te){return 0===te}insideWalls(te){return te>=0&&te<10}aboveFloor(te){return te<=20}notOccupied(te,F,U){return te[U]&&0===te[U][F]}rotate(te){let F=JSON.parse(JSON.stringify(te));for(let U=0;U<F.shape.length;++U)for(let J=0;J<U;++J)[F.shape[J][U],F.shape[U][J]]=[F.shape[U][J],F.shape[J][U]];return F.shape.forEach(U=>U.reverse()),F}getLinesClearedPoints(te,F){return(F+1)*(1===te?100:2===te?300:3===te?500:4===te?800:0)}}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275prov=ge.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();const de=["board"],B=["next"];let H=(()=>{class Q{constructor(te){this.service=te,this.moves={ArrowLeft:F=>Object.assign(Object.assign({},F),{x:F.x-1}),ArrowRight:F=>Object.assign(Object.assign({},F),{x:F.x+1}),ArrowDown:F=>Object.assign(Object.assign({},F),{y:F.y+1}),Space:F=>Object.assign(Object.assign({},F),{y:F.y+1}),ArrowUp:F=>this.service.rotate(F)}}keyEvent(te){if("Escape"==te.key)this.gameOver();else if(this.moves[te.key]){te.preventDefault();let F=this.moves[te.key](this.piece);if("Space"===te.key)for(;this.service.valid(F,this.board);)this.points+=2,this.piece.move(F),F=this.moves.DOWN(this.piece);else this.service.valid(F,this.board)&&(this.piece.move(F),"ArrowDown"===te.key&&(this.points+=1))}}ngOnInit(){this.initBoard(),this.initNext(),this.resetGame()}initBoard(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.canvas.width=300,this.ctx.canvas.height=600,this.ctx.scale(30,30)}initNext(){this.ctxNext=this.canvasNext.nativeElement.getContext("2d"),this.ctxNext.canvas.width=120,this.ctxNext.canvas.height=120,this.ctxNext.scale(30,30)}play(){this.resetGame(),this.next=new _(this.ctx),this.piece=new _(this.ctx),this.next.drawNext(this.ctxNext),this.time.start=performance.now(),this.requestId&&cancelAnimationFrame(this.requestId),this.animate()}resetGame(){this.points=0,this.lines=0,this.level=0,this.board=this.getEmptyBoard(),this.time={start:0,elapsed:0,level:I[this.level]}}animate(te=0){this.time.elapsed=te-this.time.start,this.time.elapsed>this.time.level&&(this.time.start=te,!this.drop())?this.gameOver():(this.draw(),this.requestId=requestAnimationFrame(this.animate.bind(this)))}draw(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.piece.draw(),this.drawBoard()}drop(){let te=this.moves.ArrowDown(this.piece);if(this.service.valid(te,this.board))this.piece.move(te);else{if(this.freeze(),this.clearLines(),0===this.piece.y)return!1;this.piece=this.next,this.next=new _(this.ctx),this.next.drawNext(this.ctxNext)}return!0}clearLines(){let te=0;this.board.forEach((F,U)=>{F.every(J=>0!==J)&&(te++,this.board.splice(U,1),this.board.unshift(Array(10).fill(0)))}),te>0&&(this.points+=this.service.getLinesClearedPoints(te,this.level),this.lines+=te,this.lines>=10&&(this.level++,this.lines-=10,this.time.level=I[this.level]))}freeze(){this.piece.shape.forEach((te,F)=>{te.forEach((U,J)=>{U>0&&(this.board[F+this.piece.y][J+this.piece.x]=U)})})}drawBoard(){this.board.forEach((te,F)=>{te.forEach((U,J)=>{U>0&&(this.ctx.fillStyle=y[U],this.ctx.fillRect(J,F,1,1))})})}gameOver(){cancelAnimationFrame(this.requestId),this.ctx.fillStyle="black",this.ctx.fillRect(1,3,8,1.2),this.ctx.font="1px Arial",this.ctx.fillStyle="red",this.ctx.fillText("GAME OVER",1.8,4)}getEmptyBoard(){return Array.from({length:20},()=>Array(10).fill(0))}}return Q.\u0275fac=function(te){return new(te||Q)(ge.Y36(W))},Q.\u0275cmp=ge.Xpm({type:Q,selectors:[["app-board"]],viewQuery:function(te,F){if(1&te&&(ge.Gf(de,7),ge.Gf(B,7)),2&te){let U;ge.iGM(U=ge.CRH())&&(F.canvas=U.first),ge.iGM(U=ge.CRH())&&(F.canvasNext=U.first)}},hostBindings:function(te,F){1&te&&ge.NdJ("keydown",function(J){return F.keyEvent(J)},!1,ge.Jf7)},decls:18,vars:3,consts:[["fxLayout","row",2,"display","flex"],[1,"game-board"],["board",""],["fxFill",""],[1,"next"],["next",""],[3,"click"]],template:function(te,F){1&te&&(ge.TgZ(0,"div",0),ge._UZ(1,"canvas",1,2),ge.TgZ(3,"div",3)(4,"div")(5,"h1"),ge._uU(6,"TETRIS"),ge.qZA(),ge.TgZ(7,"p"),ge._uU(8),ge.qZA(),ge.TgZ(9,"p"),ge._uU(10),ge.qZA(),ge.TgZ(11,"p"),ge._uU(12),ge.qZA(),ge._UZ(13,"canvas",4,5),ge.qZA(),ge.TgZ(15,"button",6),ge.NdJ("click",function(){return F.play()}),ge.TgZ(16,"p"),ge._uU(17,"Start"),ge.qZA()()()()),2&te&&(ge.xp6(8),ge.hij("Score: ",F.points,""),ge.xp6(2),ge.hij("Lines: ",F.lines,""),ge.xp6(2),ge.hij("Level: ",F.level,""))},styles:['[_nghost-%COMP%], h1[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive}']}),Q})();const m=[{path:"tetris/menu",component:be},{path:"tetris/game",component:H},{path:"tetris",redirectTo:"tetris/menu"}];let v=(()=>{class Q{}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275mod=ge.oAB({type:Q}),Q.\u0275inj=ge.cJS({imports:[[ie.Bz.forRoot(m)],ie.Bz]}),Q})(),R=(()=>{class Q{constructor(){this.title="tetris"}}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275cmp=ge.Xpm({type:Q,selectors:[["app-root"]],decls:1,vars:0,template:function(te,F){1&te&&ge._UZ(0,"app-board")},directives:[H],encapsulation:2}),Q})();const O=[];let L=(()=>{class Q{}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275mod=ge.oAB({type:Q,bootstrap:[R]}),Q.\u0275inj=ge.cJS({providers:[],imports:[[h.b2,v]]}),Q})(),he=(()=>{class Q{static forRoot(){return{ngModule:L,providers:O}}}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275mod=ge.oAB({type:Q}),Q.\u0275inj=ge.cJS({}),Q})()},9463:(Ue,ne,le)=>{"use strict";var h=le(2313),ie=le(1223),ge=le(9808),be=le(8421),ye=le(8306),se=le(5577),f=le(1144),T=le(576),y=le(3268);const E=["addListener","removeListener"],D=["addEventListener","removeEventListener"],Z=["on","off"];function I(S,u,i,o){if((0,T.m)(i)&&(o=i,i=void 0),o)return I(S,u,i).pipe((0,y.Z)(o));const[a,c]=function B(S){return(0,T.m)(S.addEventListener)&&(0,T.m)(S.removeEventListener)}(S)?D.map(p=>C=>S[p](u,C,i)):function W(S){return(0,T.m)(S.addListener)&&(0,T.m)(S.removeListener)}(S)?E.map(_(S,u)):function de(S){return(0,T.m)(S.on)&&(0,T.m)(S.off)}(S)?Z.map(_(S,u)):[];if(!a&&(0,f.z)(S))return(0,se.z)(p=>I(p,u,i))((0,be.Xf)(S));if(!a)throw new TypeError("Invalid event target");return new ye.y(p=>{const C=(...$)=>p.next(1<$.length?$:$[0]);return a(C),()=>c(C)})}function _(S,u){return i=>o=>S[i](u,o)}var H=le(7579),m=le(2076),v=le(4482),R=le(5403),O=le(5032);function L(S){return(0,v.e)((u,i)=>{(0,be.Xf)(S).subscribe((0,R.x)(i,()=>i.complete(),O.Z)),!i.closed&&u.subscribe(i)})}var he=le(727);class Q extends he.w0{constructor(u,i){super()}schedule(u,i=0){return this}}const Y={setInterval(S,u,...i){const{delegate:o}=Y;return(null==o?void 0:o.setInterval)?o.setInterval(S,u,...i):setInterval(S,u,...i)},clearInterval(S){const{delegate:u}=Y;return((null==u?void 0:u.clearInterval)||clearInterval)(S)},delegate:void 0};var te=le(8737);const U={now:()=>(U.delegate||Date).now(),delegate:void 0};class J{constructor(u,i=J.now){this.schedulerActionCtor=u,this.now=i}schedule(u,i=0,o){return new this.schedulerActionCtor(this,u).schedule(o,i)}}J.now=U.now;const re=new class q extends J{constructor(u,i=J.now){super(u,i),this.actions=[],this._active=!1,this._scheduled=void 0}flush(u){const{actions:i}=this;if(this._active)return void i.push(u);let o;this._active=!0;do{if(o=u.execute(u.state,u.delay))break}while(u=i.shift());if(this._active=!1,o){for(;u=i.shift();)u.unsubscribe();throw o}}}(class F extends Q{constructor(u,i){super(u,i),this.scheduler=u,this.work=i,this.pending=!1}schedule(u,i=0){if(this.closed)return this;this.state=u;const o=this.id,a=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(a,o,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(a,this.id,i),this}requestAsyncId(u,i,o=0){return Y.setInterval(u.flush.bind(u,this),o)}recycleAsyncId(u,i,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return i;Y.clearInterval(i)}execute(u,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(u,i);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,i){let a,o=!1;try{this.work(u)}catch(c){o=!0,a=c||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:u,scheduler:i}=this,{actions:o}=i;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(o,this),null!=u&&(this.id=this.recycleAsyncId(i,u,null)),this.delay=null,super.unsubscribe()}}});var w=le(9300),z=le(6036),V=le.t(z,2),ae=le(2813),A=le.t(ae,2);const K=["pdfViewerContainer"];function ee(S,u){const i=new S.EventBus;return function me(S,u){I(S,"documentload").pipe(L(u)).subscribe(()=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(i)}),I(S,"pagerendered").pipe(L(u)).subscribe(({pageNumber:i,cssTransform:o,source:a})=>{const c=document.createEvent("CustomEvent");c.initCustomEvent("pagerendered",!0,!0,{pageNumber:i,cssTransform:o}),a.div.dispatchEvent(c)}),I(S,"textlayerrendered").pipe(L(u)).subscribe(({pageNumber:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:i}),o.textLayerDiv.dispatchEvent(a)}),I(S,"pagechanging").pipe(L(u)).subscribe(({pageNumber:i,source:o})=>{const a=document.createEvent("UIEvents");a.initEvent("pagechanging",!0,!0),a.pageNumber=i,o.container.dispatchEvent(a)}),I(S,"pagesinit").pipe(L(u)).subscribe(({source:i})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesinit",!0,!0,null),i.container.dispatchEvent(o)}),I(S,"pagesloaded").pipe(L(u)).subscribe(({pagesCount:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagesloaded",!0,!0,{pagesCount:i}),o.container.dispatchEvent(a)}),I(S,"scalechange").pipe(L(u)).subscribe(({scale:i,presetValue:o,source:a})=>{const c=document.createEvent("UIEvents");c.initEvent("scalechange",!0,!0),c.scale=i,c.presetValue=o,a.container.dispatchEvent(c)}),I(S,"updateviewarea").pipe(L(u)).subscribe(({location:i,source:o})=>{const a=document.createEvent("UIEvents");a.initEvent("updateviewarea",!0,!0),a.location=i,o.container.dispatchEvent(a)}),I(S,"find").pipe(L(u)).subscribe(({source:i,type:o,query:a,phraseSearch:c,caseSensitive:p,highlightAll:C,findPrevious:$})=>{if(i===window)return;const ue=document.createEvent("CustomEvent");ue.initCustomEvent("find"+o,!0,!0,{query:a,phraseSearch:c,caseSensitive:p,highlightAll:C,findPrevious:$}),window.dispatchEvent(ue)}),I(S,"attachmentsloaded").pipe(L(u)).subscribe(({attachmentsCount:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:i}),o.container.dispatchEvent(a)}),I(S,"sidebarviewchanged").pipe(L(u)).subscribe(({view:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("sidebarviewchanged",!0,!0,{view:i}),o.outerContainer.dispatchEvent(a)}),I(S,"pagemode").pipe(L(u)).subscribe(({mode:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagemode",!0,!0,{mode:i}),o.pdfViewer.container.dispatchEvent(a)}),I(S,"namedaction").pipe(L(u)).subscribe(({action:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("namedaction",!0,!0,{action:i}),o.pdfViewer.container.dispatchEvent(a)}),I(S,"presentationmodechanged").pipe(L(u)).subscribe(({active:i,switchInProgress:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("presentationmodechanged",!0,!0,{active:i,switchInProgress:o}),window.dispatchEvent(a)}),I(S,"outlineloaded").pipe(L(u)).subscribe(({outlineCount:i,source:o})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("outlineloaded",!0,!0,{outlineCount:i}),o.container.dispatchEvent(a)})}(i,u),i}function G(S,u,i){S[u]=i}function _e(){return"undefined"==typeof window}_e()||G(V,"verbosity",z.VerbosityLevel.INFOS);var we=(()=>{return(S=we||(we={}))[S.DISABLED=0]="DISABLED",S[S.ENABLED=1]="ENABLED",S[S.ENHANCED=2]="ENHANCED",we;var S})();let De=(()=>{class S{constructor(i,o){if(this.element=i,this.ngZone=o,this.isVisible=!1,this._cMapsUrl=void 0!==V?`https://unpkg.com/pdfjs-dist@${z.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=we.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new H.x,this.afterLoadComplete=new ie.vpe,this.pageRendered=new ie.vpe,this.pageInitialized=new ie.vpe,this.textLayerRendered=new ie.vpe,this.onError=new ie.vpe,this.onProgress=new ie.vpe,this.pageChange=new ie.vpe(!0),_e())return;let a;a=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${z.version}/legacy/build/pdf.worker.min.js`,G(z.GlobalWorkerOptions,"workerSrc",a)}set cMapsUrl(i){this._cMapsUrl=i}set page(i){const o=i=parseInt(i,10)||1;this._pdf&&(i=this.getValidPageNumber(i)),this._page=i,o!==i&&this.pageChange.emit(i)}set renderText(i){this._renderText=i}set renderTextMode(i){this._renderTextMode=i}set originalSize(i){this._originalSize=i}set showAll(i){this._showAll=i}set stickToPage(i){this._stickToPage=i}set zoom(i){i<=0||(this._zoom=i)}get zoom(){return this._zoom}set zoomScale(i){this._zoomScale=i}get zoomScale(){return this._zoomScale}set rotation(i){"number"==typeof i&&i%90==0?this._rotation=i:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(i){this._externalLinkTarget=i}set autoresize(i){this._canAutoResize=Boolean(i)}set fitToPage(i){this._fitToPage=Boolean(i)}set showBorders(i){this._showBorders=Boolean(i)}static getLinkTarget(i){switch(i){case"blank":return ae.LinkTarget.BLANK;case"none":return ae.LinkTarget.NONE;case"self":return ae.LinkTarget.SELF;case"parent":return ae.LinkTarget.PARENT;case"top":return ae.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const i=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=i?!1===this.isVisible&&null!=i&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(i){if(!_e()&&this.isVisible)if("src"in i)this.loadPDF();else if(this._pdf){if("renderText"in i?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:we.DISABLED,this.resetPdfDocument()):"showAll"in i&&this.resetPdfDocument(),"page"in i){const{page:o}=i;if(o.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const i=this.getCurrentViewer();(0,m.D)(this._pdf.getPage(i.currentPageNumber)).pipe(L(this.destroy$)).subscribe({next:o=>{const a=this._rotation||o.rotate,c=o.getViewport({scale:this._zoom,rotation:a}).width*S.CSS_UNITS;let p=this._zoom,C=!0;if(!this._originalSize||this._fitToPage&&c>this.pdfViewerContainer.nativeElement.clientWidth){const $=o.getViewport({scale:1,rotation:a});p=this.getScale($.width,$.height),C=!this._stickToPage}i._setScale(p,C)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const i={},o=S.getLinkTarget(this._externalLinkTarget);return o&&(i.externalLinkTarget=o),i}setupMultiPageViewer(){G(V,"disableTextLayer",!this._renderText);const i=ee(A,this.destroy$);I(i,"pagerendered").pipe(L(this.destroy$)).subscribe(a=>{this.pageRendered.emit(a)}),I(i,"pagesinit").pipe(L(this.destroy$)).subscribe(a=>{this.pageInitialized.emit(a)}),I(i,"pagechanging").pipe(L(this.destroy$)).subscribe(({pageNumber:a})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=a,this.pageChange.emit(a)},100)}),I(i,"textlayerrendered").pipe(L(this.destroy$)).subscribe(a=>{this.textLayerRendered.emit(a)}),this.pdfMultiPageLinkService=new ae.PDFLinkService(Object.assign({eventBus:i},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new ae.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:i});const o={eventBus:i,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:we.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new ae.PDFViewer(o),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){G(V,"disableTextLayer",!this._renderText);const i=ee(A,this.destroy$);I(i,"pagechanging").pipe(L(this.destroy$)).subscribe(({pageNumber:a})=>{a!==this._page&&(this.page=a)}),I(i,"pagerendered").pipe(L(this.destroy$)).subscribe(a=>{this.pageRendered.emit(a)}),I(i,"pagesinit").pipe(L(this.destroy$)).subscribe(a=>{this.pageInitialized.emit(a)}),I(i,"textlayerrendered").pipe(L(this.destroy$)).subscribe(a=>{this.textLayerRendered.emit(a)}),this.pdfSinglePageLinkService=new ae.PDFLinkService(Object.assign({eventBus:i},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new ae.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:i});const o={eventBus:i,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:we.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new ae.PDFSinglePageViewer(o),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(i){return i<1?1:i>this._pdf.numPages?this._pdf.numPages:i}getDocumentParams(){const i=typeof this.src;if(!this._cMapsUrl)return this.src;const o={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===i?o.url=this.src:"object"===i&&(void 0!==this.src.byteLength?o.data=this.src:Object.assign(o,this.src)),o}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=z.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=o=>{this.onProgress.emit(o)};const i=this.src;(0,m.D)(this.loadingTask.promise).pipe(L(this.destroy$)).subscribe({next:o=>{this._pdf=o,this.lastLoaded=i,this.afterLoadComplete.emit(o),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:o=>{this.lastLoaded=null,this.onError.emit(o)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const i=this.getCurrentViewer();(0!==this._rotation||i.pagesRotation!==this._rotation)&&setTimeout(()=>{i.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{i.currentPageNumber=this._page}),this.updateSize()}getScale(i,o){const a=this._showBorders?2*S.BORDER_WIDTH:0,c=this.pdfViewerContainer.nativeElement.clientWidth-a,p=this.pdfViewerContainer.nativeElement.clientHeight-a;if(0===p||0===o||0===c||0===i)return 1;let C=1;switch(this._zoomScale){case"page-fit":C=Math.min(p/o,c/i);break;case"page-height":C=p/o;break;default:C=c/i}return this._zoom*C/S.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){_e()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){_e()||this.ngZone.runOutsideAngular(()=>{I(window,"resize").pipe(function M(S,u=re){return(0,v.e)((i,o)=>{let a=null,c=null,p=null;const C=()=>{if(a){a.unsubscribe(),a=null;const ue=c;c=null,o.next(ue)}};function $(){const ue=p+S,Ce=u.now();if(Ce<ue)return a=this.schedule(void 0,ue-Ce),void o.add(a);C()}i.subscribe((0,R.x)(o,ue=>{c=ue,p=u.now(),a||(a=u.schedule($,S),o.add(a))},()=>{C(),o.complete()},void 0,()=>{c=a=null}))})}(100),(0,w.h)(()=>this._canAutoResize&&!!this._pdf),L(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return S.CSS_UNITS=96/72,S.BORDER_WIDTH=9,S.\u0275fac=function(i){return new(i||S)(ie.Y36(ie.SBq),ie.Y36(ie.R0b))},S.\u0275cmp=ie.Xpm({type:S,selectors:[["pdf-viewer"]],viewQuery:function(i,o){if(1&i&&ie.Gf(K,5),2&i){let a;ie.iGM(a=ie.CRH())&&(o.pdfViewerContainer=a.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[ie.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(i,o){1&i&&(ie.TgZ(0,"div",0,1),ie._UZ(2,"div",2),ie.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),S})(),Ie=(()=>{class S{}return S.\u0275fac=function(i){return new(i||S)},S.\u0275mod=ie.oAB({type:S}),S.\u0275inj=ie.cJS({}),S})(),Fe=(()=>{class S{}return S.\u0275fac=function(i){return new(i||S)},S.\u0275mod=ie.oAB({type:S}),S.\u0275inj=ie.cJS({imports:[[ge.ez,Ie],ge.ez,Ie]}),S})();var ze=le(4927);let He=(()=>{class S{constructor(){this.pdfSrc="assets/pdf/resume.pdf"}ngOnInit(){}}return S.\u0275fac=function(i){return new(i||S)},S.\u0275cmp=ie.Xpm({type:S,selectors:[["app-resume"]],decls:2,vars:2,consts:[[1,"pdf-container"],[2,"height","100vh",3,"src","original-size"]],template:function(i,o){1&i&&(ie.TgZ(0,"div",0),ie._UZ(1,"pdf-viewer",1),ie.qZA()),2&i&&(ie.xp6(1),ie.Q6J("src",o.pdfSrc)("original-size",!0))},directives:[De],styles:[".pdf-container[_ngcontent-%COMP%]{height:100vh}"]}),S})();var Ze=le(699);const N=[{path:"resume",component:He},{path:"tetris",loadChildren:()=>Promise.resolve().then(le.bind(le,699)).then(S=>S.tetrisSharedModule)},{path:"**",redirectTo:"resume"}];let fe=(()=>{class S{}return S.\u0275fac=function(i){return new(i||S)},S.\u0275mod=ie.oAB({type:S}),S.\u0275inj=ie.cJS({imports:[[ze.Bz.forRoot(N),Ze.tetrisSharedModule.forRoot()],ze.Bz]}),S})(),xe=(()=>{class S{constructor(){this.title="kaelenb.github.io"}}return S.\u0275fac=function(i){return new(i||S)},S.\u0275cmp=ie.Xpm({type:S,selectors:[["app-root"]],decls:8,vars:0,consts:[["routerLink",""],["routerLink","tetris"]],template:function(i,o){1&i&&(ie.TgZ(0,"ul")(1,"li")(2,"a",0),ie._uU(3,"menu"),ie.qZA()(),ie.TgZ(4,"li")(5,"a",1),ie._uU(6,"tetris"),ie.qZA()()(),ie._UZ(7,"router-outlet"))},directives:[ze.yS,ze.lC],styles:[""]}),S})();class Ae{}const Ve="*";function _t(S,u=null){return{type:2,steps:S,options:u}}function et(S){return{type:6,styles:S,offset:null}}function Re(S){Promise.resolve(null).then(S)}class Be{constructor(u=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=u+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Re(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(u){this._position=this.totalTime?u*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(u){const i="start"==u?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class ft{constructor(u){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=u;let i=0,o=0,a=0;const c=this.players.length;0==c?Re(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++i==c&&this._onFinish()}),p.onDestroy(()=>{++o==c&&this._onDestroy()}),p.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((p,C)=>Math.max(p,C.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this.players.forEach(u=>u.init())}onStart(u){this._onStartFns.push(u)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(u=>u()),this._onStartFns=[])}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(u=>u.play())}pause(){this.players.forEach(u=>u.pause())}restart(){this.players.forEach(u=>u.restart())}finish(){this._onFinish(),this.players.forEach(u=>u.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(u=>u.destroy()),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this.players.forEach(u=>u.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(u){const i=u*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(a)})}getPosition(){const u=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=u?u.getPosition():0}beforeDestroy(){this.players.forEach(u=>{u.beforeDestroy&&u.beforeDestroy()})}triggerCallback(u){const i="start"==u?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}const lt=!1;function Rt(S){return new ie.vHH(3e3,lt)}function Yt(){return"undefined"!=typeof window&&void 0!==window.document}function wn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function In(S){switch(S.length){case 0:return new Be;case 1:return S[0];default:return new ft(S)}}function hn(S,u,i,o,a={},c={}){const p=[],C=[];let $=-1,ue=null;if(o.forEach(Ce=>{const je=Ce.offset,rt=je==$,Qe=rt&&ue||{};Object.keys(Ce).forEach(it=>{let at=it,Nt=Ce[it];if("offset"!==it)switch(at=u.normalizePropertyName(at,p),Nt){case"!":Nt=a[it];break;case Ve:Nt=c[it];break;default:Nt=u.normalizeStyleValue(it,at,Nt,p)}Qe[at]=Nt}),rt||C.push(Qe),ue=Qe,$=je}),p.length)throw function kn(S){return new ie.vHH(3502,lt)}();return C}function cr(S,u,i,o){switch(u){case"start":S.onStart(()=>o(i&&Gt(i,"start",S)));break;case"done":S.onDone(()=>o(i&&Gt(i,"done",S)));break;case"destroy":S.onDestroy(()=>o(i&&Gt(i,"destroy",S)))}}function Gt(S,u,i){const o=i.totalTime,c=Kr(S.element,S.triggerName,S.fromState,S.toState,u||S.phaseName,null==o?S.totalTime:o,!!i.disabled),p=S._data;return null!=p&&(c._data=p),c}function Kr(S,u,i,o,a="",c=0,p){return{element:S,triggerName:u,fromState:i,toState:o,phaseName:a,totalTime:c,disabled:!!p}}function yn(S,u,i){let o;return S instanceof Map?(o=S.get(u),o||S.set(u,o=i)):(o=S[u],o||(o=S[u]=i)),o}function Tt(S){const u=S.indexOf(":");return[S.substring(1,u),S.substr(u+1)]}let Tr=(S,u)=>!1,dr=(S,u,i)=>[],Mr=null;function rr(S){const u=S.parentNode||S.host;return u===Mr?null:u}(wn()||"undefined"!=typeof Element)&&(Yt()?(Mr=(()=>document.documentElement)(),Tr=(S,u)=>{for(;u;){if(u===S)return!0;u=rr(u)}return!1}):Tr=(S,u)=>S.contains(u),dr=(S,u,i)=>{if(i)return Array.from(S.querySelectorAll(u));const o=S.querySelector(u);return o?[o]:[]});let _n=null,Bn=!1;function Ht(S){_n||(_n=function Cs(){return"undefined"!=typeof document?document.body:null}()||{},Bn=!!_n.style&&"WebkitAppearance"in _n.style);let u=!0;return _n.style&&!function Wn(S){return"ebkit"==S.substring(1,6)}(S)&&(u=S in _n.style,!u&&Bn&&(u="Webkit"+S.charAt(0).toUpperCase()+S.substr(1)in _n.style)),u}const Qr=Tr,sn=dr;let xr=(()=>{class S{validateStyleProperty(i){return Ht(i)}matchesElement(i,o){return!1}containsElement(i,o){return Qr(i,o)}getParentElement(i){return rr(i)}query(i,o,a){return sn(i,o,a)}computeStyle(i,o,a){return a||""}animate(i,o,a,c,p,C=[],$){return new Be(a,c)}}return S.\u0275fac=function(i){return new(i||S)},S.\u0275prov=ie.Yz7({token:S,factory:S.\u0275fac}),S})(),Ir=(()=>{class S{}return S.NOOP=new xr,S})();const yi="ng-enter",_i="ng-leave",Cr="ng-trigger",qi=".ng-trigger",Es="ng-animating",rs=".ng-animating";function hr(S){if("number"==typeof S)return S;const u=S.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Zr(parseFloat(u[1]),u[2])}function Zr(S,u){return"s"===u?1e3*S:S}function oi(S,u,i){return S.hasOwnProperty("duration")?S:function Ss(S,u,i){let a,c=0,p="";if("string"==typeof S){const C=S.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===C)return u.push(Rt()),{duration:0,delay:0,easing:""};a=Zr(parseFloat(C[1]),C[2]);const $=C[3];null!=$&&(c=Zr(parseFloat($),C[4]));const ue=C[5];ue&&(p=ue)}else a=S;if(!i){let C=!1,$=u.length;a<0&&(u.push(function Cn(){return new ie.vHH(3100,lt)}()),C=!0),c<0&&(u.push(function mn(){return new ie.vHH(3101,lt)}()),C=!0),C&&u.splice($,0,Rt())}return{duration:a,delay:c,easing:p}}(S,u,i)}function Jr(S,u={}){return Object.keys(S).forEach(i=>{u[i]=S[i]}),u}function fr(S,u,i={}){if(u)for(let o in S)i[o]=S[o];else Jr(S,i);return i}function ws(S,u,i){return i?u+":"+i+";":""}function Ds(S){let u="";for(let i=0;i<S.style.length;i++){const o=S.style.item(i);u+=ws(0,o,S.style.getPropertyValue(o))}for(const i in S.style)S.style.hasOwnProperty(i)&&!i.startsWith("_")&&(u+=ws(0,Ts(i),S.style[i]));S.setAttribute("style",u)}function Kn(S,u,i){S.style&&(Object.keys(u).forEach(o=>{const a=Ai(o);i&&!i.hasOwnProperty(o)&&(i[o]=S.style[a]),S.style[a]=u[o]}),wn()&&Ds(S))}function pr(S,u){S.style&&(Object.keys(u).forEach(i=>{const o=Ai(i);S.style[o]=""}),wn()&&Ds(S))}function gr(S){return Array.isArray(S)?1==S.length?S[0]:_t(S):S}const vi=new RegExp("{{\\s*(.+?)\\s*}}","g");function os(S){let u=[];if("string"==typeof S){let i;for(;i=vi.exec(S);)u.push(i[1]);vi.lastIndex=0}return u}function bi(S,u,i){const o=S.toString(),a=o.replace(vi,(c,p)=>{let C=u[p];return u.hasOwnProperty(p)||(i.push(function Pt(S){return new ie.vHH(3003,lt)}()),C=""),C.toString()});return a==o?S:a}function Qn(S){const u=[];let i=S.next();for(;!i.done;)u.push(i.value),i=S.next();return u}const Ps=/-+([a-z0-9])/g;function Ai(S){return S.replace(Ps,(...u)=>u[1].toUpperCase())}function Ts(S){return S.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jn(S,u,i){switch(u.type){case 7:return S.visitTrigger(u,i);case 0:return S.visitState(u,i);case 1:return S.visitTransition(u,i);case 2:return S.visitSequence(u,i);case 3:return S.visitGroup(u,i);case 4:return S.visitAnimate(u,i);case 5:return S.visitKeyframes(u,i);case 6:return S.visitStyle(u,i);case 8:return S.visitReference(u,i);case 9:return S.visitAnimateChild(u,i);case 10:return S.visitAnimateRef(u,i);case 11:return S.visitQuery(u,i);case 12:return S.visitStagger(u,i);default:throw function En(S){return new ie.vHH(3004,lt)}()}}function mr(S,u){return window.getComputedStyle(S)[u]}const x="*";function ce(S,u){const i=[];return"string"==typeof S?S.split(/\s*,\s*/).forEach(o=>function Se(S,u,i){if(":"==S[0]){const $=function $e(S,u){switch(S){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return u.push(function tr(S){return new ie.vHH(3016,lt)}()),"* => *"}}(S,i);if("function"==typeof $)return void u.push($);S=$}const o=S.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(function Ar(S){return new ie.vHH(3015,lt)}()),u;const a=o[1],c=o[2],p=o[3];u.push(Et(a,p));"<"==c[0]&&!(a==x&&p==x)&&u.push(Et(p,a))}(o,i,u)):i.push(S),i}const Ke=new Set(["true","1"]),ht=new Set(["false","0"]);function Et(S,u){const i=Ke.has(S)||ht.has(S),o=Ke.has(u)||ht.has(u);return(a,c)=>{let p=S==x||S==a,C=u==x||u==c;return!p&&i&&"boolean"==typeof a&&(p=a?Ke.has(S):ht.has(S)),!C&&o&&"boolean"==typeof c&&(C=c?Ke.has(u):ht.has(u)),p&&C}}const kt=new RegExp("s*:selfs*,?","g");function gt(S,u,i,o){return new Kt(S).build(u,i,o)}class Kt{constructor(u){this._driver=u}build(u,i,o){const a=new Lr(i);this._resetContextStyleTimingState(a);const c=jn(this,gr(u),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles={},u.collectedStyles[""]={},u.currentTime=0}visitTrigger(u,i){let o=i.queryCount=0,a=i.depCount=0;const c=[],p=[];return"@"==u.name.charAt(0)&&i.errors.push(function br(){return new ie.vHH(3006,lt)}()),u.definitions.forEach(C=>{if(this._resetContextStyleTimingState(i),0==C.type){const $=C,ue=$.name;ue.toString().split(/\s*,\s*/).forEach(Ce=>{$.name=Ce,c.push(this.visitState($,i))}),$.name=ue}else if(1==C.type){const $=this.visitTransition(C,i);o+=$.queryCount,a+=$.depCount,p.push($)}else i.errors.push(function Wt(){return new ie.vHH(3007,lt)}())}),{type:7,name:u.name,states:c,transitions:p,queryCount:o,depCount:a,options:null}}visitState(u,i){const o=this.visitStyle(u.styles,i),a=u.options&&u.options.params||null;if(o.containsDynamicStyles){const c=new Set,p=a||{};o.styles.forEach(C=>{if(Rn(C)){const $=C;Object.keys($).forEach(ue=>{os($[ue]).forEach(Ce=>{p.hasOwnProperty(Ce)||c.add(Ce)})})}}),c.size&&(Qn(c.values()),i.errors.push(function tn(S,u){return new ie.vHH(3008,lt)}()))}return{type:0,name:u.name,style:o,options:a?{params:a}:null}}visitTransition(u,i){i.queryCount=0,i.depCount=0;const o=jn(this,gr(u.animation),i);return{type:1,matchers:ce(u.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:Zn(u.options)}}visitSequence(u,i){return{type:2,steps:u.steps.map(o=>jn(this,o,i)),options:Zn(u.options)}}visitGroup(u,i){const o=i.currentTime;let a=0;const c=u.steps.map(p=>{i.currentTime=o;const C=jn(this,p,i);return a=Math.max(a,i.currentTime),C});return i.currentTime=a,{type:3,steps:c,options:Zn(u.options)}}visitAnimate(u,i){const o=function Sn(S,u){if(S.hasOwnProperty("duration"))return S;if("number"==typeof S)return kr(oi(S,u).duration,0,"");const i=S;if(i.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=kr(0,0,"");return c.dynamic=!0,c.strValue=i,c}const a=oi(i,u);return kr(a.duration,a.delay,a.easing)}(u.timings,i.errors);i.currentAnimateTimings=o;let a,c=u.styles?u.styles:et({});if(5==c.type)a=this.visitKeyframes(c,i);else{let p=u.styles,C=!1;if(!p){C=!0;const ue={};o.easing&&(ue.easing=o.easing),p=et(ue)}i.currentTime+=o.duration+o.delay;const $=this.visitStyle(p,i);$.isEmptyStep=C,a=$}return i.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(u,i){const o=this._makeStyleAst(u,i);return this._validateStyleAst(o,i),o}_makeStyleAst(u,i){const o=[];Array.isArray(u.styles)?u.styles.forEach(p=>{"string"==typeof p?p==Ve?o.push(p):i.errors.push(function Le(S){return new ie.vHH(3002,lt)}()):o.push(p)}):o.push(u.styles);let a=!1,c=null;return o.forEach(p=>{if(Rn(p)){const C=p,$=C.easing;if($&&(c=$,delete C.easing),!a)for(let ue in C)if(C[ue].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:o,easing:c,offset:u.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(u,i){const o=i.currentAnimateTimings;let a=i.currentTime,c=i.currentTime;o&&c>0&&(c-=o.duration+o.delay),u.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(C=>{if(!this._driver.validateStyleProperty(C))return delete p[C],void i.unsupportedCSSPropertiesFound.add(C);const $=i.collectedStyles[i.currentQuerySelector],ue=$[C];let Ce=!0;ue&&(c!=a&&c>=ue.startTime&&a<=ue.endTime&&(i.errors.push(function ve(S,u,i,o,a){return new ie.vHH(3010,lt)}()),Ce=!1),c=ue.startTime),Ce&&($[C]={startTime:c,endTime:a}),i.options&&function ss(S,u,i){const o=u.params||{},a=os(S);a.length&&a.forEach(c=>{o.hasOwnProperty(c)||i.push(function zt(S){return new ie.vHH(3001,lt)}())})}(p[C],i.options,i.errors)})})}visitKeyframes(u,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function Ne(){return new ie.vHH(3011,lt)}()),o;let c=0;const p=[];let C=!1,$=!1,ue=0;const Ce=u.steps.map(Qt=>{const ln=this._makeStyleAst(Qt,i);let pn=null!=ln.offset?ln.offset:function ei(S){if("string"==typeof S)return null;let u=null;if(Array.isArray(S))S.forEach(i=>{if(Rn(i)&&i.hasOwnProperty("offset")){const o=i;u=parseFloat(o.offset),delete o.offset}});else if(Rn(S)&&S.hasOwnProperty("offset")){const i=S;u=parseFloat(i.offset),delete i.offset}return u}(ln.styles),Zt=0;return null!=pn&&(c++,Zt=ln.offset=pn),$=$||Zt<0||Zt>1,C=C||Zt<ue,ue=Zt,p.push(Zt),ln});$&&i.errors.push(function qe(){return new ie.vHH(3012,lt)}()),C&&i.errors.push(function bt(){return new ie.vHH(3200,lt)}());const je=u.steps.length;let rt=0;c>0&&c<je?i.errors.push(function Ot(){return new ie.vHH(3202,lt)}()):0==c&&(rt=1/(je-1));const Qe=je-1,it=i.currentTime,at=i.currentAnimateTimings,Nt=at.duration;return Ce.forEach((Qt,ln)=>{const pn=rt>0?ln==Qe?1:rt*ln:p[ln],Zt=pn*Nt;i.currentTime=it+at.delay+Zt,at.duration=Zt,this._validateStyleAst(Qt,i),Qt.offset=pn,o.styles.push(Qt)}),o}visitReference(u,i){return{type:8,animation:jn(this,gr(u.animation),i),options:Zn(u.options)}}visitAnimateChild(u,i){return i.depCount++,{type:9,options:Zn(u.options)}}visitAnimateRef(u,i){return{type:10,animation:this.visitReference(u.animation,i),options:Zn(u.options)}}visitQuery(u,i){const o=i.currentQuerySelector,a=u.options||{};i.queryCount++,i.currentQuery=u;const[c,p]=function on(S){const u=!!S.split(/\s*,\s*/).find(i=>":self"==i);return u&&(S=S.replace(kt,"")),S=S.replace(/@\*/g,qi).replace(/@\w+/g,i=>qi+"-"+i.substr(1)).replace(/:animating/g,rs),[S,u]}(u.selector);i.currentQuerySelector=o.length?o+" "+c:c,yn(i.collectedStyles,i.currentQuerySelector,{});const C=jn(this,gr(u.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:C,originalSelector:u.selector,options:Zn(u.options)}}visitStagger(u,i){i.currentQuery||i.errors.push(function rn(){return new ie.vHH(3013,lt)}());const o="full"===u.timings?{duration:0,delay:0,easing:"full"}:oi(u.timings,i.errors,!0);return{type:12,animation:jn(this,gr(u.animation),i),timings:o,options:null}}}class Lr{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rn(S){return!Array.isArray(S)&&"object"==typeof S}function Zn(S){return S?(S=Jr(S)).params&&(S.params=function Dn(S){return S?Jr(S):null}(S.params)):S={},S}function kr(S,u,i){return{duration:S,delay:u,easing:i}}function Ei(S,u,i,o,a,c,p=null,C=!1){return{type:1,element:S,keyframes:u,preStyleProps:i,postStyleProps:o,duration:a,delay:c,totalTime:a+c,easing:p,subTimeline:C}}class sr{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,i){let o=this._map.get(u);o||this._map.set(u,o=[]),o.push(...i)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const wt=new RegExp(":enter","g"),Uo=new RegExp(":leave","g");function xs(S,u,i,o,a,c={},p={},C,$,ue=[]){return(new Ho).buildKeyframes(S,u,i,o,a,c,p,C,$,ue)}class Ho{buildKeyframes(u,i,o,a,c,p,C,$,ue,Ce=[]){ue=ue||new sr;const je=new Is(u,i,ue,a,c,Ce,[]);je.options=$,je.currentTimeline.setStyles([p],null,je.errors,$),jn(this,o,je);const rt=je.timelines.filter(Qe=>Qe.containsAnimation());if(Object.keys(C).length){let Qe;for(let it=rt.length-1;it>=0;it--){const at=rt[it];if(at.element===i){Qe=at;break}}Qe&&!Qe.allowOnlyTimelineStyles()&&Qe.setStyles([C],null,je.errors,$)}return rt.length?rt.map(Qe=>Qe.buildKeyframes()):[Ei(i,[],[],[],0,0,"",!1)]}visitTrigger(u,i){}visitState(u,i){}visitTransition(u,i){}visitAnimateChild(u,i){const o=i.subInstructions.get(i.element);if(o){const a=i.createSubContext(u.options),c=i.currentTimeline.currentTime,p=this._visitSubInstructions(o,a,a.options);c!=p&&i.transformIntoNewTimeline(p)}i.previousNode=u}visitAnimateRef(u,i){const o=i.createSubContext(u.options);o.transformIntoNewTimeline(),this.visitReference(u.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=u}_visitSubInstructions(u,i,o){let c=i.currentTimeline.currentTime;const p=null!=o.duration?hr(o.duration):null,C=null!=o.delay?hr(o.delay):null;return 0!==p&&u.forEach($=>{const ue=i.appendInstructionToTimeline($,p,C);c=Math.max(c,ue.duration+ue.delay)}),c}visitReference(u,i){i.updateOptions(u.options,!0),jn(this,u.animation,i),i.previousNode=u}visitSequence(u,i){const o=i.subContextCount;let a=i;const c=u.options;if(c&&(c.params||c.delay)&&(a=i.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ai);const p=hr(c.delay);a.delayNextStep(p)}u.steps.length&&(u.steps.forEach(p=>jn(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),i.previousNode=u}visitGroup(u,i){const o=[];let a=i.currentTimeline.currentTime;const c=u.options&&u.options.delay?hr(u.options.delay):0;u.steps.forEach(p=>{const C=i.createSubContext(u.options);c&&C.delayNextStep(c),jn(this,p,C),a=Math.max(a,C.currentTimeline.currentTime),o.push(C.currentTimeline)}),o.forEach(p=>i.currentTimeline.mergeTimelineCollectedStyles(p)),i.transformIntoNewTimeline(a),i.previousNode=u}_visitTiming(u,i){if(u.dynamic){const o=u.strValue;return oi(i.params?bi(o,i.params,i.errors):o,i.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,i){const o=i.currentAnimateTimings=this._visitTiming(u.timings,i),a=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),a.snapshotCurrentStyles());const c=u.style;5==c.type?this.visitKeyframes(c,i):(i.incrementTime(o.duration),this.visitStyle(c,i),a.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=u}visitStyle(u,i){const o=i.currentTimeline,a=i.currentAnimateTimings;!a&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=a&&a.easing||u.easing;u.isEmptyStep?o.applyEmptyStep(c):o.setStyles(u.styles,c,i.errors,i.options),i.previousNode=u}visitKeyframes(u,i){const o=i.currentAnimateTimings,a=i.currentTimeline.duration,c=o.duration,C=i.createSubContext().currentTimeline;C.easing=o.easing,u.styles.forEach($=>{C.forwardTime(($.offset||0)*c),C.setStyles($.styles,$.easing,i.errors,i.options),C.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(C),i.transformIntoNewTimeline(a+c),i.previousNode=u}visitQuery(u,i){const o=i.currentTimeline.currentTime,a=u.options||{},c=a.delay?hr(a.delay):0;c&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ai);let p=o;const C=i.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!a.optional,i.errors);i.currentQueryTotal=C.length;let $=null;C.forEach((ue,Ce)=>{i.currentQueryIndex=Ce;const je=i.createSubContext(u.options,ue);c&&je.delayNextStep(c),ue===i.element&&($=je.currentTimeline),jn(this,u.animation,je),je.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,je.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(p),$&&(i.currentTimeline.mergeTimelineCollectedStyles($),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=u}visitStagger(u,i){const o=i.parentContext,a=i.currentTimeline,c=u.timings,p=Math.abs(c.duration),C=p*(i.currentQueryTotal-1);let $=p*i.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":$=C-$;break;case"full":$=o.currentStaggerTime}const Ce=i.currentTimeline;$&&Ce.delayNextStep($);const je=Ce.currentTime;jn(this,u.animation,i),i.previousNode=u,o.currentStaggerTime=a.currentTime-je+(a.startTime-o.currentTimeline.startTime)}}const ai={};class Is{constructor(u,i,o,a,c,p,C,$){this._driver=u,this.element=i,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=c,this.errors=p,this.timelines=C,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ai,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=$||new Yi(this._driver,i,0),C.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,i){if(!u)return;const o=u;let a=this.options;null!=o.duration&&(a.duration=hr(o.duration)),null!=o.delay&&(a.delay=hr(o.delay));const c=o.params;if(c){let p=a.params;p||(p=this.options.params={}),Object.keys(c).forEach(C=>{(!i||!p.hasOwnProperty(C))&&(p[C]=bi(c[C],p,this.errors))})}}_copyOptions(){const u={};if(this.options){const i=this.options.params;if(i){const o=u.params={};Object.keys(i).forEach(a=>{o[a]=i[a]})}}return u}createSubContext(u=null,i,o){const a=i||this.element,c=new Is(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(u),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(u){return this.previousNode=ai,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,i,o){const a={duration:null!=i?i:u.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+u.delay,easing:""},c=new Ye(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,a,u.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,i,o,a,c,p){let C=[];if(a&&C.push(this.element),u.length>0){u=(u=u.replace(wt,"."+this._enterClassName)).replace(Uo,"."+this._leaveClassName);let ue=this._driver.query(this.element,u,1!=o);0!==o&&(ue=o<0?ue.slice(ue.length+o,ue.length):ue.slice(0,o)),C.push(...ue)}return!c&&0==C.length&&p.push(function xn(S){return new ie.vHH(3014,lt)}()),C}}class Yi{constructor(u,i,o,a){this._driver=u,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+u),i&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,i){return this.applyStylesToKeyframe(),new Yi(this._driver,u,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,i){this._localTimelineStyles[u]=i,this._globalTimelineStyles[u]=i,this._styleSummary[u]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&(this._previousKeyframe.easing=u),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||Ve,this._currentKeyframe[i]=Ve}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,i,o,a){i&&(this._previousKeyframe.easing=i);const c=a&&a.params||{},p=function $o(S,u){const i={};let o;return S.forEach(a=>{"*"===a?(o=o||Object.keys(u),o.forEach(c=>{i[c]=Ve})):fr(a,!1,i)}),i}(u,this._globalTimelineStyles);Object.keys(p).forEach(C=>{const $=bi(p[C],c,o);this._pendingStyles[C]=$,this._localTimelineStyles.hasOwnProperty(C)||(this._backFill[C]=this._globalTimelineStyles.hasOwnProperty(C)?this._globalTimelineStyles[C]:Ve),this._updateStyle(C,$)})}applyStylesToKeyframe(){const u=this._pendingStyles,i=Object.keys(u);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=u[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(u=>{const i=this._localTimelineStyles[u];this._pendingStyles[u]=i,this._updateStyle(u,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let i in this._currentKeyframe)u.push(i);return u}mergeTimelineCollectedStyles(u){Object.keys(u._styleSummary).forEach(i=>{const o=this._styleSummary[i],a=u._styleSummary[i];(!o||a.time>o.time)&&this._updateStyle(i,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((C,$)=>{const ue=fr(C,!0);Object.keys(ue).forEach(Ce=>{const je=ue[Ce];"!"==je?u.add(Ce):je==Ve&&i.add(Ce)}),o||(ue.offset=$/this.duration),a.push(ue)});const c=u.size?Qn(u.values()):[],p=i.size?Qn(i.values()):[];if(o){const C=a[0],$=Jr(C);C.offset=0,$.offset=1,a=[C,$]}return Ei(this.element,a,c,p,this.duration,this.startTime,this.easing,!1)}}class Ye extends Yi{constructor(u,i,o,a,c,p,C=!1){super(u,i,p.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=C,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:i,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&i){const c=[],p=o+i,C=i/p,$=fr(u[0],!1);$.offset=0,c.push($);const ue=fr(u[0],!1);ue.offset=Bt(C),c.push(ue);const Ce=u.length-1;for(let je=1;je<=Ce;je++){let rt=fr(u[je],!1);rt.offset=Bt((i+rt.offset*o)/p),c.push(rt)}o=p,i=0,a="",u=c}return Ei(this.element,u,this.preStyleProps,this.postStyleProps,o,i,a,!0)}}function Bt(S,u=3){const i=Math.pow(10,u-1);return Math.round(S*i)/i}class us{}class Er extends us{normalizePropertyName(u,i){return Ai(u)}normalizeStyleValue(u,i,o,a){let c="";const p=o.toString().trim();if(Rs[i]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const C=o.match(/^[+-]?[\d\.]+([a-z]*)$/);C&&0==C[1].length&&a.push(function Ut(S,u){return new ie.vHH(3005,lt)}())}return p+c}}const Rs=(()=>function li(S){const u={};return S.forEach(i=>u[i]=!0),u}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Go(S,u,i,o,a,c,p,C,$,ue,Ce,je,rt){return{type:0,element:S,triggerName:u,isRemovalTransition:a,fromState:i,fromStyles:c,toState:o,toStyles:p,timelines:C,queriedElements:$,preStyleProps:ue,postStyleProps:Ce,totalTime:je,errors:rt}}const Os={};class Ki{constructor(u,i,o){this._triggerName=u,this.ast=i,this._stateStyles=o}match(u,i,o,a){return function cs(S,u,i,o,a){return S.some(c=>c(u,i,o,a))}(this.ast.matchers,u,i,o,a)}buildStyles(u,i,o){const a=this._stateStyles["*"],c=this._stateStyles[u],p=a?a.buildStyles(i,o):{};return c?c.buildStyles(i,o):p}build(u,i,o,a,c,p,C,$,ue,Ce){const je=[],rt=this.ast.options&&this.ast.options.params||Os,it=this.buildStyles(o,C&&C.params||Os,je),at=$&&$.params||Os,Nt=this.buildStyles(a,at,je),Qt=new Set,ln=new Map,pn=new Map,Zt="void"===a,yr={params:Object.assign(Object.assign({},rt),at)},Ur=Ce?[]:xs(u,i,this.ast.animation,c,p,it,Nt,yr,ue,je);let Hn=0;if(Ur.forEach(Li=>{Hn=Math.max(Li.duration+Li.delay,Hn)}),je.length)return Go(i,this._triggerName,o,a,Zt,it,Nt,[],[],ln,pn,Hn,je);Ur.forEach(Li=>{const ci=Li.element,gn=yn(ln,ci,{});Li.preStyleProps.forEach(_s=>gn[_s]=!0);const Gs=yn(pn,ci,{});Li.postStyleProps.forEach(_s=>Gs[_s]=!0),ci!==i&&Qt.add(ci)});const ar=Qn(Qt.values());return Go(i,this._triggerName,o,a,Zt,it,Nt,Ur,ar,ln,pn,Hn)}}class Un{constructor(u,i,o){this.styles=u,this.defaultParams=i,this.normalizer=o}buildStyles(u,i){const o={},a=Jr(this.defaultParams);return Object.keys(u).forEach(c=>{const p=u[c];null!=p&&(a[c]=p)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const p=c;Object.keys(p).forEach(C=>{let $=p[C];$.length>1&&($=bi($,a,i));const ue=this.normalizer.normalizePropertyName(C,i);$=this.normalizer.normalizeStyleValue(C,ue,$,i),o[ue]=$})}}),o}}class Xs{constructor(u,i,o){this.name=u,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(a=>{this.states[a.name]=new Un(a.style,a.options&&a.options.params||{},o)}),Sr(this.states,"true","1"),Sr(this.states,"false","0"),i.transitions.forEach(a=>{this.transitionFactories.push(new Ki(u,a,this.states))}),this.fallbackTransition=function wi(S,u,i){return new Ki(S,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,C)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,i,o,a){return this.transitionFactories.find(p=>p.match(u,i,o,a))||null}matchStyles(u,i,o){return this.fallbackTransition.buildStyles(u,i,o)}}function Sr(S,u,i){S.hasOwnProperty(u)?S.hasOwnProperty(i)||(S[i]=S[u]):S.hasOwnProperty(i)&&(S[u]=S[i])}const Zs=new sr;class Js{constructor(u,i,o){this.bodyNode=u,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(u,i){const o=[],c=gt(this._driver,i,o,[]);if(o.length)throw function zn(S){return new ie.vHH(3503,lt)}();this._animations[u]=c}_buildPlayer(u,i,o){const a=u.element,c=hn(0,this._normalizer,0,u.keyframes,i,o);return this._driver.animate(a,c,u.duration,u.delay,u.easing,[],!0)}create(u,i,o={}){const a=[],c=this._animations[u];let p;const C=new Map;if(c?(p=xs(this._driver,i,c,yi,_i,{},{},o,Zs,a),p.forEach(Ce=>{const je=yn(C,Ce.element,{});Ce.postStyleProps.forEach(rt=>je[rt]=null)})):(a.push(function ii(){return new ie.vHH(3300,lt)}()),p=[]),a.length)throw function qr(S){return new ie.vHH(3504,lt)}();C.forEach((Ce,je)=>{Object.keys(Ce).forEach(rt=>{Ce[rt]=this._driver.computeStyle(je,rt,Ve)})});const ue=In(p.map(Ce=>{const je=C.get(Ce.element);return this._buildPlayer(Ce,{},je)}));return this._playersById[u]=ue,ue.onDestroy(()=>this.destroy(u)),this.players.push(ue),ue}destroy(u){const i=this._getPlayer(u);i.destroy(),delete this._playersById[u];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(u){const i=this._playersById[u];if(!i)throw function si(S){return new ie.vHH(3301,lt)}();return i}listen(u,i,o,a){const c=Kr(i,"","","");return cr(this._getPlayer(u),o,c,a),()=>{}}command(u,i,o,a){if("register"==o)return void this.register(u,a[0]);if("create"==o)return void this.create(u,i,a[0]||{});const c=this._getPlayer(u);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(u)}}}const eo="ng-animate-queued",Qi="ng-animate-disabled",no=[],ds={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qn="__ng_removed";class hs{constructor(u,i=""){this.namespaceId=i;const o=u&&u.hasOwnProperty("value");if(this.value=function ni(S){return null!=S?S:null}(o?u.value:u),o){const c=Jr(u);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const i=u.params;if(i){const o=this.options.params;Object.keys(i).forEach(a=>{null==o[a]&&(o[a]=i[a])})}}}const Di="void",fs=new hs(Di);class ps{constructor(u,i,o){this.id=u,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,or(i,this._hostClassName)}listen(u,i,o,a){if(!this._triggers.hasOwnProperty(i))throw function Pr(S,u){return new ie.vHH(3302,lt)}();if(null==o||0==o.length)throw function Yn(S){return new ie.vHH(3303,lt)}();if(!function Wo(S){return"start"==S||"done"==S}(o))throw function dn(S,u){return new ie.vHH(3400,lt)}();const c=yn(this._elementListeners,u,[]),p={name:i,phase:o,callback:a};c.push(p);const C=yn(this._engine.statesByElement,u,{});return C.hasOwnProperty(i)||(or(u,Cr),or(u,Cr+"-"+i),C[i]=fs),()=>{this._engine.afterFlush(()=>{const $=c.indexOf(p);$>=0&&c.splice($,1),this._triggers[i]||delete C[i]})}}register(u,i){return!this._triggers[u]&&(this._triggers[u]=i,!0)}_getTrigger(u){const i=this._triggers[u];if(!i)throw function Yr(S){return new ie.vHH(3401,lt)}();return i}trigger(u,i,o,a=!0){const c=this._getTrigger(i),p=new ks(this.id,i,u);let C=this._engine.statesByElement.get(u);C||(or(u,Cr),or(u,Cr+"-"+i),this._engine.statesByElement.set(u,C={}));let $=C[i];const ue=new hs(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&$&&ue.absorbOptions($.options),C[i]=ue,$||($=fs),ue.value!==Di&&$.value===ue.value){if(!function Bs(S,u){const i=Object.keys(S),o=Object.keys(u);if(i.length!=o.length)return!1;for(let a=0;a<i.length;a++){const c=i[a];if(!u.hasOwnProperty(c)||S[c]!==u[c])return!1}return!0}($.params,ue.params)){const at=[],Nt=c.matchStyles($.value,$.params,at),Qt=c.matchStyles(ue.value,ue.params,at);at.length?this._engine.reportError(at):this._engine.afterFlush(()=>{pr(u,Nt),Kn(u,Qt)})}return}const rt=yn(this._engine.playersByElement,u,[]);rt.forEach(at=>{at.namespaceId==this.id&&at.triggerName==i&&at.queued&&at.destroy()});let Qe=c.matchTransition($.value,ue.value,u,ue.params),it=!1;if(!Qe){if(!a)return;Qe=c.fallbackTransition,it=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:i,transition:Qe,fromState:$,toState:ue,player:p,isFallbackTransition:it}),it||(or(u,eo),p.onStart(()=>{Pi(u,eo)})),p.onDone(()=>{let at=this.players.indexOf(p);at>=0&&this.players.splice(at,1);const Nt=this._engine.playersByElement.get(u);if(Nt){let Qt=Nt.indexOf(p);Qt>=0&&Nt.splice(Qt,1)}}),this.players.push(p),rt.push(p),p}deregister(u){delete this._triggers[u],this._engine.statesByElement.forEach((i,o)=>{delete i[u]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(a=>a.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const i=this._engine.playersByElement.get(u);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,i){const o=this._engine.driver.query(u,qi,!0);o.forEach(a=>{if(a[qn])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(p=>p.triggerLeaveAnimation(a,i,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(u,i,o,a){const c=this._engine.statesByElement.get(u),p=new Map;if(c){const C=[];if(Object.keys(c).forEach($=>{if(p.set($,c[$].value),this._triggers[$]){const ue=this.trigger(u,$,Di,a);ue&&C.push(ue)}}),C.length)return this._engine.markElementAsRemoved(this.id,u,!0,i,p),o&&In(C).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const i=this._elementListeners.get(u),o=this._engine.statesByElement.get(u);if(i&&o){const a=new Set;i.forEach(c=>{const p=c.name;if(a.has(p))return;a.add(p);const $=this._triggers[p].fallbackTransition,ue=o[p]||fs,Ce=new hs(Di),je=new ks(this.id,p,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:p,transition:$,fromState:ue,toState:Ce,player:je,isFallbackTransition:!0})})}}removeNode(u,i){const o=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,i),this.triggerLeaveAnimation(u,i,!0))return;let a=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(u):[];if(c&&c.length)a=!0;else{let p=u;for(;p=p.parentNode;)if(o.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(u),a)o.markElementAsRemoved(this.id,u,!1,i);else{const c=u[qn];(!c||c===ds)&&(o.afterFlush(()=>this.clearElementCache(u)),o.destroyInnerAnimations(u),o._onRemovalComplete(u,i))}}insertNode(u,i){or(u,this._hostClassName)}drainQueuedTransitions(u){const i=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const c=o.element,p=this._elementListeners.get(c);p&&p.forEach(C=>{if(C.name==o.triggerName){const $=Kr(c,o.triggerName,o.fromState.value,o.toState.value);$._data=u,cr(o.player,C.phase,$,C.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):i.push(o)}),this._queue=[],i.sort((o,a)=>{const c=o.transition.ast.depCount,p=a.transition.ast.depCount;return 0==c||0==p?c-p:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(u){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let i=!1;return this._elementListeners.has(u)&&(i=!0),i=!!this._queue.find(o=>o.element===u)||i,i}}class ro{constructor(u,i,o){this.bodyNode=u,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(u,i){this.onRemovalComplete(u,i)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&u.push(o)})}),u}createNamespace(u,i){const o=new ps(u,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[u]=o}_balanceNamespaceList(u,i){const o=this._namespaceList,a=this.namespacesByHostElement,c=o.length-1;if(c>=0){let p=!1;if(void 0!==this.driver.getParentElement){let C=this.driver.getParentElement(i);for(;C;){const $=a.get(C);if($){const ue=o.indexOf($);o.splice(ue+1,0,u),p=!0;break}C=this.driver.getParentElement(C)}}else for(let C=c;C>=0;C--)if(this.driver.containsElement(o[C].hostElement,i)){o.splice(C+1,0,u),p=!0;break}p||o.unshift(u)}else o.push(u);return a.set(i,u),u}register(u,i){let o=this._namespaceLookup[u];return o||(o=this.createNamespace(u,i)),o}registerTrigger(u,i,o){let a=this._namespaceLookup[u];a&&a.register(i,o)&&this.totalAnimations++}destroy(u,i){if(!u)return;const o=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[u];const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const i=new Set,o=this.statesByElement.get(u);if(o){const a=Object.keys(o);for(let c=0;c<a.length;c++){const p=o[a[c]].namespaceId;if(p){const C=this._fetchNamespace(p);C&&i.add(C)}}}return i}trigger(u,i,o,a){if(nn(i)){const c=this._fetchNamespace(u);if(c)return c.trigger(i,o,a),!0}return!1}insertNode(u,i,o,a){if(!nn(i))return;const c=i[qn];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const p=this.collectedLeaveElements.indexOf(i);p>=0&&this.collectedLeaveElements.splice(p,1)}if(u){const p=this._fetchNamespace(u);p&&p.insertNode(i,o)}a&&this.collectEnterElement(i)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,i){i?this.disabledNodes.has(u)||(this.disabledNodes.add(u),or(u,Qi)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Pi(u,Qi))}removeNode(u,i,o,a){if(nn(i)){const c=u?this._fetchNamespace(u):null;if(c?c.removeNode(i,a):this.markElementAsRemoved(u,i,!1,a),o){const p=this.namespacesByHostElement.get(i);p&&p.id!==u&&p.removeNode(i,a)}}else this._onRemovalComplete(i,a)}markElementAsRemoved(u,i,o,a,c){this.collectedLeaveElements.push(i),i[qn]={namespaceId:u,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:c}}listen(u,i,o,a,c){return nn(i)?this._fetchNamespace(u).listen(i,o,a,c):()=>{}}_buildInstruction(u,i,o,a,c){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,o,a,u.fromState.options,u.toState.options,i,c)}destroyInnerAnimations(u){let i=this.driver.query(u,qi,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(u,rs,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(u){const i=this.playersByElement.get(u);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(u){const i=this.playersByQueriedElement.get(u);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return In(this.players).onDone(()=>u());u()})}processLeaveNode(u){var i;const o=u[qn];if(o&&o.setForRemoval){if(u[qn]=ds,o.namespaceId){this.destroyInnerAnimations(u);const a=this._fetchNamespace(o.namespaceId);a&&a.clearElementCache(u)}this._onRemovalComplete(u,o.setForRemoval)}(null===(i=u.classList)||void 0===i?void 0:i.contains(Qi))&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(u=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)or(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,u)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?In(i).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(u){throw function Nn(S){return new ie.vHH(3402,lt)}()}_flushAnimations(u,i){const o=new sr,a=[],c=new Map,p=[],C=new Map,$=new Map,ue=new Map,Ce=new Set;this.disabledNodes.forEach(pt=>{Ce.add(pt);const Ct=this.driver.query(pt,".ng-animate-queued",!0);for(let Dt=0;Dt<Ct.length;Dt++)Ce.add(Ct[Dt])});const je=this.bodyNode,rt=Array.from(this.statesByElement.keys()),Qe=io(rt,this.collectedEnterElements),it=new Map;let at=0;Qe.forEach((pt,Ct)=>{const Dt=yi+at++;it.set(Ct,Dt),pt.forEach(Vt=>or(Vt,Dt))});const Nt=[],Qt=new Set,ln=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Ct=this.collectedLeaveElements[pt],Dt=Ct[qn];Dt&&Dt.setForRemoval&&(Nt.push(Ct),Qt.add(Ct),Dt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(Vt=>Qt.add(Vt)):ln.add(Ct))}const pn=new Map,Zt=io(rt,Array.from(Qt));Zt.forEach((pt,Ct)=>{const Dt=_i+at++;pn.set(Ct,Dt),pt.forEach(Vt=>or(Vt,Dt))}),u.push(()=>{Qe.forEach((pt,Ct)=>{const Dt=it.get(Ct);pt.forEach(Vt=>Pi(Vt,Dt))}),Zt.forEach((pt,Ct)=>{const Dt=pn.get(Ct);pt.forEach(Vt=>Pi(Vt,Dt))}),Nt.forEach(pt=>{this.processLeaveNode(pt)})});const yr=[],Ur=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(i).forEach(Dt=>{const Vt=Dt.player,$n=Dt.element;if(yr.push(Vt),this.collectedEnterElements.length){const un=$n[qn];if(un&&un.setForMove){if(un.previousTriggersValues&&un.previousTriggersValues.has(Dt.triggerName)){const ki=un.previousTriggersValues.get(Dt.triggerName),Hr=this.statesByElement.get(Dt.element);Hr&&Hr[Dt.triggerName]&&(Hr[Dt.triggerName].value=ki)}return void Vt.destroy()}}const Jt=!je||!this.driver.containsElement(je,$n),Jn=pn.get($n),wr=it.get($n),bn=this._buildInstruction(Dt,o,wr,Jn,Jt);if(bn.errors&&bn.errors.length)return void Ur.push(bn);if(Jt)return Vt.onStart(()=>pr($n,bn.fromStyles)),Vt.onDestroy(()=>Kn($n,bn.toStyles)),void a.push(Vt);if(Dt.isFallbackTransition)return Vt.onStart(()=>pr($n,bn.fromStyles)),Vt.onDestroy(()=>Kn($n,bn.toStyles)),void a.push(Vt);const Ta=[];bn.timelines.forEach(un=>{un.stretchStartingKeyframe=!0,this.disabledNodes.has(un.element)||Ta.push(un)}),bn.timelines=Ta,o.append($n,bn.timelines),p.push({instruction:bn,player:Vt,element:$n}),bn.queriedElements.forEach(un=>yn(C,un,[]).push(Vt)),bn.preStyleProps.forEach((un,ki)=>{const Hr=Object.keys(un);if(Hr.length){let $r=$.get(ki);$r||$.set(ki,$r=new Set),Hr.forEach(ho=>$r.add(ho))}}),bn.postStyleProps.forEach((un,ki)=>{const Hr=Object.keys(un);let $r=ue.get(ki);$r||ue.set(ki,$r=new Set),Hr.forEach(ho=>$r.add(ho))})});if(Ur.length){const pt=[];Ur.forEach(Ct=>{pt.push(function Mt(S,u){return new ie.vHH(3505,lt)}())}),yr.forEach(Ct=>Ct.destroy()),this.reportError(pt)}const Hn=new Map,ar=new Map;p.forEach(pt=>{const Ct=pt.element;o.has(Ct)&&(ar.set(Ct,Ct),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Hn))}),a.forEach(pt=>{const Ct=pt.element;this._getPreviousPlayers(Ct,!1,pt.namespaceId,pt.triggerName,null).forEach(Vt=>{yn(Hn,Ct,[]).push(Vt),Vt.destroy()})});const Li=Nt.filter(pt=>On(pt,$,ue)),ci=new Map;Ns(ci,this.driver,ln,ue,Ve).forEach(pt=>{On(pt,$,ue)&&Li.push(pt)});const Gs=new Map;Qe.forEach((pt,Ct)=>{Ns(Gs,this.driver,new Set(pt),$,"!")}),Li.forEach(pt=>{const Ct=ci.get(pt),Dt=Gs.get(pt);ci.set(pt,Object.assign(Object.assign({},Ct),Dt))});const _s=[],ml=[],yl={};p.forEach(pt=>{const{element:Ct,player:Dt,instruction:Vt}=pt;if(o.has(Ct)){if(Ce.has(Ct))return Dt.onDestroy(()=>Kn(Ct,Vt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(Vt.totalTime),void a.push(Dt);let $n=yl;if(ar.size>1){let Jn=Ct;const wr=[];for(;Jn=Jn.parentNode;){const bn=ar.get(Jn);if(bn){$n=bn;break}wr.push(Jn)}wr.forEach(bn=>ar.set(bn,$n))}const Jt=this._buildAnimation(Dt.namespaceId,Vt,Hn,c,Gs,ci);if(Dt.setRealPlayer(Jt),$n===yl)_s.push(Dt);else{const Jn=this.playersByElement.get($n);Jn&&Jn.length&&(Dt.parentPlayer=In(Jn)),a.push(Dt)}}else pr(Ct,Vt.fromStyles),Dt.onDestroy(()=>Kn(Ct,Vt.toStyles)),ml.push(Dt),Ce.has(Ct)&&a.push(Dt)}),ml.forEach(pt=>{const Ct=c.get(pt.element);if(Ct&&Ct.length){const Dt=In(Ct);pt.setRealPlayer(Dt)}}),a.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<Nt.length;pt++){const Ct=Nt[pt],Dt=Ct[qn];if(Pi(Ct,_i),Dt&&Dt.hasAnimation)continue;let Vt=[];if(C.size){let Jt=C.get(Ct);Jt&&Jt.length&&Vt.push(...Jt);let Jn=this.driver.query(Ct,rs,!0);for(let wr=0;wr<Jn.length;wr++){let bn=C.get(Jn[wr]);bn&&bn.length&&Vt.push(...bn)}}const $n=Vt.filter(Jt=>!Jt.destroyed);$n.length?ms(this,Ct,$n):this.processLeaveNode(Ct)}return Nt.length=0,_s.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Ct=this.players.indexOf(pt);this.players.splice(Ct,1)}),pt.play()}),_s}elementContainsData(u,i){let o=!1;const a=i[qn];return a&&a.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(u).elementContainsData(i)||o}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,i,o,a,c){let p=[];if(i){const C=this.playersByQueriedElement.get(u);C&&(p=C)}else{const C=this.playersByElement.get(u);if(C){const $=!c||c==Di;C.forEach(ue=>{ue.queued||!$&&ue.triggerName!=a||p.push(ue)})}}return(o||a)&&(p=p.filter(C=>!(o&&o!=C.namespaceId||a&&a!=C.triggerName))),p}_beforeAnimationBuild(u,i,o){const c=i.element,p=i.isRemovalTransition?void 0:u,C=i.isRemovalTransition?void 0:i.triggerName;for(const $ of i.timelines){const ue=$.element,Ce=ue!==c,je=yn(o,ue,[]);this._getPreviousPlayers(ue,Ce,p,C,i.toState).forEach(Qe=>{const it=Qe.getRealPlayer();it.beforeDestroy&&it.beforeDestroy(),Qe.destroy(),je.push(Qe)})}pr(c,i.fromStyles)}_buildAnimation(u,i,o,a,c,p){const C=i.triggerName,$=i.element,ue=[],Ce=new Set,je=new Set,rt=i.timelines.map(it=>{const at=it.element;Ce.add(at);const Nt=at[qn];if(Nt&&Nt.removedBeforeQueried)return new Be(it.duration,it.delay);const Qt=at!==$,ln=function Zi(S){const u=[];return Ji(S,u),u}((o.get(at)||no).map(Hn=>Hn.getRealPlayer())).filter(Hn=>!!Hn.element&&Hn.element===at),pn=c.get(at),Zt=p.get(at),yr=hn(0,this._normalizer,0,it.keyframes,pn,Zt),Ur=this._buildPlayer(it,yr,ln);if(it.subTimeline&&a&&je.add(at),Qt){const Hn=new ks(u,C,at);Hn.setRealPlayer(Ur),ue.push(Hn)}return Ur});ue.forEach(it=>{yn(this.playersByQueriedElement,it.element,[]).push(it),it.onDone(()=>function Mn(S,u,i){let o;if(S instanceof Map){if(o=S.get(u),o){if(o.length){const a=o.indexOf(i);o.splice(a,1)}0==o.length&&S.delete(u)}}else if(o=S[u],o){if(o.length){const a=o.indexOf(i);o.splice(a,1)}0==o.length&&delete S[u]}return o}(this.playersByQueriedElement,it.element,it))}),Ce.forEach(it=>or(it,Es));const Qe=In(rt);return Qe.onDestroy(()=>{Ce.forEach(it=>Pi(it,Es)),Kn($,i.toStyles)}),je.forEach(it=>{yn(a,it,[]).push(Qe)}),Qe}_buildPlayer(u,i,o){return i.length>0?this.driver.animate(u.element,i,u.duration,u.delay,u.easing,o):new Be(u.duration,u.delay)}}class ks{constructor(u,i,o){this.namespaceId=u,this.triggerName=i,this.element=o,this._player=new Be,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>cr(u,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const i=this._player;i.triggerCallback&&u.onStart(()=>i.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,i){yn(this._queuedCallbacks,u,[]).push(i)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const i=this._player;i.triggerCallback&&i.triggerCallback(u)}}function nn(S){return S&&1===S.nodeType}function gs(S,u){const i=S.style.display;return S.style.display=null!=u?u:"none",i}function Ns(S,u,i,o,a){const c=[];i.forEach($=>c.push(gs($)));const p=[];o.forEach(($,ue)=>{const Ce={};$.forEach(je=>{const rt=Ce[je]=u.computeStyle(ue,je,a);(!rt||0==rt.length)&&(ue[qn]=Xi,p.push(ue))}),S.set(ue,Ce)});let C=0;return i.forEach($=>gs($,c[C++])),p}function io(S,u){const i=new Map;if(S.forEach(C=>i.set(C,[])),0==u.length)return i;const a=new Set(u),c=new Map;function p(C){if(!C)return 1;let $=c.get(C);if($)return $;const ue=C.parentNode;return $=i.has(ue)?ue:a.has(ue)?1:p(ue),c.set(C,$),$}return u.forEach(C=>{const $=p(C);1!==$&&i.get($).push(C)}),i}function or(S,u){var i;null===(i=S.classList)||void 0===i||i.add(u)}function Pi(S,u){var i;null===(i=S.classList)||void 0===i||i.remove(u)}function ms(S,u,i){In(i).onDone(()=>S.processLeaveNode(u))}function Ji(S,u){for(let i=0;i<S.length;i++){const o=S[i];o instanceof ft?Ji(o.players,u):u.push(o)}}function On(S,u,i){const o=i.get(S);if(!o)return!1;let a=u.get(S);return a?o.forEach(c=>a.add(c)):u.set(S,o),i.delete(S),!0}class ys{constructor(u,i,o){this.bodyNode=u,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new ro(u,i,o),this._timelineEngine=new Js(u,i,o),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(u,i,o,a,c){const p=u+"-"+a;let C=this._triggerCache[p];if(!C){const $=[],Ce=gt(this._driver,c,$,[]);if($.length)throw function nr(S,u){return new ie.vHH(3404,lt)}();C=function Nr(S,u,i){return new Xs(S,u,i)}(a,Ce,this._normalizer),this._triggerCache[p]=C}this._transitionEngine.registerTrigger(i,a,C)}register(u,i){this._transitionEngine.register(u,i)}destroy(u,i){this._transitionEngine.destroy(u,i)}onInsert(u,i,o,a){this._transitionEngine.insertNode(u,i,o,a)}onRemove(u,i,o,a){this._transitionEngine.removeNode(u,i,a||!1,o)}disableAnimations(u,i){this._transitionEngine.markElementAsDisabled(u,i)}process(u,i,o,a){if("@"==o.charAt(0)){const[c,p]=Tt(o);this._timelineEngine.command(c,i,p,a)}else this._transitionEngine.trigger(u,i,o,a)}listen(u,i,o,a,c){if("@"==o.charAt(0)){const[p,C]=Tt(o);return this._timelineEngine.listen(p,i,C,c)}return this._transitionEngine.listen(u,i,o,a,c)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ui=(()=>{class S{constructor(i,o,a){this._element=i,this._startStyles=o,this._endStyles=a,this._state=0;let c=S.initialStylesByElement.get(i);c||S.initialStylesByElement.set(i,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Kn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kn(this._element,this._initialStyles),this._endStyles&&(Kn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(S.initialStylesByElement.delete(this._element),this._startStyles&&(pr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pr(this._element,this._endStyles),this._endStyles=null),Kn(this._element,this._initialStyles),this._state=3)}}return S.initialStylesByElement=new WeakMap,S})();function Ti(S){let u=null;const i=Object.keys(S);for(let o=0;o<i.length;o++){const a=i[o];Mi(a)&&(u=u||{},u[a]=S[a])}return u}function Mi(S){return"display"===S||"position"===S}class xi{constructor(u,i,o,a){this.element=u,this.keyframes=i,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(u,i,o){return u.animate(i,o)}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u={};if(this.hasStarted()){const i=this._finalKeyframe;Object.keys(i).forEach(o=>{"offset"!=o&&(u[o]=this._finished?i[o]:mr(this.element,o))})}this.currentSnapshot=u}triggerCallback(u){const i="start"==u?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class Vs{validateStyleProperty(u){return Ht(u)}matchesElement(u,i){return!1}containsElement(u,i){return Qr(u,i)}getParentElement(u){return rr(u)}query(u,i,o){return sn(u,i,o)}computeStyle(u,i,o){return window.getComputedStyle(u)[i]}animate(u,i,o,a,c,p=[]){const $={duration:o,delay:a,fill:0==a?"both":"forwards"};c&&($.easing=c);const ue={},Ce=p.filter(rt=>rt instanceof xi);(function as(S,u){return 0===S||0===u})(o,a)&&Ce.forEach(rt=>{let Qe=rt.currentSnapshot;Object.keys(Qe).forEach(it=>ue[it]=Qe[it])}),i=function Rr(S,u,i){const o=Object.keys(i);if(o.length&&u.length){let c=u[0],p=[];if(o.forEach(C=>{c.hasOwnProperty(C)||p.push(C),c[C]=i[C]}),p.length)for(var a=1;a<u.length;a++){let C=u[a];p.forEach(function($){C[$]=mr(S,$)})}}return u}(u,i=i.map(rt=>fr(rt,!1)),ue);const je=function Br(S,u){let i=null,o=null;return Array.isArray(u)&&u.length?(i=Ti(u[0]),u.length>1&&(o=Ti(u[u.length-1]))):u&&(i=Ti(u)),i||o?new ui(S,i,o):null}(u,i);return new xi(u,i,$,je)}}let so=(()=>{class S extends Ae{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:ie.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(i)?_t(i):i;return oo(this._renderer,null,o,"register",[a]),new qo(o,this._renderer)}}return S.\u0275fac=function(i){return new(i||S)(ie.LFG(ie.FYo),ie.LFG(ge.K0))},S.\u0275prov=ie.Yz7({token:S,factory:S.\u0275fac}),S})();class qo extends class Me{}{constructor(u,i){super(),this._id=u,this._renderer=i}create(u,i){return new Yo(this._id,u,i||{},this._renderer)}}class Yo{constructor(u,i,o,a){this.id=u,this.element=i,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(u,i){return this._renderer.listen(this.element,`@@${this.id}:${u}`,i)}_command(u,...i){return oo(this._renderer,this.element,this.id,u,i)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){var u,i;return null!==(i=null===(u=this._renderer.engine.players[+this.id])||void 0===u?void 0:u.getPosition())&&void 0!==i?i:0}}function oo(S,u,i,o,a){return S.setProperty(u,`@@${i}:${o}`,a)}const ao="@.disabled";let jr=(()=>{class S{constructor(i,o,a){this.delegate=i,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,p)=>{const C=null==p?void 0:p.parentNode(c);C&&p.removeChild(C,c)}}createRenderer(i,o){const c=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let Ce=this._rendererCache.get(c);return Ce||(Ce=new Ii("",c,this.engine),this._rendererCache.set(c,Ce)),Ce}const p=o.id,C=o.id+"-"+this._currentId;this._currentId++,this.engine.register(C,i);const $=Ce=>{Array.isArray(Ce)?Ce.forEach($):this.engine.registerTrigger(p,C,i,Ce.name,Ce)};return o.data.animation.forEach($),new lo(this,C,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,a){i>=0&&i<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[p,C]=c;p(C)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return S.\u0275fac=function(i){return new(i||S)(ie.LFG(ie.FYo),ie.LFG(ys),ie.LFG(ie.R0b))},S.\u0275prov=ie.Yz7({token:S,factory:S.\u0275fac}),S})();class Ii{constructor(u,i,o){this.namespaceId=u,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?a=>i.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(u,i){return this.delegate.createElement(u,i)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,i){this.delegate.appendChild(u,i),this.engine.onInsert(this.namespaceId,i,u,!1)}insertBefore(u,i,o,a=!0){this.delegate.insertBefore(u,i,o),this.engine.onInsert(this.namespaceId,i,u,a)}removeChild(u,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(u,i){return this.delegate.selectRootElement(u,i)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,i,o,a){this.delegate.setAttribute(u,i,o,a)}removeAttribute(u,i,o){this.delegate.removeAttribute(u,i,o)}addClass(u,i){this.delegate.addClass(u,i)}removeClass(u,i){this.delegate.removeClass(u,i)}setStyle(u,i,o,a){this.delegate.setStyle(u,i,o,a)}removeStyle(u,i,o){this.delegate.removeStyle(u,i,o)}setProperty(u,i,o){"@"==i.charAt(0)&&i==ao?this.disableAnimations(u,!!o):this.delegate.setProperty(u,i,o)}setValue(u,i){this.delegate.setValue(u,i)}listen(u,i,o){return this.delegate.listen(u,i,o)}disableAnimations(u,i){this.engine.disableAnimations(u,i)}}class lo extends Ii{constructor(u,i,o,a){super(i,o,a),this.factory=u,this.namespaceId=i}setProperty(u,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==ao?this.disableAnimations(u,o=void 0===o||!!o):this.engine.process(this.namespaceId,u,i.substr(1),o):this.delegate.setProperty(u,i,o)}listen(u,i,o){if("@"==i.charAt(0)){const a=function uo(S){switch(S){case"body":return document.body;case"document":return document;case"window":return window;default:return S}}(u);let c=i.substr(1),p="";return"@"!=c.charAt(0)&&([c,p]=function Ri(S){const u=S.indexOf(".");return[S.substring(0,u),S.substr(u+1)]}(c)),this.engine.listen(this.namespaceId,a,c,p,C=>{this.factory.scheduleListenerCallback(C._data||-1,o,C)})}return this.delegate.listen(u,i,o)}}let Ko=(()=>{class S extends ys{constructor(i,o,a){super(i.body,o,a)}ngOnDestroy(){this.flush()}}return S.\u0275fac=function(i){return new(i||S)(ie.LFG(ge.K0),ie.LFG(Ir),ie.LFG(us))},S.\u0275prov=ie.Yz7({token:S,factory:S.\u0275fac}),S})();const Fi=new ie.OlP("AnimationModuleType"),Qo=[{provide:Ae,useClass:so},{provide:us,useFactory:function Oi(){return new Er}},{provide:ys,useClass:Ko},{provide:ie.FYo,useFactory:function js(S,u,i){return new jr(S,u,i)},deps:[h.se,ys,ie.R0b]}],Us=[{provide:Ir,useFactory:()=>new Vs},{provide:Fi,useValue:"BrowserAnimations"},...Qo],co=[{provide:Ir,useClass:xr},{provide:Fi,useValue:"NoopAnimations"},...Qo];let Hs=(()=>{class S{static withConfig(i){return{ngModule:S,providers:i.disableAnimations?co:Us}}}return S.\u0275fac=function(i){return new(i||S)},S.\u0275mod=ie.oAB({type:S}),S.\u0275inj=ie.cJS({providers:Us,imports:[h.b2]}),S})(),es=(()=>{class S{}return S.\u0275fac=function(i){return new(i||S)},S.\u0275mod=ie.oAB({type:S,bootstrap:[xe]}),S.\u0275inj=ie.cJS({providers:[],imports:[[Fe,h.b2,fe,Hs,Ze.tetrisSharedModule.forRoot()]]}),S})();(0,ie.G48)(),h.q6().bootstrapModule(es).catch(S=>console.error(S))},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,le;le=function(){return(()=>{"use strict";var __webpack_modules__=[,(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.VerbosityLevel=ne.Util=ne.UnknownErrorException=ne.UnexpectedResponseException=ne.UNSUPPORTED_FEATURES=ne.TextRenderingMode=ne.StreamType=ne.RenderingIntentFlag=ne.PermissionFlag=ne.PasswordResponses=ne.PasswordException=ne.PageActionEventType=ne.OPS=ne.MissingPDFException=ne.IsLittleEndianCached=ne.IsEvalSupportedCached=ne.InvalidPDFException=ne.ImageKind=ne.IDENTITY_MATRIX=ne.FormatError=ne.FontType=ne.FONT_IDENTITY_MATRIX=ne.DocumentActionEventType=ne.CMapCompressionType=ne.BaseException=ne.AnnotationType=ne.AnnotationStateModelType=ne.AnnotationReviewState=ne.AnnotationReplyType=ne.AnnotationMode=ne.AnnotationMarkedState=ne.AnnotationFlag=ne.AnnotationFieldFlag=ne.AnnotationBorderStyleType=ne.AnnotationActionEventType=ne.AbortException=void 0,ne.arrayByteLength=Ie,ne.arraysToBytes=function Fe(ke){const Te=ke.length;if(1===Te&&ke[0]instanceof Uint8Array)return ke[0];let Re=0;for(let ct=0;ct<Te;ct++)Re+=Ie(ke[ct]);let Be=0;const ft=new Uint8Array(Re);for(let ct=0;ct<Te;ct++){let lt=ke[ct];lt instanceof Uint8Array||(lt="string"==typeof lt?De(lt):new Uint8Array(lt));const qt=lt.byteLength;ft.set(lt,Be),Be+=qt}return ft},ne.assert=function re(ke,Te){ke||q(Te)},ne.bytesToString=function we(ke){("object"!=typeof ke||null===ke||void 0===ke.length)&&q("Invalid argument for bytesToString");const Te=ke.length;if(Te<8192)return String.fromCharCode.apply(null,ke);const Be=[];for(let ft=0;ft<Te;ft+=8192){const ct=Math.min(ft+8192,Te),lt=ke.subarray(ft,ct);Be.push(String.fromCharCode.apply(null,lt))}return Be.join("")},ne.createPromiseCapability=function Lt(){const ke=Object.create(null);let Te=!1;return Object.defineProperty(ke,"settled",{get:()=>Te}),ke.promise=new Promise(function(Re,Be){ke.resolve=function(ft){Te=!0,Re(ft)},ke.reject=function(ft){Te=!0,Be(ft)}}),ke},ne.createValidAbsoluteUrl=function w(ke,Te=null,Re=null){if(!ke)return null;try{if(Re&&"string"==typeof ke){if(Re.addDefaultProtocol&&ke.startsWith("www.")){const ft=ke.match(/\./g);ft&&ft.length>=2&&(ke=`http://${ke}`)}if(Re.tryConvertEncoding)try{ke=yt(ke)}catch(ft){}}const Be=Te?new URL(ke,Te):new URL(ke);if(function M(ke){if(!ke)return!1;switch(ke.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Be))return Be}catch(Be){}return null},ne.escapeString=function mt(ke){return ke.replace(/([()\\\n\r])/g,Te=>"\n"===Te?"\\n":"\r"===Te?"\\r":`\\${Te}`)},ne.getModificationDate=function cn(ke=new Date){return[ke.getUTCFullYear().toString(),(ke.getUTCMonth()+1).toString().padStart(2,"0"),ke.getUTCDate().toString().padStart(2,"0"),ke.getUTCHours().toString().padStart(2,"0"),ke.getUTCMinutes().toString().padStart(2,"0"),ke.getUTCSeconds().toString().padStart(2,"0")].join("")},ne.getVerbosityLevel=function F(){return Y},ne.info=function U(ke){Y>=R.INFOS&&console.log(`Info: ${ke}`)},ne.isArrayBuffer=function nt(ke){return"object"==typeof ke&&null!==ke&&void 0!==ke.byteLength},ne.isArrayEqual=function Ft(ke,Te){if(ke.length!==Te.length)return!1;for(let Re=0,Be=ke.length;Re<Be;Re++)if(ke[Re]!==Te[Re])return!1;return!0},ne.isAscii=function _t(ke){return/^[\x00-\x7F]*$/.test(ke)},ne.isSameOrigin=function k(ke,Te){let Re;try{if(Re=new URL(ke),!Re.origin||"null"===Re.origin)return!1}catch(ft){return!1}const Be=new URL(Te,Re);return Re.origin===Be.origin},ne.objectFromMap=function Ze(ke){const Te=Object.create(null);for(const[Re,Be]of ke)Te[Re]=Be;return Te},ne.objectSize=function He(ke){return Object.keys(ke).length},ne.setVerbosityLevel=function te(ke){Number.isInteger(ke)&&(Y=ke)},ne.shadow=z,ne.string32=function ze(ke){return String.fromCharCode(ke>>24&255,ke>>16&255,ke>>8&255,255&ke)},ne.stringToBytes=De,ne.stringToPDFString=function Je(ke){if(ke[0]>="\xef"){let Re;if("\xfe"===ke[0]&&"\xff"===ke[1]?Re="utf-16be":"\xff"===ke[0]&&"\xfe"===ke[1]?Re="utf-16le":"\xef"===ke[0]&&"\xbb"===ke[1]&&"\xbf"===ke[2]&&(Re="utf-8"),Re)try{const Be=new TextDecoder(Re,{fatal:!0}),ft=De(ke);return Be.decode(ft)}catch(Be){J(`stringToPDFString: "${Be}".`)}}const Te=[];for(let Re=0,Be=ke.length;Re<Be;Re++){const ft=Xe[ke.charCodeAt(Re)];Te.push(ft?String.fromCharCode(ft):ke.charAt(Re))}return Te.join("")},ne.stringToUTF16BEString=function et(ke){const Te=["\xfe\xff"];for(let Re=0,Be=ke.length;Re<Be;Re++){const ft=ke.charCodeAt(Re);Te.push(String.fromCharCode(ft>>8&255),String.fromCharCode(255&ft))}return Te.join("")},ne.stringToUTF8String=yt,ne.unreachable=q,ne.utf8StringToString=function ut(ke){return unescape(encodeURIComponent(ke))},ne.warn=J,le(2),ne.IDENTITY_MATRIX=[1,0,0,1,0,0],ne.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],ne.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ne.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ne.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ne.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ne.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ne.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ne.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},ne.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},ne.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},ne.AnnotationReplyType={GROUP:"Group",REPLY:"R"},ne.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},ne.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},ne.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ne.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},ne.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},ne.PageActionEventType={O:"PageOpen",C:"PageClose"},ne.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},ne.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const R={ERRORS:0,WARNINGS:1,INFOS:5};ne.VerbosityLevel=R,ne.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},ne.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ne.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},ne.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Y=R.WARNINGS;function J(ke){Y>=R.WARNINGS&&console.log(`Warning: ${ke}`)}function q(ke){throw new Error(ke)}function z(ke,Te,Re){return Object.defineProperty(ke,Te,{value:Re,enumerable:!0,configurable:!0,writable:!1}),Re}const V=function(){function Te(Re,Be){this.constructor===Te&&q("Cannot initialize BaseException."),this.message=Re,this.name=Be}return Te.prototype=new Error,Te.constructor=Te,Te}();function De(ke){"string"!=typeof ke&&q("Invalid argument for stringToBytes");const Te=ke.length,Re=new Uint8Array(Te);for(let Be=0;Be<Te;++Be)Re[Be]=255&ke.charCodeAt(Be);return Re}function Ie(ke){return void 0!==ke.length?ke.length:void 0!==ke.byteLength?ke.byteLength:void q("Invalid argument for arrayByteLength")}ne.BaseException=V,ne.PasswordException=class ae extends V{constructor(Te,Re){super(Te,"PasswordException"),this.code=Re}},ne.UnknownErrorException=class A extends V{constructor(Te,Re){super(Te,"UnknownErrorException"),this.details=Re}},ne.InvalidPDFException=class K extends V{constructor(Te){super(Te,"InvalidPDFException")}},ne.MissingPDFException=class ee extends V{constructor(Te){super(Te,"MissingPDFException")}},ne.UnexpectedResponseException=class me extends V{constructor(Te,Re){super(Te,"UnexpectedResponseException"),this.status=Re}},ne.FormatError=class G extends V{constructor(Te){super(Te,"FormatError")}},ne.AbortException=class _e extends V{constructor(Te){super(Te,"AbortException")}},ne.IsLittleEndianCached={get value(){return z(this,"value",function N(){const ke=new Uint8Array(4);return ke[0]=1,1===new Uint32Array(ke.buffer,0,1)[0]}())}},ne.IsEvalSupportedCached={get value(){return z(this,"value",function xe(){try{return new Function(""),!0}catch(ke){return!1}}())}};const Me=[...Array(256).keys()].map(ke=>ke.toString(16).padStart(2,"0"));class Ve{static makeHexColor(Te,Re,Be){return`#${Me[Te]}${Me[Re]}${Me[Be]}`}static transform(Te,Re){return[Te[0]*Re[0]+Te[2]*Re[1],Te[1]*Re[0]+Te[3]*Re[1],Te[0]*Re[2]+Te[2]*Re[3],Te[1]*Re[2]+Te[3]*Re[3],Te[0]*Re[4]+Te[2]*Re[5]+Te[4],Te[1]*Re[4]+Te[3]*Re[5]+Te[5]]}static applyTransform(Te,Re){return[Te[0]*Re[0]+Te[1]*Re[2]+Re[4],Te[0]*Re[1]+Te[1]*Re[3]+Re[5]]}static applyInverseTransform(Te,Re){const Be=Re[0]*Re[3]-Re[1]*Re[2];return[(Te[0]*Re[3]-Te[1]*Re[2]+Re[2]*Re[5]-Re[4]*Re[3])/Be,(-Te[0]*Re[1]+Te[1]*Re[0]+Re[4]*Re[1]-Re[5]*Re[0])/Be]}static getAxialAlignedBoundingBox(Te,Re){const Be=Ve.applyTransform(Te,Re),ft=Ve.applyTransform(Te.slice(2,4),Re),ct=Ve.applyTransform([Te[0],Te[3]],Re),lt=Ve.applyTransform([Te[2],Te[1]],Re);return[Math.min(Be[0],ft[0],ct[0],lt[0]),Math.min(Be[1],ft[1],ct[1],lt[1]),Math.max(Be[0],ft[0],ct[0],lt[0]),Math.max(Be[1],ft[1],ct[1],lt[1])]}static inverseTransform(Te){const Re=Te[0]*Te[3]-Te[1]*Te[2];return[Te[3]/Re,-Te[1]/Re,-Te[2]/Re,Te[0]/Re,(Te[2]*Te[5]-Te[4]*Te[3])/Re,(Te[4]*Te[1]-Te[5]*Te[0])/Re]}static apply3dTransform(Te,Re){return[Te[0]*Re[0]+Te[1]*Re[1]+Te[2]*Re[2],Te[3]*Re[0]+Te[4]*Re[1]+Te[5]*Re[2],Te[6]*Re[0]+Te[7]*Re[1]+Te[8]*Re[2]]}static singularValueDecompose2dScale(Te){const Re=[Te[0],Te[2],Te[1],Te[3]],Be=Te[0]*Re[0]+Te[1]*Re[2],lt=Te[2]*Re[1]+Te[3]*Re[3],qt=(Be+lt)/2,Rt=Math.sqrt((Be+lt)**2-4*(Be*lt-(Te[2]*Re[0]+Te[3]*Re[2])*(Te[0]*Re[1]+Te[1]*Re[3])))/2,mn=qt-Rt||1;return[Math.sqrt(qt+Rt||1),Math.sqrt(mn)]}static normalizeRect(Te){const Re=Te.slice(0);return Te[0]>Te[2]&&(Re[0]=Te[2],Re[2]=Te[0]),Te[1]>Te[3]&&(Re[1]=Te[3],Re[3]=Te[1]),Re}static intersect(Te,Re){function Be(qt,Rt){return qt-Rt}const ft=[Te[0],Te[2],Re[0],Re[2]].sort(Be),ct=[Te[1],Te[3],Re[1],Re[3]].sort(Be),lt=[];return Te=Ve.normalizeRect(Te),Re=Ve.normalizeRect(Re),ft[0]===Te[0]&&ft[1]===Re[0]||ft[0]===Re[0]&&ft[1]===Te[0]?(lt[0]=ft[1],lt[2]=ft[2],ct[0]===Te[1]&&ct[1]===Re[1]||ct[0]===Re[1]&&ct[1]===Te[1]?(lt[1]=ct[1],lt[3]=ct[2],lt):null):null}static bezierBoundingBox(Te,Re,Be,ft,ct,lt,qt,Rt){const Cn=[],mn=[[],[]];let zt,Pt,En,Ut,br,Wt,tn,Le;for(let qe=0;qe<2;++qe)if(0===qe?(Pt=6*Te-12*Be+6*ct,zt=-3*Te+9*Be-9*ct+3*qt,En=3*Be-3*Te):(Pt=6*Re-12*ft+6*lt,zt=-3*Re+9*ft-9*lt+3*Rt,En=3*ft-3*Re),Math.abs(zt)<1e-12){if(Math.abs(Pt)<1e-12)continue;Ut=-En/Pt,0<Ut&&Ut<1&&Cn.push(Ut)}else tn=Pt*Pt-4*En*zt,Le=Math.sqrt(tn),!(tn<0)&&(br=(-Pt+Le)/(2*zt),0<br&&br<1&&Cn.push(br),Wt=(-Pt-Le)/(2*zt),0<Wt&&Wt<1&&Cn.push(Wt));let ve,Pe=Cn.length;const Ne=Pe;for(;Pe--;)Ut=Cn[Pe],ve=1-Ut,mn[0][Pe]=ve*ve*ve*Te+3*ve*ve*Ut*Be+3*ve*Ut*Ut*ct+Ut*Ut*Ut*qt,mn[1][Pe]=ve*ve*ve*Re+3*ve*ve*Ut*ft+3*ve*Ut*Ut*lt+Ut*Ut*Ut*Rt;return mn[0][Ne]=Te,mn[1][Ne]=Re,mn[0][Ne+1]=qt,mn[1][Ne+1]=Rt,mn[0].length=mn[1].length=Ne+2,[Math.min(...mn[0]),Math.min(...mn[1]),Math.max(...mn[0]),Math.max(...mn[1])]}}ne.Util=Ve;const Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function yt(ke){return decodeURIComponent(escape(ke))}},(Ue,ne,le)=>{le(3)},(Ue,ne)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.isNodeJS=void 0;const le=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);ne.isNodeJS=le},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ue,ne,le,h,ie,ge,be,Bg;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(se){createPDFNetworkStream=se}function getDocument(se){const f=new PDFDocumentLoadingTask;let T;if("string"==typeof se||se instanceof URL)T={url:se};else if((0,_util.isArrayBuffer)(se))T={data:se};else if(se instanceof PDFDataRangeTransport)T={range:se};else{if("object"!=typeof se)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!se.url&&!se.data&&!se.range)throw new Error("Invalid parameter object: need either .data, .range or .url");T=se}const y=Object.create(null);let E=null,D=null;for(const I in T){const _=T[I];switch(I){case"url":if("undefined"!=typeof window)try{y[I]=new URL(_,window.location).href;continue}catch(W){(0,_util.warn)(`Cannot create valid URL: "${W}".`)}else if("string"==typeof _||_ instanceof URL){y[I]=_.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":E=_;continue;case"worker":D=_;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&_ instanceof Buffer)y[I]=new Uint8Array(_);else{if(_ instanceof Uint8Array)break;if("string"==typeof _)y[I]=(0,_util.stringToBytes)(_);else if("object"!=typeof _||null===_||isNaN(_.length)){if(!(0,_util.isArrayBuffer)(_))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");y[I]=new Uint8Array(_)}else y[I]=new Uint8Array(_)}continue}y[I]=_}if(y.rangeChunkSize=y.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,y.CMapReaderFactory=y.CMapReaderFactory||DefaultCMapReaderFactory,y.StandardFontDataFactory=y.StandardFontDataFactory||DefaultStandardFontDataFactory,y.ignoreErrors=!0!==y.stopAtErrors,y.fontExtraProperties=!0===y.fontExtraProperties,y.pdfBug=!0===y.pdfBug,y.enableXfa=!0===y.enableXfa,("string"!=typeof y.docBaseUrl||(0,_display_utils.isDataScheme)(y.docBaseUrl))&&(y.docBaseUrl=null),Number.isInteger(y.maxImageSize)||(y.maxImageSize=-1),"boolean"!=typeof y.useWorkerFetch&&(y.useWorkerFetch=y.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&y.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof y.isEvalSupported&&(y.isEvalSupported=!0),"boolean"!=typeof y.disableFontFace&&(y.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof y.useSystemFonts&&(y.useSystemFonts=!_is_node.isNodeJS&&!y.disableFontFace),void 0===y.ownerDocument&&(y.ownerDocument=globalThis.document),"boolean"!=typeof y.disableRange&&(y.disableRange=!1),"boolean"!=typeof y.disableStream&&(y.disableStream=!1),"boolean"!=typeof y.disableAutoFetch&&(y.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(y.verbosity),!D){const I={verbosity:y.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};D=I.port?_PDFWorker.fromPort(I):new _PDFWorker(I),f._worker=D}const Z=f.docId;return D.promise.then(function(){if(f.destroyed)throw new Error("Loading aborted");const I=_fetchDocument(D,y,E,Z),_=new Promise(function(W){let de;E?de=new _transport_stream.PDFDataTransportStream({length:y.length,initialData:y.initialData,progressiveDone:y.progressiveDone,contentDispositionFilename:y.contentDispositionFilename,disableRange:y.disableRange,disableStream:y.disableStream},E):y.data||(de=createPDFNetworkStream({url:y.url,length:y.length,httpHeaders:y.httpHeaders,withCredentials:y.withCredentials,rangeChunkSize:y.rangeChunkSize,disableRange:y.disableRange,disableStream:y.disableStream})),W(de)});return Promise.all([I,_]).then(function([W,de]){if(f.destroyed)throw new Error("Loading aborted");const B=new _message_handler.MessageHandler(Z,W,D.port),H=new WorkerTransport(B,f,de,y);f._transport=H,B.send("Ready",null)})}).catch(f._capability.reject),f}function _fetchDocument(se,f,T,y){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(se,f,T,y){if(se.destroyed)throw new Error("Worker was destroyed");T&&(f.length=T.length,f.initialData=T.initialData,f.progressiveDone=T.progressiveDone,f.contentDispositionFilename=T.contentDispositionFilename);const E=yield se.messageHandler.sendWithPromise("GetDocRequest",{docId:y,apiVersion:"2.13.216",source:{data:f.data,url:f.url,password:f.password,disableAutoFetch:f.disableAutoFetch,rangeChunkSize:f.rangeChunkSize,length:f.length},maxImageSize:f.maxImageSize,disableFontFace:f.disableFontFace,docBaseUrl:f.docBaseUrl,ignoreErrors:f.ignoreErrors,isEvalSupported:f.isEvalSupported,fontExtraProperties:f.fontExtraProperties,enableXfa:f.enableXfa,useSystemFonts:f.useSystemFonts,cMapUrl:f.useWorkerFetch?f.cMapUrl:null,standardFontDataUrl:f.useWorkerFetch?f.standardFontDataUrl:null});if(se.destroyed)throw new Error("Worker was destroyed");return E})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var f=this;return _asyncToGenerator(function*(){var T;f.destroyed=!0,yield null==(T=f._transport)?void 0:T.destroy(),f._transport=null,f._worker&&(f._worker.destroy(),f._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(f,T,y=!1,E=null){this.length=f,this.initialData=T,this.progressiveDone=y,this.contentDispositionFilename=E,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(f){this._rangeListeners.push(f)}addProgressListener(f){this._progressListeners.push(f)}addProgressiveReadListener(f){this._progressiveReadListeners.push(f)}addProgressiveDoneListener(f){this._progressiveDoneListeners.push(f)}onDataRange(f,T){for(const y of this._rangeListeners)y(f,T)}onDataProgress(f,T){this._readyCapability.promise.then(()=>{for(const y of this._progressListeners)y(f,T)})}onDataProgressiveRead(f){this._readyCapability.promise.then(()=>{for(const T of this._progressiveReadListeners)T(f)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const f of this._progressiveDoneListeners)f()})}transportReady(){this._readyCapability.resolve()}requestDataRange(f,T){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(f,T){var E,y=this;this._pdfInfo=f,this._transport=T,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(E=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),y.stats||{streamTypes:{},fontTypes:{}}}),function(){return E.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(f){return this._transport.getPage(f)}getPageIndex(f){return this._transport.getPageIndex(f)}getDestinations(){return this._transport.getDestinations()}getDestination(f){return this._transport.getDestination(f)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(f=!1){return this._transport.startCleanup(f||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(f,T,y,E,D=!1){this._pageIndex=f,this._pageInfo=T,this._ownerDocument=E,this._transport=y,this._stats=D?new _display_utils.StatTimer:null,this._pdfBug=D,this.commonObjs=y.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:f,rotation:T=this.rotate,offsetX:y=0,offsetY:E=0,dontFlip:D=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:f,rotation:T,offsetX:y,offsetY:E,dontFlip:D})}getAnnotations({intent:f="display"}={}){const T=this._transport.getRenderingIntent(f);let y=this._annotationPromises.get(T.cacheKey);return y||(y=this._transport.getAnnotations(this._pageIndex,T.renderingIntent),this._annotationPromises.set(T.cacheKey,y),y=y.then(E=>{for(const D of E)void 0!==D.titleObj&&Object.defineProperty(D,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),D.titleObj.str)}),void 0!==D.contentsObj&&Object.defineProperty(D,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),D.contentsObj.str)});return E})),y}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var f=this;return _asyncToGenerator(function*(){var T;return(null==(T=f._transport._htmlForXfa)?void 0:T.children[f._pageIndex])||null})()}render({canvasContext:f,viewport:T,intent:y="display",annotationMode:E=_util.AnnotationMode.ENABLE,transform:D=null,imageLayer:Z=null,canvasFactory:I=null,background:_=null,optionalContentConfigPromise:W=null,annotationCanvasMap:de=null}){var he,Q;void 0!==(null==(he=arguments[0])?void 0:he.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&E===_util.AnnotationMode.ENABLE&&(E=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(Q=arguments[0])?void 0:Q.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&E===_util.AnnotationMode.ENABLE&&(E=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const B=this._transport.getRenderingIntent(y,E);this.pendingCleanup=!1,W||(W=this._transport.getOptionalContentConfig());let H=this._intentStates.get(B.cacheKey);H||(H=Object.create(null),this._intentStates.set(B.cacheKey,H)),H.streamReaderCancelTimeout&&(clearTimeout(H.streamReaderCancelTimeout),H.streamReaderCancelTimeout=null);const m=I||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),v=!!(B.renderingIntent&_util.RenderingIntentFlag.PRINT);H.displayReadyCapability||(H.displayReadyCapability=(0,_util.createPromiseCapability)(),H.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(B));const R=Y=>{H.renderTasks.delete(O),(this.cleanupAfterRender||v)&&(this.pendingCleanup=!0),this._tryCleanup(),Y?(O.capability.reject(Y),this._abortOperatorList({intentState:H,reason:Y instanceof Error?Y:new Error(Y)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},O=new InternalRenderTask({callback:R,params:{canvasContext:f,viewport:T,transform:D,imageLayer:Z,background:_},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:de,operatorList:H.operatorList,pageIndex:this._pageIndex,canvasFactory:m,useRequestAnimationFrame:!v,pdfBug:this._pdfBug});(H.renderTasks||(H.renderTasks=new Set)).add(O);const L=O.task;return Promise.all([H.displayReadyCapability.promise,W]).then(([Y,te])=>{this.pendingCleanup?R():(this._stats&&this._stats.time("Rendering"),O.initializeGraphics({transparency:Y,optionalContentConfig:te}),O.operatorListChanged())}).catch(R),L}getOperatorList({intent:f="display",annotationMode:T=_util.AnnotationMode.ENABLE}={}){const E=this._transport.getRenderingIntent(f,T,!0);let Z,D=this._intentStates.get(E.cacheKey);return D||(D=Object.create(null),this._intentStates.set(E.cacheKey,D)),D.opListReadCapability||(Z=Object.create(null),Z.operatorListChanged=function y(){D.operatorList.lastChunk&&(D.opListReadCapability.resolve(D.operatorList),D.renderTasks.delete(Z))},D.opListReadCapability=(0,_util.createPromiseCapability)(),(D.renderTasks||(D.renderTasks=new Set)).add(Z),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(E)),D.opListReadCapability.promise}streamTextContent({disableCombineTextItems:f=!1,includeMarkedContent:T=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==f,includeMarkedContent:!0===T},{highWaterMark:100,size:E=>E.items.length})}getTextContent(f={}){if(this._transport._htmlForXfa)return this.getXfa().then(y=>_xfa_text.XfaText.textContent(y));const T=this.streamTextContent(f);return new Promise(function(y,E){const Z=T.getReader(),I={items:[],styles:Object.create(null)};!function D(){Z.read().then(function({value:_,done:W}){W?y(I):(Object.assign(I.styles,_.styles),I.items.push(..._.items),D())},E)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const f=[];for(const T of this._intentStates.values())if(this._abortOperatorList({intentState:T,reason:new Error("Page was destroyed."),force:!0}),!T.opListReadCapability)for(const y of T.renderTasks)f.push(y.completed),y.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(f)}cleanup(f=!1){return this.pendingCleanup=!0,this._tryCleanup(f)}_tryCleanup(f=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:T,operatorList:y}of this._intentStates.values())if(T.size>0||!y.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,f&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(f,T){const y=this._intentStates.get(T);!y||(this._stats&&this._stats.timeEnd("Page Request"),y.displayReadyCapability&&y.displayReadyCapability.resolve(f))}_renderPageChunk(f,T){for(let y=0,E=f.length;y<E;y++)T.operatorList.fnArray.push(f.fnArray[y]),T.operatorList.argsArray.push(f.argsArray[y]);T.operatorList.lastChunk=f.lastChunk;for(const y of T.renderTasks)y.operatorListChanged();f.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:f,cacheKey:T}){const E=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:f,cacheKey:T,annotationStorage:f&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),D=this._intentStates.get(T);D.streamReader=E;const Z=()=>{E.read().then(({value:I,done:_})=>{_?D.streamReader=null:this._transport.destroyed||(this._renderPageChunk(I,D),Z())},I=>{if(D.streamReader=null,!this._transport.destroyed){if(D.operatorList){D.operatorList.lastChunk=!0;for(const _ of D.renderTasks)_.operatorListChanged();this._tryCleanup()}if(D.displayReadyCapability)D.displayReadyCapability.reject(I);else{if(!D.opListReadCapability)throw I;D.opListReadCapability.reject(I)}}})};Z()}_abortOperatorList({intentState:f,reason:T,force:y=!1}){if(f.streamReader){if(!y){if(f.renderTasks.size>0)return;if(T instanceof _display_utils.RenderingCancelledException)return void(f.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:f,reason:T,force:!0}),f.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(f.streamReader.cancel(new _util.AbortException(T.message)).catch(()=>{}),f.streamReader=null,!this._transport.destroyed){for(const[E,D]of this._intentStates)if(D===f){this._intentStates.delete(E);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(f,T){const y={data:structuredClone(f,T)};this._deferred.then(()=>{for(const E of this._listeners)E.call(this,y)})}addEventListener(f,T){this._listeners.push(T)}removeEventListener(f,T){const y=this._listeners.indexOf(T);this._listeners.splice(y,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const se=null==(Ue=null==document?void 0:document.currentScript)?void 0:Ue.src;se&&(PDFWorkerUtil.fallbackWorkerSrc=se.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(se){return URL.createObjectURL(new Blob([`importScripts("${se}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:se=null,port:f=null,verbosity:T=(0,_util.getVerbosityLevel)()}={}){if(f&&_PDFWorker._workerPorts.has(f))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=se,this.destroyed=!1,this.verbosity=T,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,f)return _PDFWorker._workerPorts.set(f,this),void this._initializeFromPort(f);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(se){this._port=se,this._messageHandler=new _message_handler.MessageHandler("main","worker",se),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let se=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,se)||(se=PDFWorkerUtil.createCDNWrapper(new URL(se,window.location).href));const f=new Worker(se),T=new _message_handler.MessageHandler("main","worker",f),y=()=>{f.removeEventListener("error",E),T.destroy(),f.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},E=()=>{this._webWorker||y()};f.addEventListener("error",E),T.on("test",Z=>{f.removeEventListener("error",E),this.destroyed?y():Z?(this._messageHandler=T,this._port=f,this._webWorker=f,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),T.destroy(),f.terminate())}),T.on("ready",Z=>{if(f.removeEventListener("error",E),this.destroyed)y();else try{D()}catch(I){this._setupFakeWorker()}});const D=()=>{const Z=new Uint8Array([255]);try{T.send("test",Z,[Z.buffer])}catch(I){(0,_util.warn)("Cannot use postMessage transfers."),Z[0]=0,T.send("test",Z)}};return void D()}catch(f){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(se=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const f=new LoopbackPort;this._port=f;const T="fake"+PDFWorkerUtil.fakeWorkerId++,y=new _message_handler.MessageHandler(T+"_worker",T,f);se.setup(y,f);const E=new _message_handler.MessageHandler(T,T+"_worker",f);this._messageHandler=E,this._readyCapability.resolve(),E.send("configure",{verbosity:this.verbosity})}).catch(se=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${se.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(se){if(!(null==se?void 0:se.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(se.port)?this._workerPorts.get(se.port):new _PDFWorker(se)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var se;try{return(null==(se=globalThis.pdfjsWorker)?void 0:se.WorkerMessageHandler)||null}catch(f){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function se(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(f,T,y,E){Xt(this,ne,null),Xt(this,le,new Map),Xt(this,h,new Map),Xt(this,ie,null),this.messageHandler=f,this.loadingTask=T,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:T.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:E.ownerDocument,styleElement:E.styleElement}),this._params=E,E.useWorkerFetch||(this.CMapReaderFactory=new E.CMapReaderFactory({baseUrl:E.cMapUrl,isCompressed:E.cMapPacked}),this.StandardFontDataFactory=new E.StandardFontDataFactory({baseUrl:E.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=y,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return vt(this,ne)}getRenderingIntent(f,T=_util.AnnotationMode.ENABLE,y=!1){let E=_util.RenderingIntentFlag.DISPLAY,D="";switch(f){case"any":E=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":E=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${f}`)}switch(T){case _util.AnnotationMode.DISABLE:E+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:E+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:E+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,D=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${T}`)}return y&&(E+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:E,cacheKey:`${E}_${D}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const f=[];for(const y of vt(this,le).values())f.push(y._destroy());vt(this,le).clear(),vt(this,h).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const T=this.messageHandler.sendWithPromise("Terminate",null);return f.push(T),Promise.all(f).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),An(this,ie,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:f,loadingTask:T}=this;f.on("GetReader",(y,E)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=D=>{this._lastProgress={loaded:D.loaded,total:D.total}},E.onPull=()=>{this._fullReader.read().then(function({value:D,done:Z}){Z?E.close():((0,_util.assert)((0,_util.isArrayBuffer)(D),"GetReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(D),1,[D]))}).catch(D=>{E.error(D)})},E.onCancel=D=>{this._fullReader.cancel(D),E.ready.catch(Z=>{if(!this.destroyed)throw Z})}}),f.on("ReaderHeadersReady",y=>{const E=(0,_util.createPromiseCapability)(),D=this._fullReader;return D.headersReady.then(()=>{var Z;(!D.isStreamingSupported||!D.isRangeSupported)&&(this._lastProgress&&(null==(Z=T.onProgress)||Z.call(T,this._lastProgress)),D.onProgress=I=>{var _;null==(_=T.onProgress)||_.call(T,{loaded:I.loaded,total:I.total})}),E.resolve({isStreamingSupported:D.isStreamingSupported,isRangeSupported:D.isRangeSupported,contentLength:D.contentLength})},E.reject),E.promise}),f.on("GetRangeReader",(y,E)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const D=this._networkStream.getRangeReader(y.begin,y.end);D?(E.onPull=()=>{D.read().then(function({value:Z,done:I}){I?E.close():((0,_util.assert)((0,_util.isArrayBuffer)(Z),"GetRangeReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(Z),1,[Z]))}).catch(Z=>{E.error(Z)})},E.onCancel=Z=>{D.cancel(Z),E.ready.catch(I=>{if(!this.destroyed)throw I})}):E.close()}),f.on("GetDoc",({pdfInfo:y})=>{this._numPages=y.numPages,this._htmlForXfa=y.htmlForXfa,delete y.htmlForXfa,T._capability.resolve(new PDFDocumentProxy(y,this))}),f.on("DocException",function(y){let E;switch(y.name){case"PasswordException":E=new _util.PasswordException(y.message,y.code);break;case"InvalidPDFException":E=new _util.InvalidPDFException(y.message);break;case"MissingPDFException":E=new _util.MissingPDFException(y.message);break;case"UnexpectedResponseException":E=new _util.UnexpectedResponseException(y.message,y.status);break;case"UnknownErrorException":E=new _util.UnknownErrorException(y.message,y.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}T._capability.reject(E)}),f.on("PasswordRequest",y=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),T.onPassword){const E=D=>{D instanceof Error?this._passwordCapability.reject(D):this._passwordCapability.resolve({password:D})};try{T.onPassword(E,y.code)}catch(D){this._passwordCapability.reject(D)}}else this._passwordCapability.reject(new _util.PasswordException(y.message,y.code));return this._passwordCapability.promise}),f.on("DataLoaded",y=>{var E;null==(E=T.onProgress)||E.call(T,{loaded:y.length,total:y.length}),this.downloadInfoCapability.resolve(y)}),f.on("StartRenderPage",y=>{this.destroyed||vt(this,le).get(y.pageIndex)._startRenderPage(y.transparency,y.cacheKey)}),f.on("commonobj",([y,E,D])=>{var Z;if(!this.destroyed&&!this.commonObjs.has(y))switch(E){case"Font":const I=this._params;if("error"in D){const de=D.error;(0,_util.warn)(`Error during font loading: ${de}`),this.commonObjs.resolve(y,de);break}let _=null;I.pdfBug&&(null==(Z=globalThis.FontInspector)?void 0:Z.enabled)&&(_={registerFont(de,B){globalThis.FontInspector.fontAdded(de,B)}});const W=new _font_loader.FontFaceObject(D,{isEvalSupported:I.isEvalSupported,disableFontFace:I.disableFontFace,ignoreErrors:I.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_});this.fontLoader.bind(W).catch(de=>f.sendWithPromise("FontFallback",{id:y})).finally(()=>{!I.fontExtraProperties&&W.data&&(W.data=null),this.commonObjs.resolve(y,W)});break;case"FontPath":case"Image":this.commonObjs.resolve(y,D);break;default:throw new Error(`Got unknown common object type ${E}`)}}),f.on("obj",([y,E,D,Z])=>{var _;if(this.destroyed)return;const I=vt(this,le).get(E);if(!I.objs.has(y))switch(D){case"Image":I.objs.resolve(y,Z),(null==(_=null==Z?void 0:Z.data)?void 0:_.length)>8e6&&(I.cleanupAfterRender=!0);break;case"Pattern":I.objs.resolve(y,Z);break;default:throw new Error(`Got unknown object type ${D}`)}}),f.on("DocProgress",y=>{var E;this.destroyed||null==(E=T.onProgress)||E.call(T,{loaded:y.loaded,total:y.total})}),f.on("DocStats",y=>{this.destroyed||An(this,ne,Object.freeze({streamTypes:Object.freeze(y.streamTypes),fontTypes:Object.freeze(y.fontTypes)}))}),f.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),f.on("FetchBuiltInCMap",y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(y):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),f.on("FetchStandardFontData",y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(y):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:f}){var T,y;this.destroyed||null==(y=(T=this.loadingTask).onUnsupportedFeature)||y.call(T,f)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(f){if(!Number.isInteger(f)||f<=0||f>this._numPages)return Promise.reject(new Error("Invalid page request."));const T=f-1,y=vt(this,h).get(T);if(y)return y;const E=this.messageHandler.sendWithPromise("GetPage",{pageIndex:T}).then(D=>{if(this.destroyed)throw new Error("Transport destroyed");const Z=new PDFPageProxy(T,D,this,this._params.ownerDocument,this._params.pdfBug);return vt(this,le).set(T,Z),Z});return vt(this,h).set(T,E),E}getPageIndex(f){return"object"!=typeof f||null===f||!Number.isInteger(f.num)||f.num<0||!Number.isInteger(f.gen)||f.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:f.num,gen:f.gen})}getAnnotations(f,T){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:f,intent:T})}saveDocument(){var f,T;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(T=null==(f=this._fullReader)?void 0:f.filename)?T:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(f){return"string"!=typeof f?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:f})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(f){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:f})}getStructTree(f){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:f})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(f=>new _optional_content_config.OptionalContentConfig(f))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return vt(this,ie)||An(this,ie,this.messageHandler.sendWithPromise("GetMetadata",null).then(f=>{var T,y,E,D;return{info:f[0],metadata:f[1]?new _metadata.Metadata(f[1]):null,contentDispositionFilename:null!=(y=null==(T=this._fullReader)?void 0:T.filename)?y:null,contentLength:null!=(D=null==(E=this._fullReader)?void 0:E.contentLength)?D:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(f=!1){var T=this;return _asyncToGenerator(function*(){if(yield T.messageHandler.sendWithPromise("Cleanup",null),!T.destroyed){for(const y of vt(T,le).values())if(!y.cleanup())throw new Error(`startCleanup: Page ${y.pageNumber} is currently rendering.`);T.commonObjs.clear(),f||T.fontLoader.clear(),An(T,ie,null),T._getFieldObjectsPromise=null,T._hasJSActionsPromise=null}})()}get loadingParams(){const f=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:f.disableAutoFetch,enableXfa:f.enableXfa})}}ne=new WeakMap,le=new WeakMap,h=new WeakMap,ie=new WeakMap;class PDFObjects{constructor(){Xt(this,be),Xt(this,ge,Object.create(null))}get(f,T=null){if(T){const E=Ln(this,be,Bg).call(this,f);return E.capability.promise.then(()=>T(E.data)),null}const y=vt(this,ge)[f];if(!(null==y?void 0:y.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${f}.`);return y.data}has(f){const T=vt(this,ge)[f];return(null==T?void 0:T.capability.settled)||!1}resolve(f,T=null){const y=Ln(this,be,Bg).call(this,f);y.data=T,y.capability.resolve()}clear(){An(this,ge,Object.create(null))}}ge=new WeakMap,be=new WeakSet,Bg=function(f){return vt(this,ge)[f]||(vt(this,ge)[f]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(f){this._internalRenderTask=f,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:f,params:T,objs:y,commonObjs:E,annotationCanvasMap:D,operatorList:Z,pageIndex:I,canvasFactory:_,useRequestAnimationFrame:W=!1,pdfBug:de=!1}){this.callback=f,this.params=T,this.objs=y,this.commonObjs=E,this.annotationCanvasMap=D,this.operatorListIdx=null,this.operatorList=Z,this._pageIndex=I,this.canvasFactory=_,this._pdfBug=de,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===W&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=T.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:f=!1,optionalContentConfig:T}){var _;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(_=globalThis.StepperManager)?void 0:_.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:y,viewport:E,transform:D,imageLayer:Z,background:I}=this.params;this.gfx=new _canvas.CanvasGraphics(y,this.commonObjs,this.objs,this.canvasFactory,Z,T,this.annotationCanvasMap),this.gfx.beginDrawing({transform:D,viewport:E,transparency:f,background:I}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(f=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(f||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var f=this;return _asyncToGenerator(function*(){f.cancelled||(f.operatorListIdx=f.gfx.executeOperatorList(f.operatorList,f.operatorListIdx,f._continueBound,f.stepper),f.operatorListIdx===f.operatorList.argsArray.length&&(f.running=!1,f.operatorList.lastChunk&&(f.gfx.endDrawing(),f._canvas&&InternalRenderTask.canvasInUse.delete(f._canvas),f.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.StatTimer=ne.RenderingCancelledException=ne.PixelsPerInch=ne.PageViewport=ne.PDFDateString=ne.DOMStandardFontDataFactory=ne.DOMSVGFactory=ne.DOMCanvasFactory=ne.DOMCMapReaderFactory=void 0,ne.deprecated=function v(Q){console.log("Deprecated API usage: "+Q)},ne.getFilenameFromUrl=function W(Q){const Y=Q.indexOf("#"),te=Q.indexOf("?"),F=Math.min(Y>0?Y:Q.length,te>0?te:Q.length);return Q.substring(Q.lastIndexOf("/",F)+1,F)},ne.getPdfFilenameFromUrl=function de(Q,Y="document.pdf"){if("string"!=typeof Q)return Y;if(I(Q))return(0,ie.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const F=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,U=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(Q);let J=F.exec(U[1])||F.exec(U[2])||F.exec(U[3]);if(J&&(J=J[0],J.includes("%")))try{J=F.exec(decodeURIComponent(J))[0]}catch(q){}return J||Y},ne.getXfaPageViewport=function L(Q,{scale:Y=1,rotation:te=0}){const{width:F,height:U}=Q.attributes.style,J=[0,0,parseInt(F),parseInt(U)];return new D({viewBox:J,scale:Y,rotation:te})},ne.isDataScheme=I,ne.isPdfFile=function _(Q){return"string"==typeof Q&&/\.pdf$/i.test(Q)},ne.isValidFetchUrl=H,ne.loadScript=function m(Q,Y=!1){return new Promise((te,F)=>{const U=document.createElement("script");U.src=Q,U.onload=function(J){Y&&U.remove(),te(J)},U.onerror=function(){F(new Error(`Cannot load script at: ${U.src}`))},(document.head||document.documentElement).appendChild(U)})};var h=le(6),ie=le(1);const he=class{};let R,be=he;function se(Q){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(function*(Q,Y=!1){if(H(Q,document.baseURI)){const te=yield fetch(Q);if(!te.ok)throw new Error(te.statusText);return Y?new Uint8Array(yield te.arrayBuffer()):(0,ie.stringToBytes)(yield te.text())}return new Promise((te,F)=>{const U=new XMLHttpRequest;U.open("GET",Q,!0),Y&&(U.responseType="arraybuffer"),U.onreadystatechange=()=>{if(U.readyState===XMLHttpRequest.DONE){if(200===U.status||0===U.status){let J;if(Y&&U.response?J=new Uint8Array(U.response):!Y&&U.responseText&&(J=(0,ie.stringToBytes)(U.responseText)),J)return void te(J)}F(new Error(U.statusText))}},U.send(null)})})).apply(this,arguments)}pl(be,"CSS",96),pl(be,"PDF",72),pl(be,"PDF_TO_CSS_UNITS",he.CSS/he.PDF),ne.PixelsPerInch=be,ne.DOMCanvasFactory=class ye extends h.BaseCanvasFactory{constructor({ownerDocument:Y=globalThis.document}={}){super(),this._document=Y}_createCanvas(Y,te){const F=this._document.createElement("canvas");return F.width=Y,F.height=te,F}},ne.DOMCMapReaderFactory=class T extends h.BaseCMapReaderFactory{_fetchData(Y,te){return se(Y,this.isCompressed).then(F=>({cMapData:F,compressionType:te}))}},ne.DOMStandardFontDataFactory=class y extends h.BaseStandardFontDataFactory{_fetchData(Y){return se(Y,!0)}},ne.DOMSVGFactory=class E extends h.BaseSVGFactory{_createSVG(Y){return document.createElementNS("http://www.w3.org/2000/svg",Y)}};class D{constructor({viewBox:Y,scale:te,rotation:F,offsetX:U=0,offsetY:J=0,dontFlip:q=!1}){this.viewBox=Y,this.scale=te,this.rotation=F,this.offsetX=U,this.offsetY=J;const re=(Y[2]+Y[0])/2,k=(Y[3]+Y[1])/2;let M,w,z,V,ae,A,K,ee;switch((F%=360)<0&&(F+=360),F){case 180:M=-1,w=0,z=0,V=1;break;case 90:M=0,w=1,z=1,V=0;break;case 270:M=0,w=-1,z=-1,V=0;break;case 0:M=1,w=0,z=0,V=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}q&&(z=-z,V=-V),0===M?(ae=Math.abs(k-Y[1])*te+U,A=Math.abs(re-Y[0])*te+J,K=Math.abs(Y[3]-Y[1])*te,ee=Math.abs(Y[2]-Y[0])*te):(ae=Math.abs(re-Y[0])*te+U,A=Math.abs(k-Y[1])*te+J,K=Math.abs(Y[2]-Y[0])*te,ee=Math.abs(Y[3]-Y[1])*te),this.transform=[M*te,w*te,z*te,V*te,ae-M*te*re-z*te*k,A-w*te*re-V*te*k],this.width=K,this.height=ee}clone({scale:Y=this.scale,rotation:te=this.rotation,offsetX:F=this.offsetX,offsetY:U=this.offsetY,dontFlip:J=!1}={}){return new D({viewBox:this.viewBox.slice(),scale:Y,rotation:te,offsetX:F,offsetY:U,dontFlip:J})}convertToViewportPoint(Y,te){return ie.Util.applyTransform([Y,te],this.transform)}convertToViewportRectangle(Y){const te=ie.Util.applyTransform([Y[0],Y[1]],this.transform),F=ie.Util.applyTransform([Y[2],Y[3]],this.transform);return[te[0],te[1],F[0],F[1]]}convertToPdfPoint(Y,te){return ie.Util.applyInverseTransform([Y,te],this.transform)}}function I(Q){const Y=Q.length;let te=0;for(;te<Y&&""===Q[te].trim();)te++;return"data:"===Q.substring(te,te+5).toLowerCase()}function H(Q,Y){try{const{protocol:te}=Y?new URL(Q,Y):new URL(Q);return"http:"===te||"https:"===te}catch(te){return!1}}ne.PageViewport=D,ne.RenderingCancelledException=class Z extends ie.BaseException{constructor(Y,te){super(Y,"RenderingCancelledException"),this.type=te}},ne.StatTimer=class B{constructor(){this.started=Object.create(null),this.times=[]}time(Y){Y in this.started&&(0,ie.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,ie.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let te=0;for(const F of this.times){const U=F.name;U.length>te&&(te=U.length)}for(const F of this.times){const U=F.end-F.start;Y.push(`${F.name.padEnd(te)} ${U}ms\n`)}return Y.join("")}},ne.PDFDateString=class O{static toDateObject(Y){if(!Y||"string"!=typeof Y)return null;R||(R=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const te=R.exec(Y);if(!te)return null;const F=parseInt(te[1],10);let U=parseInt(te[2],10);U=U>=1&&U<=12?U-1:0;let J=parseInt(te[3],10);J=J>=1&&J<=31?J:1;let q=parseInt(te[4],10);q=q>=0&&q<=23?q:0;let re=parseInt(te[5],10);re=re>=0&&re<=59?re:0;let k=parseInt(te[6],10);k=k>=0&&k<=59?k:0;const M=te[7]||"Z";let w=parseInt(te[8],10);w=w>=0&&w<=23?w:0;let z=parseInt(te[9],10)||0;return z=z>=0&&z<=59?z:0,"-"===M?(q+=w,re+=z):"+"===M&&(q-=w,re-=z),new Date(Date.UTC(F,U,J,q,re,k))}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.BaseStandardFontDataFactory=ne.BaseSVGFactory=ne.BaseCanvasFactory=ne.BaseCMapReaderFactory=void 0;var h=le(1);class ie{constructor(){this.constructor===ie&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(f,T){if(f<=0||T<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(f,T);return{canvas:y,context:y.getContext("2d")}}reset(f,T,y){if(!f.canvas)throw new Error("Canvas is not specified");if(T<=0||y<=0)throw new Error("Invalid canvas size");f.canvas.width=T,f.canvas.height=y}destroy(f){if(!f.canvas)throw new Error("Canvas is not specified");f.canvas.width=0,f.canvas.height=0,f.canvas=null,f.context=null}_createCanvas(f,T){(0,h.unreachable)("Abstract method `_createCanvas` called.")}}ne.BaseCanvasFactory=ie;class ge{constructor({baseUrl:f=null,isCompressed:T=!1}){this.constructor===ge&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=f,this.isCompressed=T}fetch({name:f}){var T=this;return _asyncToGenerator(function*(){if(!T.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!f)throw new Error("CMap name must be specified.");const y=T.baseUrl+f+(T.isCompressed?".bcmap":"");return T._fetchData(y,T.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE).catch(D=>{throw new Error(`Unable to load ${T.isCompressed?"binary ":""}CMap at: ${y}`)})})()}_fetchData(f,T){(0,h.unreachable)("Abstract method `_fetchData` called.")}}ne.BaseCMapReaderFactory=ge;class be{constructor({baseUrl:f=null}){this.constructor===be&&(0,h.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=f}fetch({filename:f}){var T=this;return _asyncToGenerator(function*(){if(!T.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!f)throw new Error("Font filename must be specified.");const y=`${T.baseUrl}${f}`;return T._fetchData(y).catch(E=>{throw new Error(`Unable to load font data at: ${y}`)})})()}_fetchData(f){(0,h.unreachable)("Abstract method `_fetchData` called.")}}ne.BaseStandardFontDataFactory=be;class ye{constructor(){this.constructor===ye&&(0,h.unreachable)("Cannot initialize BaseSVGFactory.")}create(f,T){if(f<=0||T<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),y.setAttribute("width",`${f}px`),y.setAttribute("height",`${T}px`),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${f} ${T}`),y}createElement(f){if("string"!=typeof f)throw new Error("Invalid SVG element type");return this._createSVG(f)}_createSVG(f){(0,h.unreachable)("Abstract method `_createSVG` called.")}}ne.BaseSVGFactory=ye},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.FontLoader=ne.FontFaceObject=void 0;var h=le(1);class ie{constructor({docId:se,onUnsupportedFeature:f,ownerDocument:T=globalThis.document,styleElement:y=null}){this.constructor===ie&&(0,h.unreachable)("Cannot initialize BaseFontLoader."),this.docId=se,this._onUnsupportedFeature=f,this._document=T,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(se){this.nativeFontFaces.push(se),this._document.fonts.add(se)}insertRule(se){let f=this.styleElement;f||(f=this.styleElement=this._document.createElement("style"),f.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(f));const T=f.sheet;T.insertRule(se,T.cssRules.length)}clear(){for(const se of this.nativeFontFaces)this._document.fonts.delete(se);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(se){var f=this;return _asyncToGenerator(function*(){if(se.attached||se.missingFile)return;if(se.attached=!0,f.isFontLoadingAPISupported){const y=se.createNativeFontFace();if(y){f.addNativeFontFace(y);try{yield y.loaded}catch(E){throw f._onUnsupportedFeature({featureId:h.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,h.warn)(`Failed to load font '${y.family}': '${E}'.`),se.disableFontFace=!0,E}}return}const T=se.createFontFaceRule();if(T){if(f.insertRule(T),f.isSyncFontLoadingSupported)return;yield new Promise(y=>{const E=f._queueLoadingCallback(y);f._prepareFontLoadEvent([T],[se],E)})}})()}_queueLoadingCallback(se){(0,h.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var f;const se=!!(null==(f=this._document)?void 0:f.fonts);return(0,h.shadow)(this,"isFontLoadingAPISupported",se)}get isSyncFontLoadingSupported(){(0,h.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,h.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(se,f,T){(0,h.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ge;ne.FontLoader=ge,ne.FontLoader=ge=class extends ie{constructor(se){super(se),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let se=!1;if("undefined"==typeof navigator)se=!0;else{const f=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==f?void 0:f[1])>=14&&(se=!0)}return(0,h.shadow)(this,"isSyncFontLoadingSupported",se)}_queueLoadingCallback(se){const T=this.loadingContext,y={id:"pdfjs-font-loading-"+T.nextRequestId++,done:!1,complete:function f(){for((0,h.assert)(!y.done,"completeRequest() cannot be called twice."),y.done=!0;T.requests.length>0&&T.requests[0].done;){const E=T.requests.shift();setTimeout(E.callback,0)}},callback:se};return T.requests.push(y),y}get _loadTestFont(){return(0,h.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(se,f,T){function y(te,F){return te.charCodeAt(F)<<24|te.charCodeAt(F+1)<<16|te.charCodeAt(F+2)<<8|255&te.charCodeAt(F+3)}function E(te,F,U,J){return te.substring(0,F)+J+te.substring(F+U)}let D,Z;const I=this._document.createElement("canvas");I.width=1,I.height=1;const _=I.getContext("2d");let W=0;const B=`lt${Date.now()}${this.loadTestFontId++}`;let H=this._loadTestFont;H=E(H,976,B.length,B);const R=1482184792;let O=y(H,16);for(D=0,Z=B.length-3;D<Z;D+=4)O=O-R+y(B,D)|0;D<B.length&&(O=O-R+y(B+"XXX",D)|0),H=E(H,16,4,(0,h.string32)(O));const L=`url(data:font/opentype;base64,${btoa(H)});`;this.insertRule(`@font-face {font-family:"${B}";src:${L}}`);const Q=[];for(const te of f)Q.push(te.loadedName);Q.push(B);const Y=this._document.createElement("div");Y.style.visibility="hidden",Y.style.width=Y.style.height="10px",Y.style.position="absolute",Y.style.top=Y.style.left="0px";for(const te of Q){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=te,Y.appendChild(F)}this._document.body.appendChild(Y),function de(te,F){if(W++,W>30)return(0,h.warn)("Load test font never loaded."),void F();_.font="30px "+te,_.fillText(".",0,20),_.getImageData(0,0,1,1).data[3]>0?F():setTimeout(de.bind(null,te,F))}(B,()=>{Y.remove(),T.complete()})}},ne.FontFaceObject=class be{constructor(se,{isEvalSupported:f=!0,disableFontFace:T=!1,ignoreErrors:y=!1,onUnsupportedFeature:E,fontRegistry:D=null}){this.compiledGlyphs=Object.create(null);for(const Z in se)this[Z]=se[Z];this.isEvalSupported=!1!==f,this.disableFontFace=!0===T,this.ignoreErrors=!0===y,this._onUnsupportedFeature=E,this.fontRegistry=D}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let se;if(this.cssFontInfo){const f={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(f.style=`oblique ${this.cssFontInfo.italicAngle}deg`),se=new FontFace(this.cssFontInfo.fontFamily,this.data,f)}else se=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),se}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const se=(0,h.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(se)});`;let T;if(this.cssFontInfo){let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),T=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${f}}`}else T=`@font-face {font-family:"${this.loadedName}";src:${f}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,f),T}getPathGenerator(se,f){if(void 0!==this.compiledGlyphs[f])return this.compiledGlyphs[f];let T;try{T=se.get(this.loadedName+"_path_"+f)}catch(y){if(!this.ignoreErrors)throw y;return this._onUnsupportedFeature({featureId:h.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,h.warn)(`getPathGenerator - ignoring character: "${y}".`),this.compiledGlyphs[f]=function(E,D){}}if(this.isEvalSupported&&h.IsEvalSupportedCached.value){const y=[];for(const E of T){const D=void 0!==E.args?E.args.join(","):"";y.push("c.",E.cmd,"(",D,");\n")}return this.compiledGlyphs[f]=new Function("c","size",y.join(""))}return this.compiledGlyphs[f]=function(y,E){for(const D of T)"scale"===D.cmd&&(D.args=[E,-E]),y[D.cmd].apply(y,D.args)}}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.NodeStandardFontDataFactory=ne.NodeCanvasFactory=ne.NodeCMapReaderFactory=void 0;var h=le(6),ie=le(3),ge=le(1);let be=class{constructor(){(0,ge.unreachable)("Not implemented: NodeCanvasFactory")}};ne.NodeCanvasFactory=be;let ye=class{constructor(){(0,ge.unreachable)("Not implemented: NodeCMapReaderFactory")}};ne.NodeCMapReaderFactory=ye;let se=class{constructor(){(0,ge.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(ne.NodeStandardFontDataFactory=se,ie.isNodeJS){const f=function(T){return new Promise((y,E)=>{__webpack_require__(172).readFile(T,(Z,I)=>{!Z&&I?y(new Uint8Array(I)):E(new Error(Z))})})};ne.NodeCanvasFactory=be=class extends h.BaseCanvasFactory{_createCanvas(T,y){return __webpack_require__(3414).createCanvas(T,y)}},ne.NodeCMapReaderFactory=ye=class extends h.BaseCMapReaderFactory{_fetchData(T,y){return f(T).then(E=>({cMapData:E,compressionType:y}))}},ne.NodeStandardFontDataFactory=se=class extends h.BaseStandardFontDataFactory{_fetchData(T){return f(T)}}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.AnnotationStorage=void 0;var h=le(1);ne.AnnotationStorage=class ie{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(be,ye){const se=this._storage.get(be);return void 0===se?ye:Object.assign(ye,se)}setValue(be,ye){const se=this._storage.get(be);let f=!1;if(void 0!==se)for(const[T,y]of Object.entries(ye))se[T]!==y&&(f=!0,se[T]=y);else f=!0,this._storage.set(be,ye);f&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,h.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.CanvasGraphics=void 0;var h=le(1),ie=le(11),ge=le(5);const se=4096,D=16;function _(k){if(k._transformStack&&(k._transformStack=[]),!k.mozCurrentTransform){k._originalSave=k.save,k._originalRestore=k.restore,k._originalRotate=k.rotate,k._originalScale=k.scale,k._originalTranslate=k.translate,k._originalTransform=k.transform,k._originalSetTransform=k.setTransform,k._originalResetTransform=k.resetTransform,k._transformMatrix=k._transformMatrix||[1,0,0,1,0,0],k._transformStack=[];try{const M=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(k),"lineWidth");k._setLineWidth=M.set,k._getLineWidth=M.get,Object.defineProperty(k,"lineWidth",{set:function(z){this._setLineWidth(1.000001*z)},get:function(){return this._getLineWidth()}})}catch(M){}Object.defineProperty(k,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(k,"mozCurrentTransformInverse",{get:function(){const[w,z,V,ae,A,K]=this._transformMatrix,ee=w*ae-z*V,me=z*V-w*ae;return[ae/ee,z/me,V/me,w/ee,(ae*A-V*K)/me,(z*A-w*K)/ee]}}),k.save=function(){const w=this._transformMatrix;this._transformStack.push(w),this._transformMatrix=w.slice(0,6),this._originalSave()},k.restore=function(){0===this._transformStack.length&&(0,h.warn)("Tried to restore a ctx when the stack was already empty.");const w=this._transformStack.pop();w&&(this._transformMatrix=w,this._originalRestore())},k.translate=function(w,z){const V=this._transformMatrix;V[4]=V[0]*w+V[2]*z+V[4],V[5]=V[1]*w+V[3]*z+V[5],this._originalTranslate(w,z)},k.scale=function(w,z){const V=this._transformMatrix;V[0]*=w,V[1]*=w,V[2]*=z,V[3]*=z,this._originalScale(w,z)},k.transform=function(w,z,V,ae,A,K){const ee=this._transformMatrix;this._transformMatrix=[ee[0]*w+ee[2]*z,ee[1]*w+ee[3]*z,ee[0]*V+ee[2]*ae,ee[1]*V+ee[3]*ae,ee[0]*A+ee[2]*K+ee[4],ee[1]*A+ee[3]*K+ee[5]],k._originalTransform(w,z,V,ae,A,K)},k.setTransform=function(w,z,V,ae,A,K){this._transformMatrix=[w,z,V,ae,A,K],k._originalSetTransform(w,z,V,ae,A,K)},k.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],k._originalResetTransform()},k.rotate=function(w){const z=Math.cos(w),V=Math.sin(w),ae=this._transformMatrix;this._transformMatrix=[ae[0]*z+ae[2]*V,ae[1]*z+ae[3]*V,ae[0]*-V+ae[2]*z,ae[1]*-V+ae[3]*z,ae[4],ae[5]],this._originalRotate(w)}}}class W{constructor(M){this.canvasFactory=M,this.cache=Object.create(null)}getCanvas(M,w,z,V){let ae;return void 0!==this.cache[M]?(ae=this.cache[M],this.canvasFactory.reset(ae,w,z),ae.context.setTransform(1,0,0,1,0,0)):(ae=this.canvasFactory.create(w,z),this.cache[M]=ae),V&&_(ae.context),ae}clear(){for(const M in this.cache)this.canvasFactory.destroy(this.cache[M]),delete this.cache[M]}}class B{constructor(M,w){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,M,w])}clone(){const M=Object.create(this);return M.clipBox=this.clipBox.slice(),M}setCurrentPoint(M,w){this.x=M,this.y=w}updatePathMinMax(M,w,z){[w,z]=h.Util.applyTransform([w,z],M),this.minX=Math.min(this.minX,w),this.minY=Math.min(this.minY,z),this.maxX=Math.max(this.maxX,w),this.maxY=Math.max(this.maxY,z)}updateCurvePathMinMax(M,w,z,V,ae,A,K,ee,me){const G=h.Util.bezierBoundingBox(w,z,V,ae,A,K,ee,me);this.updatePathMinMax(M,G[0],G[1]),this.updatePathMinMax(M,G[2],G[3])}getPathBoundingBox(M=ie.PathType.FILL,w=null){const z=[this.minX,this.minY,this.maxX,this.maxY];if(M===ie.PathType.STROKE){w||(0,h.unreachable)("Stroke bounding box must include transform.");const V=h.Util.singularValueDecompose2dScale(w),ae=V[0]*this.lineWidth/2,A=V[1]*this.lineWidth/2;z[0]-=ae,z[1]-=A,z[2]+=ae,z[3]+=A}return z}updateClipFromPath(){const M=h.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(M||[0,0,0,0])}startNewPathAndClipBox(M){this.clipBox=M,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(M=ie.PathType.FILL,w=null){return h.Util.intersect(this.clipBox,this.getPathBoundingBox(M,w))}}function H(k,M,w=null){if("undefined"!=typeof ImageData&&M instanceof ImageData)return void k.putImageData(M,0,0);const z=M.height,V=M.width,ae=z%D,A=(z-ae)/D,K=0===ae?A:A+1,ee=k.createImageData(V,D);let G,me=0;const _e=M.data,we=ee.data;let De,Ie,Fe,ze,He,Ze,N,fe;if(w)switch(w.length){case 1:He=w[0],Ze=w[0],N=w[0],fe=w[0];break;case 4:He=w[0],Ze=w[1],N=w[2],fe=w[3]}if(M.kind===h.ImageKind.GRAYSCALE_1BPP){const xe=_e.byteLength,Ae=new Uint32Array(we.buffer,0,we.byteLength>>2),Me=Ae.length,Ve=V+7>>3;let Xe=4294967295,Je=h.IsLittleEndianCached.value?4278190080:255;for(fe&&255===fe[0]&&0===fe[255]&&([Xe,Je]=[Je,Xe]),De=0;De<K;De++){for(Fe=De<A?D:ae,G=0,Ie=0;Ie<Fe;Ie++){const mt=xe-me;let _t=0;const et=mt>Ve?V:8*mt-7,yt=-8&et;let ut=0,nt=0;for(;_t<yt;_t+=8)nt=_e[me++],Ae[G++]=128&nt?Xe:Je,Ae[G++]=64&nt?Xe:Je,Ae[G++]=32&nt?Xe:Je,Ae[G++]=16&nt?Xe:Je,Ae[G++]=8&nt?Xe:Je,Ae[G++]=4&nt?Xe:Je,Ae[G++]=2&nt?Xe:Je,Ae[G++]=1&nt?Xe:Je;for(;_t<et;_t++)0===ut&&(nt=_e[me++],ut=128),Ae[G++]=nt&ut?Xe:Je,ut>>=1}for(;G<Me;)Ae[G++]=0;k.putImageData(ee,0,De*D)}}else if(M.kind===h.ImageKind.RGBA_32BPP){const xe=!!(He||Ze||N);for(Ie=0,ze=V*D*4,De=0;De<A;De++){if(we.set(_e.subarray(me,me+ze)),me+=ze,xe)for(let Ae=0;Ae<ze;Ae+=4)He&&(we[Ae+0]=He[we[Ae+0]]),Ze&&(we[Ae+1]=Ze[we[Ae+1]]),N&&(we[Ae+2]=N[we[Ae+2]]);k.putImageData(ee,0,Ie),Ie+=D}if(De<K){if(ze=V*ae*4,we.set(_e.subarray(me,me+ze)),xe)for(let Ae=0;Ae<ze;Ae+=4)He&&(we[Ae+0]=He[we[Ae+0]]),Ze&&(we[Ae+1]=Ze[we[Ae+1]]),N&&(we[Ae+2]=N[we[Ae+2]]);k.putImageData(ee,0,Ie)}}else{if(M.kind!==h.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${M.kind}`);{const xe=!!(He||Ze||N);for(Fe=D,ze=V*Fe,De=0;De<K;De++){for(De>=A&&(Fe=ae,ze=V*Fe),G=0,Ie=ze;Ie--;)we[G++]=_e[me++],we[G++]=_e[me++],we[G++]=_e[me++],we[G++]=255;if(xe)for(let Ae=0;Ae<G;Ae+=4)He&&(we[Ae+0]=He[we[Ae+0]]),Ze&&(we[Ae+1]=Ze[we[Ae+1]]),N&&(we[Ae+2]=N[we[Ae+2]]);k.putImageData(ee,0,De*D)}}}}function m(k,M){const w=M.height,z=M.width,V=w%D,ae=(w-V)/D,A=0===V?ae:ae+1,K=k.createImageData(z,D);let ee=0;const me=M.data,G=K.data;for(let _e=0;_e<A;_e++){const we=_e<ae?D:V;let De=3;for(let Ie=0;Ie<we;Ie++){let Fe,ze=0;for(let He=0;He<z;He++)ze||(Fe=me[ee++],ze=128),G[De]=Fe&ze?0:255,De+=4,ze>>=1}k.putImageData(K,0,_e*D)}}function v(k,M){const w=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let z=0,V=w.length;z<V;z++){const ae=w[z];void 0!==k[ae]&&(M[ae]=k[ae])}void 0!==k.setLineDash&&(M.setLineDash(k.getLineDash()),M.lineDashOffset=k.lineDashOffset)}function R(k){k.strokeStyle="#000000",k.fillStyle="#000000",k.fillRule="nonzero",k.globalAlpha=1,k.lineWidth=1,k.lineCap="butt",k.lineJoin="miter",k.miterLimit=10,k.globalCompositeOperation="source-over",k.font="10px sans-serif",void 0!==k.setLineDash&&(k.setLineDash([]),k.lineDashOffset=0)}function O(k,M,w,z){const V=k.length;for(let ae=3;ae<V;ae+=4){const A=k[ae];if(0===A)k[ae-3]=M,k[ae-2]=w,k[ae-1]=z;else if(A<255){const K=255-A;k[ae-3]=k[ae-3]*A+M*K>>8,k[ae-2]=k[ae-2]*A+w*K>>8,k[ae-1]=k[ae-1]*A+z*K>>8}}}function L(k,M,w){const z=k.length;for(let ae=3;ae<z;ae+=4)M[ae]=M[ae]*(w?w[k[ae]]:k[ae])*.00392156862745098|0}function he(k,M,w){const z=k.length;for(let V=3;V<z;V+=4){const ae=77*k[V-3]+152*k[V-2]+28*k[V-1];M[V]=w?M[V]*w[ae>>8]>>8:M[V]*ae>>16}}function te(k,M){const w=h.Util.singularValueDecompose2dScale(k);w[0]=Math.fround(w[0]),w[1]=Math.fround(w[1]);const z=Math.fround((globalThis.devicePixelRatio||1)*ge.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==M?M:w[0]<=z||w[1]<=z}const F=["butt","round","square"],U=["miter","round","bevel"],J={},q={};class re{constructor(M,w,z,V,ae,A,K){this.ctx=M,this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=w,this.objs=z,this.canvasFactory=V,this.imageLayer=ae,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=A,this.cachedCanvases=new W(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=K,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,M&&_(M),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:M,viewport:w,transparency:z=!1,background:V=null}){const ae=this.ctx.canvas.width,A=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=V||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,ae,A),this.ctx.restore(),z){const K=this.cachedCanvases.getCanvas("transparent",ae,A,!0);this.compositeCtx=this.ctx,this.transparentCanvas=K.canvas,this.ctx=K.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),R(this.ctx),M&&(this.ctx.transform.apply(this.ctx,M),this.outputScaleX=M[0],this.outputScaleY=M[0]),this.ctx.transform.apply(this.ctx,w.transform),this.viewportScale=w.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(M,w,z,V){const ae=M.argsArray,A=M.fnArray;let K=w||0;const ee=ae.length;if(ee===K)return K;const me=ee-K>10&&"function"==typeof z,G=me?Date.now()+15:0;let _e=0;const we=this.commonObjs,De=this.objs;let Ie;for(;;){if(void 0!==V&&K===V.nextBreakPoint)return V.breakIt(K,z),K;if(Ie=A[K],Ie!==h.OPS.dependency)this[Ie].apply(this,ae[K]);else for(const Fe of ae[K]){const ze=Fe.startsWith("g_")?we:De;if(!ze.has(Fe))return ze.get(Fe,z),K}if(K++,K===ee)return K;if(me&&++_e>10){if(Date.now()>G)return z(),K;_e=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(M,w){const z=M.width,V=M.height;let G,_e,ae=Math.max(Math.hypot(w[0],w[1]),1),A=Math.max(Math.hypot(w[2],w[3]),1),K=z,ee=V,me="prescale1";for(;ae>2&&K>1||A>2&&ee>1;){let we=K,De=ee;ae>2&&K>1&&(we=Math.ceil(K/2),ae/=K/we),A>2&&ee>1&&(De=Math.ceil(ee/2),A/=ee/De),G=this.cachedCanvases.getCanvas(me,we,De),_e=G.context,_e.clearRect(0,0,we,De),_e.drawImage(M,0,0,K,ee,0,0,we,De),M=G.canvas,K=we,ee=De,me="prescale1"===me?"prescale2":"prescale1"}return{img:M,paintWidth:K,paintHeight:ee}}_createMaskCanvas(M){const w=this.ctx,z=M.width,V=M.height,ae=this.current.fillColor,A=this.current.patternFill,K=this.cachedCanvases.getCanvas("maskCanvas",z,V);m(K.context,M);let G=h.Util.transform(w.mozCurrentTransform,[1/z,0,0,-1/V,0,0]);G=h.Util.transform(G,[1,0,0,1,0,-V]);const _e=h.Util.applyTransform([0,0],G),we=h.Util.applyTransform([z,V],G),De=h.Util.normalizeRect([_e[0],_e[1],we[0],we[1]]),Ie=Math.ceil(De[2]-De[0]),Fe=Math.ceil(De[3]-De[1]),ze=this.cachedCanvases.getCanvas("fillCanvas",Ie,Fe,!0),He=ze.context,Ze=Math.min(_e[0],we[0]),N=Math.min(_e[1],we[1]);He.translate(-Ze,-N),He.transform.apply(He,G);const fe=this._scaleImage(K.canvas,He.mozCurrentTransformInverse);He.imageSmoothingEnabled=te(He.mozCurrentTransform,M.interpolate),He.drawImage(fe.img,0,0,fe.img.width,fe.img.height,0,0,z,V),He.globalCompositeOperation="source-in";const xe=h.Util.transform(He.mozCurrentTransformInverse,[1,0,0,1,-Ze,-N]);return He.fillStyle=A?ae.getPattern(w,this,xe,ie.PathType.FILL):ae,He.fillRect(0,0,z,V),{canvas:ze.canvas,offsetX:Math.round(Ze),offsetY:Math.round(N)}}setLineWidth(M){this.current.lineWidth=M,this.ctx.lineWidth=M}setLineCap(M){this.ctx.lineCap=F[M]}setLineJoin(M){this.ctx.lineJoin=U[M]}setMiterLimit(M){this.ctx.miterLimit=M}setDash(M,w){const z=this.ctx;void 0!==z.setLineDash&&(z.setLineDash(M),z.lineDashOffset=w)}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(let w=0,z=M.length;w<z;w++){const V=M[w],A=V[1];switch(V[0]){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A[0],A[1]);break;case"CA":this.current.strokeAlpha=V[1];break;case"ca":this.current.fillAlpha=V[1],this.ctx.globalAlpha=V[1];break;case"BM":this.ctx.globalCompositeOperation=A;break;case"SMask":this.current.activeSMask=A?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=A}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const M=this.inSMaskMode;this.current.activeSMask&&!M?this.beginSMaskMode():!this.current.activeSMask&&M&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const V=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=V.context;const ae=this.ctx;ae.setTransform.apply(ae,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,ae),function I(k,M){if(k._removeMirroring)throw new Error("Context is already forwarding operations.");k.__originalSave=k.save,k.__originalRestore=k.restore,k.__originalRotate=k.rotate,k.__originalScale=k.scale,k.__originalTranslate=k.translate,k.__originalTransform=k.transform,k.__originalSetTransform=k.setTransform,k.__originalResetTransform=k.resetTransform,k.__originalClip=k.clip,k.__originalMoveTo=k.moveTo,k.__originalLineTo=k.lineTo,k.__originalBezierCurveTo=k.bezierCurveTo,k.__originalRect=k.rect,k.__originalClosePath=k.closePath,k.__originalBeginPath=k.beginPath,k._removeMirroring=()=>{k.save=k.__originalSave,k.restore=k.__originalRestore,k.rotate=k.__originalRotate,k.scale=k.__originalScale,k.translate=k.__originalTranslate,k.transform=k.__originalTransform,k.setTransform=k.__originalSetTransform,k.resetTransform=k.__originalResetTransform,k.clip=k.__originalClip,k.moveTo=k.__originalMoveTo,k.lineTo=k.__originalLineTo,k.bezierCurveTo=k.__originalBezierCurveTo,k.rect=k.__originalRect,k.closePath=k.__originalClosePath,k.beginPath=k.__originalBeginPath,delete k._removeMirroring},k.save=function(){M.save(),this.__originalSave()},k.restore=function(){M.restore(),this.__originalRestore()},k.translate=function(z,V){M.translate(z,V),this.__originalTranslate(z,V)},k.scale=function(z,V){M.scale(z,V),this.__originalScale(z,V)},k.transform=function(z,V,ae,A,K,ee){M.transform(z,V,ae,A,K,ee),this.__originalTransform(z,V,ae,A,K,ee)},k.setTransform=function(z,V,ae,A,K,ee){M.setTransform(z,V,ae,A,K,ee),this.__originalSetTransform(z,V,ae,A,K,ee)},k.resetTransform=function(){M.resetTransform(),this.__originalResetTransform()},k.rotate=function(z){M.rotate(z),this.__originalRotate(z)},k.clip=function(z){M.clip(z),this.__originalClip(z)},k.moveTo=function(w,z){M.moveTo(w,z),this.__originalMoveTo(w,z)},k.lineTo=function(w,z){M.lineTo(w,z),this.__originalLineTo(w,z)},k.bezierCurveTo=function(w,z,V,ae,A,K){M.bezierCurveTo(w,z,V,ae,A,K),this.__originalBezierCurveTo(w,z,V,ae,A,K)},k.rect=function(w,z,V,ae){M.rect(w,z,V,ae),this.__originalRect(w,z,V,ae)},k.closePath=function(){M.closePath(),this.__originalClosePath()},k.beginPath=function(){M.beginPath(),this.__originalBeginPath()}}(ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(M){this.current.activeSMask&&(M?(M[0]=Math.floor(M[0]),M[1]=Math.floor(M[1]),M[2]=Math.ceil(M[2]),M[3]=Math.ceil(M[3])):M=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Y(k,M,w,z){const V=z[0],ae=z[1],A=z[2]-V,K=z[3]-ae;0===A||0===K||(function Q(k,M,w,z,V,ae,A,K,ee,me,G){const _e=!!ae,we=_e?ae[0]:0,De=_e?ae[1]:0,Ie=_e?ae[2]:0;let Fe;Fe="Luminosity"===V?he:L;const He=Math.min(z,Math.ceil(1048576/w));for(let Ze=0;Ze<z;Ze+=He){const N=Math.min(He,z-Ze),fe=k.getImageData(K-me,Ze+(ee-G),w,N),xe=M.getImageData(K,Ze+ee,w,N);_e&&O(fe.data,we,De,Ie),Fe(fe.data,xe.data,A),M.putImageData(xe,K,Ze+ee)}}(M.context,w,A,K,M.subtype,M.backdrop,M.transferMap,V,ae,M.offsetX,M.offsetY),k.save(),k.globalAlpha=1,k.globalCompositeOperation="source-over",k.setTransform(1,0,0,1,0,0),k.drawImage(w.canvas,0,0),k.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,M),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const M=this.current;this.stateStack.push(M),this.current=M.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(M,w,z,V,ae,A){this.ctx.transform(M,w,z,V,ae,A),this._cachedGetSinglePixelWidth=null}constructPath(M,w){const z=this.ctx,V=this.current;let K,ee,ae=V.x,A=V.y;for(let me=0,G=0,_e=M.length;me<_e;me++)switch(0|M[me]){case h.OPS.rectangle:ae=w[G++],A=w[G++];const we=w[G++],De=w[G++],Ie=ae+we,Fe=A+De;z.moveTo(ae,A),0===we||0===De?z.lineTo(Ie,Fe):(z.lineTo(Ie,A),z.lineTo(Ie,Fe),z.lineTo(ae,Fe)),V.updatePathMinMax(z.mozCurrentTransform,ae,A),V.updatePathMinMax(z.mozCurrentTransform,Ie,Fe),z.closePath();break;case h.OPS.moveTo:ae=w[G++],A=w[G++],z.moveTo(ae,A),V.updatePathMinMax(z.mozCurrentTransform,ae,A);break;case h.OPS.lineTo:ae=w[G++],A=w[G++],z.lineTo(ae,A),V.updatePathMinMax(z.mozCurrentTransform,ae,A);break;case h.OPS.curveTo:K=ae,ee=A,ae=w[G+4],A=w[G+5],z.bezierCurveTo(w[G],w[G+1],w[G+2],w[G+3],ae,A),V.updateCurvePathMinMax(z.mozCurrentTransform,K,ee,w[G],w[G+1],w[G+2],w[G+3],ae,A),G+=6;break;case h.OPS.curveTo2:K=ae,ee=A,z.bezierCurveTo(ae,A,w[G],w[G+1],w[G+2],w[G+3]),V.updateCurvePathMinMax(z.mozCurrentTransform,K,ee,ae,A,w[G],w[G+1],w[G+2],w[G+3]),ae=w[G+2],A=w[G+3],G+=4;break;case h.OPS.curveTo3:K=ae,ee=A,ae=w[G+2],A=w[G+3],z.bezierCurveTo(w[G],w[G+1],ae,A,ae,A),V.updateCurvePathMinMax(z.mozCurrentTransform,K,ee,w[G],w[G+1],ae,A,ae,A),G+=4;break;case h.OPS.closePath:z.closePath()}V.setCurrentPoint(ae,A)}closePath(){this.ctx.closePath()}stroke(M){M=void 0===M||M;const w=this.ctx,z=this.current.strokeColor;if(w.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof z&&(null==z?void 0:z.getPattern)){const V=this.getSinglePixelWidth();w.save(),w.strokeStyle=z.getPattern(w,this,w.mozCurrentTransformInverse,ie.PathType.STROKE),w.lineWidth=Math.max(V,this.current.lineWidth),w.stroke(),w.restore()}else{const V=this.getSinglePixelWidth();V<0&&-V>=this.current.lineWidth?(w.save(),w.resetTransform(),w.lineWidth=Math.floor(this._combinedScaleFactor),w.stroke(),w.restore()):(w.lineWidth=Math.max(V,this.current.lineWidth),w.stroke())}M&&this.consumePath(this.current.getClippedPathBoundingBox()),w.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(M){M=void 0===M||M;const w=this.ctx,z=this.current.fillColor;let ae=!1;this.current.patternFill&&(w.save(),w.fillStyle=z.getPattern(w,this,w.mozCurrentTransformInverse,ie.PathType.FILL),ae=!0);const A=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==A&&(this.pendingEOFill?(w.fill("evenodd"),this.pendingEOFill=!1):w.fill()),ae&&w.restore(),M&&this.consumePath(A)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=J}eoClip(){this.pendingClip=q}beginText(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const M=this.pendingTextPaths,w=this.ctx;if(void 0!==M){w.save(),w.beginPath();for(let z=0;z<M.length;z++){const V=M[z];w.setTransform.apply(w,V.transform),w.translate(V.x,V.y),V.addToPath(w,V.fontSize)}w.restore(),w.clip(),w.beginPath(),delete this.pendingTextPaths}else w.beginPath()}setCharSpacing(M){this.current.charSpacing=M}setWordSpacing(M){this.current.wordSpacing=M}setHScale(M){this.current.textHScale=M/100}setLeading(M){this.current.leading=-M}setFont(M,w){const z=this.commonObjs.get(M),V=this.current;if(!z)throw new Error(`Can't find font for ${M}`);if(V.fontMatrix=z.fontMatrix||h.FONT_IDENTITY_MATRIX,(0===V.fontMatrix[0]||0===V.fontMatrix[3])&&(0,h.warn)("Invalid font matrix for font "+M),w<0?(w=-w,V.fontDirection=-1):V.fontDirection=1,this.current.font=z,this.current.fontSize=w,z.isType3Font)return;let A="normal";z.black?A="900":z.bold&&(A="bold");const K=z.italic?"italic":"normal",ee=`"${z.loadedName||"sans-serif"}", ${z.fallbackName}`;let me=w;w<16?me=16:w>100&&(me=100),this.current.fontSizeScale=w/me,this.ctx.font=`${K} ${A} ${me}px ${ee}`}setTextRenderingMode(M){this.current.textRenderingMode=M}setTextRise(M){this.current.textRise=M}moveText(M,w){this.current.x=this.current.lineX+=M,this.current.y=this.current.lineY+=w}setLeadingMoveText(M,w){this.setLeading(-w),this.moveText(M,w)}setTextMatrix(M,w,z,V,ae,A){this.current.textMatrix=[M,w,z,V,ae,A],this.current.textMatrixScale=Math.hypot(M,w),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(M,w,z,V,ae){const A=this.ctx,K=this.current,ee=K.font,me=K.textRenderingMode,G=K.fontSize/K.fontSizeScale,_e=me&h.TextRenderingMode.FILL_STROKE_MASK,we=!!(me&h.TextRenderingMode.ADD_TO_PATH_FLAG),De=K.patternFill&&!ee.missingFile;let Ie;(ee.disableFontFace||we||De)&&(Ie=ee.getPathGenerator(this.commonObjs,M)),ee.disableFontFace||De?(A.save(),A.translate(w,z),A.beginPath(),Ie(A,G),V&&A.setTransform.apply(A,V),(_e===h.TextRenderingMode.FILL||_e===h.TextRenderingMode.FILL_STROKE)&&A.fill(),(_e===h.TextRenderingMode.STROKE||_e===h.TextRenderingMode.FILL_STROKE)&&(ae&&(A.resetTransform(),A.lineWidth=Math.floor(this._combinedScaleFactor)),A.stroke()),A.restore()):((_e===h.TextRenderingMode.FILL||_e===h.TextRenderingMode.FILL_STROKE)&&A.fillText(M,w,z),(_e===h.TextRenderingMode.STROKE||_e===h.TextRenderingMode.FILL_STROKE)&&(ae?(A.save(),A.moveTo(w,z),A.resetTransform(),A.lineWidth=Math.floor(this._combinedScaleFactor),A.strokeText(M,0,0),A.restore()):A.strokeText(M,w,z))),we&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:A.mozCurrentTransform,x:w,y:z,fontSize:G,addToPath:Ie})}get isFontSubpixelAAEnabled(){const{context:M}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);M.scale(1.5,1),M.fillText("I",0,10);const w=M.getImageData(0,0,10,10).data;let z=!1;for(let V=3;V<w.length;V+=4)if(w[V]>0&&w[V]<255){z=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",z)}showText(M){const w=this.current,z=w.font;if(z.isType3Font)return this.showType3Text(M);const V=w.fontSize;if(0===V)return;const ae=this.ctx,A=w.fontSizeScale,K=w.charSpacing,ee=w.wordSpacing,me=w.fontDirection,G=w.textHScale*me,_e=M.length,we=z.vertical,De=we?1:-1,Ie=z.defaultVMetrics,Fe=V*w.fontMatrix[0],ze=w.textRenderingMode===h.TextRenderingMode.FILL&&!z.disableFontFace&&!w.patternFill;let He;if(ae.save(),ae.transform.apply(ae,w.textMatrix),ae.translate(w.x,w.y+w.textRise),ae.scale(G,me>0?-1:1),w.patternFill){ae.save();const Me=w.fillColor.getPattern(ae,this,ae.mozCurrentTransformInverse,ie.PathType.FILL);He=ae.mozCurrentTransform,ae.restore(),ae.fillStyle=Me}let Ze=w.lineWidth,N=!1;const fe=w.textMatrixScale;if(0===fe||0===Ze){const Me=w.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(Me===h.TextRenderingMode.STROKE||Me===h.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Ze=this.getSinglePixelWidth(),N=Ze<0)}else Ze/=fe;1!==A&&(ae.scale(A,A),Ze/=A),ae.lineWidth=Ze;let Ae,xe=0;for(Ae=0;Ae<_e;++Ae){const Me=M[Ae];if("number"==typeof Me){xe+=De*Me*V/1e3;continue}let Ve=!1;const Xe=(Me.isSpace?ee:0)+K,Je=Me.fontChar,mt=Me.accent;let _t,et,ut,yt=Me.width;if(we){const nt=Me.vmetric||Ie,Ft=-(Me.vmetric?nt[1]:.5*yt)*Fe;yt=nt?-nt[0]:yt,_t=Ft/A,et=(xe+nt[2]*Fe)/A}else _t=xe/A,et=0;if(z.remeasure&&yt>0){const nt=1e3*ae.measureText(Je).width/V*A;if(yt<nt&&this.isFontSubpixelAAEnabled){const Ft=yt/nt;Ve=!0,ae.save(),ae.scale(Ft,1),_t/=Ft}else yt!==nt&&(_t+=(yt-nt)/2e3*V/A)}this.contentVisible&&(Me.isInFont||z.missingFile)&&(ze&&!mt?ae.fillText(Je,_t,et):(this.paintChar(Je,_t,et,He,N),mt&&this.paintChar(mt.fontChar,_t+V*mt.offset.x/A,et-V*mt.offset.y/A,He,N))),ut=we?yt*Fe-Xe*me:yt*Fe+Xe*me,xe+=ut,Ve&&ae.restore()}we?w.y-=xe:w.x+=xe*G,ae.restore(),this.compose()}showType3Text(M){const w=this.ctx,z=this.current,V=z.font,ae=z.fontSize,A=z.fontDirection,K=V.vertical?1:-1,ee=z.charSpacing,me=z.wordSpacing,G=z.textHScale*A,_e=z.fontMatrix||h.FONT_IDENTITY_MATRIX,we=M.length;let Ie,Fe,ze,He;if(z.textRenderingMode!==h.TextRenderingMode.INVISIBLE&&0!==ae){for(this._cachedGetSinglePixelWidth=null,w.save(),w.transform.apply(w,z.textMatrix),w.translate(z.x,z.y),w.scale(G,A),Ie=0;Ie<we;++Ie){if(Fe=M[Ie],"number"==typeof Fe){He=K*Fe*ae/1e3,this.ctx.translate(He,0),z.x+=He*G;continue}const Ze=(Fe.isSpace?me:0)+ee,N=V.charProcOperatorList[Fe.operatorListId];N?(this.contentVisible&&(this.processingType3=Fe,this.save(),w.scale(ae,ae),w.transform.apply(w,_e),this.executeOperatorList(N),this.restore()),ze=h.Util.applyTransform([Fe.width,0],_e)[0]*ae+Ze,w.translate(ze,0),z.x+=ze*G):(0,h.warn)(`Type3 character "${Fe.operatorListId}" is not available.`)}w.restore(),this.processingType3=null}}setCharWidth(M,w){}setCharWidthAndBounds(M,w,z,V,ae,A){this.ctx.rect(z,V,ae-z,A-V),this.clip(),this.endPath()}getColorN_Pattern(M){let w;if("TilingPattern"===M[0]){const z=M[1],V=this.baseTransform||this.ctx.mozCurrentTransform.slice();w=new ie.TilingPattern(M,z,this.ctx,{createCanvasGraphics:A=>new re(A,this.commonObjs,this.objs,this.canvasFactory)},V)}else w=this._getPattern(M[1],M[2]);return w}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(M,w,z){const V=h.Util.makeHexColor(M,w,z);this.ctx.strokeStyle=V,this.current.strokeColor=V}setFillRGBColor(M,w,z){const V=h.Util.makeHexColor(M,w,z);this.ctx.fillStyle=V,this.current.fillColor=V,this.current.patternFill=!1}_getPattern(M,w=null){let z;return this.cachedPatterns.has(M)?z=this.cachedPatterns.get(M):(z=(0,ie.getShadingPattern)(this.objs.get(M)),this.cachedPatterns.set(M,z)),w&&(z.matrix=w),z}shadingFill(M){if(!this.contentVisible)return;const w=this.ctx;this.save();const z=this._getPattern(M);w.fillStyle=z.getPattern(w,this,w.mozCurrentTransformInverse,ie.PathType.SHADING);const V=w.mozCurrentTransformInverse;if(V){const ae=w.canvas,A=ae.width,K=ae.height,ee=h.Util.applyTransform([0,0],V),me=h.Util.applyTransform([0,K],V),G=h.Util.applyTransform([A,0],V),_e=h.Util.applyTransform([A,K],V),we=Math.min(ee[0],me[0],G[0],_e[0]),De=Math.min(ee[1],me[1],G[1],_e[1]),Ie=Math.max(ee[0],me[0],G[0],_e[0]),Fe=Math.max(ee[1],me[1],G[1],_e[1]);this.ctx.fillRect(we,De,Ie-we,Fe-De)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,h.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,h.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(M,w){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(M)&&6===M.length&&this.transform.apply(this,M),this.baseTransform=this.ctx.mozCurrentTransform,w)&&(this.ctx.rect(w[0],w[1],w[2]-w[0],w[3]-w[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,w[0],w[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,w[2],w[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(M){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const w=this.ctx;M.isolated||(0,h.info)("TODO: Support non-isolated groups."),M.knockout&&(0,h.warn)("Knockout groups not supported.");const z=w.mozCurrentTransform;if(M.matrix&&w.transform.apply(w,M.matrix),!M.bbox)throw new Error("Bounding box is required.");let V=h.Util.getAxialAlignedBoundingBox(M.bbox,w.mozCurrentTransform);V=h.Util.intersect(V,[0,0,w.canvas.width,w.canvas.height])||[0,0,0,0];const A=Math.floor(V[0]),K=Math.floor(V[1]);let ee=Math.max(Math.ceil(V[2])-A,1),me=Math.max(Math.ceil(V[3])-K,1),G=1,_e=1;ee>se&&(G=ee/se,ee=se),me>se&&(_e=me/se,me=se),this.current.startNewPathAndClipBox([0,0,ee,me]);let we="groupAt"+this.groupLevel;M.smask&&(we+="_smask_"+this.smaskCounter++%2);const De=this.cachedCanvases.getCanvas(we,ee,me,!0),Ie=De.context;Ie.scale(1/G,1/_e),Ie.translate(-A,-K),Ie.transform.apply(Ie,z),M.smask?this.smaskStack.push({canvas:De.canvas,context:Ie,offsetX:A,offsetY:K,scaleX:G,scaleY:_e,subtype:M.smask.subtype,backdrop:M.smask.backdrop,transferMap:M.smask.transferMap||null,startTransformInverse:null}):(w.setTransform(1,0,0,1,0,0),w.translate(A,K),w.scale(G,_e),w.save()),v(w,Ie),this.ctx=Ie,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(w),this.groupLevel++}endGroup(M){if(!this.contentVisible)return;this.groupLevel--;const w=this.ctx,z=this.groupStack.pop();if(this.ctx=z,this.ctx.imageSmoothingEnabled=!1,M.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const V=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,V);const ae=h.Util.getAxialAlignedBoundingBox([0,0,w.canvas.width,w.canvas.height],V);this.ctx.drawImage(w.canvas,0,0),this.ctx.restore(),this.compose(ae)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(M,w,z,V,ae){if(this.save(),Array.isArray(w)&&4===w.length){const A=w[2]-w[0],K=w[3]-w[1];if(ae&&this.annotationCanvasMap){(z=z.slice())[4]-=w[0],z[5]-=w[1],(w=w.slice())[0]=w[1]=0,w[2]=A,w[3]=K;const[ee,me]=h.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:G}=this,_e=Math.ceil(A*this.outputScaleX*G),we=Math.ceil(K*this.outputScaleY*G);this.annotationCanvas=this.canvasFactory.create(_e,we);const{canvas:De,context:Ie}=this.annotationCanvas;De.style.width=`calc(${A}px * var(--viewport-scale-factor))`,De.style.height=`calc(${K}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(M,De),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ie,this.ctx.setTransform(ee,0,0,-me,0,K*me),_(this.ctx),R(this.ctx)}else R(this.ctx),this.ctx.rect(w[0],w[1],A,K),this.clip(),this.endPath()}this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,z),this.transform.apply(this,V)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(M){if(!this.contentVisible)return;const w=this.ctx,z=M.width,V=M.height,ae=this.processingType3;if(ae&&void 0===ae.compiled&&(ae.compiled=z<=1e3&&V<=1e3?function de(k){const w=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),z=k.width,V=k.height,ae=z+1;let A,K,ee,me;const G=new Uint8Array(ae*(V+1)),_e=z+7&-8,we=k.data,De=new Uint8Array(_e*V);let Ie=0;for(A=0,K=we.length;A<K;A++){const N=we[A];let fe=128;for(;fe>0;)De[Ie++]=N&fe?0:255,fe>>=1}let Fe=0;for(Ie=0,0!==De[Ie]&&(G[0]=1,++Fe),ee=1;ee<z;ee++)De[Ie]!==De[Ie+1]&&(G[ee]=De[Ie]?2:1,++Fe),Ie++;for(0!==De[Ie]&&(G[ee]=2,++Fe),A=1;A<V;A++){Ie=A*_e,me=A*ae,De[Ie-_e]!==De[Ie]&&(G[me]=De[Ie]?1:8,++Fe);let N=(De[Ie]?4:0)+(De[Ie-_e]?8:0);for(ee=1;ee<z;ee++)N=(N>>2)+(De[Ie+1]?4:0)+(De[Ie-_e+1]?8:0),w[N]&&(G[me+ee]=w[N],++Fe),Ie++;if(De[Ie-_e]!==De[Ie]&&(G[me+ee]=De[Ie]?2:4,++Fe),Fe>1e3)return null}for(Ie=_e*(V-1),me=A*ae,0!==De[Ie]&&(G[me]=8,++Fe),ee=1;ee<z;ee++)De[Ie]!==De[Ie+1]&&(G[me+ee]=De[Ie]?4:8,++Fe),Ie++;if(0!==De[Ie]&&(G[me+ee]=4,++Fe),Fe>1e3)return null;const ze=new Int32Array([0,ae,-1,0,-ae,0,0,0,1]),He=[];for(A=0;Fe&&A<=V;A++){let N=A*ae;const fe=N+z;for(;N<fe&&!G[N];)N++;if(N===fe)continue;const xe=[N%ae,A],Ae=N;let Me=G[N];do{const Ve=ze[Me];do{N+=Ve}while(!G[N]);const Xe=G[N];5!==Xe&&10!==Xe?(Me=Xe,G[N]=0):(Me=Xe&51*Me>>4,G[N]&=Me>>2|Me<<2),xe.push(N%ae,N/ae|0),G[N]||--Fe}while(Ae!==N);He.push(xe),--A}return function(N){N.save(),N.scale(1/z,-1/V),N.translate(0,-V),N.beginPath();for(let fe=0,xe=He.length;fe<xe;fe++){const Ae=He[fe];N.moveTo(Ae[0],Ae[1]);for(let Me=2,Ve=Ae.length;Me<Ve;Me+=2)N.lineTo(Ae[Me],Ae[Me+1])}N.fill(),N.beginPath(),N.restore()}}({data:M.data,width:z,height:V}):null),null==ae?void 0:ae.compiled)return void ae.compiled(w);const A=this._createMaskCanvas(M),K=A.canvas;w.save(),w.setTransform(1,0,0,1,0,0),w.drawImage(K,A.offsetX,A.offsetY),w.restore(),this.compose()}paintImageMaskXObjectRepeat(M,w,z=0,V=0,ae,A){if(!this.contentVisible)return;const K=this.ctx;K.save();const ee=K.mozCurrentTransform;K.transform(w,z,V,ae,0,0);const me=this._createMaskCanvas(M);K.setTransform(1,0,0,1,0,0);for(let G=0,_e=A.length;G<_e;G+=2){const we=h.Util.transform(ee,[w,z,V,ae,A[G],A[G+1]]),[De,Ie]=h.Util.applyTransform([0,0],we);K.drawImage(me.canvas,De,Ie)}K.restore(),this.compose()}paintImageMaskXObjectGroup(M){if(!this.contentVisible)return;const w=this.ctx,z=this.current.fillColor,V=this.current.patternFill;for(let ae=0,A=M.length;ae<A;ae++){const K=M[ae],ee=K.width,me=K.height,G=this.cachedCanvases.getCanvas("maskCanvas",ee,me),_e=G.context;_e.save(),m(_e,K),_e.globalCompositeOperation="source-in",_e.fillStyle=V?z.getPattern(_e,this,w.mozCurrentTransformInverse,ie.PathType.FILL):z,_e.fillRect(0,0,ee,me),_e.restore(),w.save(),w.transform.apply(w,K.transform),w.scale(1,-1),w.drawImage(G.canvas,0,0,ee,me,0,-1,1,1),w.restore()}this.compose()}paintImageXObject(M){if(!this.contentVisible)return;const w=M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M);w?this.paintInlineImageXObject(w):(0,h.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(M,w,z,V){if(!this.contentVisible)return;const ae=M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M);if(!ae)return void(0,h.warn)("Dependent image isn't ready yet");const A=ae.width,K=ae.height,ee=[];for(let me=0,G=V.length;me<G;me+=2)ee.push({transform:[w,0,0,z,V[me],V[me+1]],x:0,y:0,w:A,h:K});this.paintInlineImageXObjectGroup(ae,ee)}paintInlineImageXObject(M){if(!this.contentVisible)return;const w=M.width,z=M.height,V=this.ctx;let ae;if(this.save(),V.scale(1/w,-1/z),"function"==typeof HTMLElement&&M instanceof HTMLElement||!M.data)ae=M;else{const K=this.cachedCanvases.getCanvas("inlineImage",w,z);H(K.context,M,this.current.transferMaps),ae=K.canvas}const A=this._scaleImage(ae,V.mozCurrentTransformInverse);if(V.imageSmoothingEnabled=te(V.mozCurrentTransform,M.interpolate),V.drawImage(A.img,0,0,A.paintWidth,A.paintHeight,0,-z,w,z),this.imageLayer){const K=this.getCanvasPosition(0,-z);this.imageLayer.appendImage({imgData:M,left:K[0],top:K[1],width:w/V.mozCurrentTransformInverse[0],height:z/V.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(M,w){if(!this.contentVisible)return;const z=this.ctx,V=M.width,ae=M.height,A=this.cachedCanvases.getCanvas("inlineImage",V,ae);H(A.context,M,this.current.transferMaps);for(let ee=0,me=w.length;ee<me;ee++){const G=w[ee];if(z.save(),z.transform.apply(z,G.transform),z.scale(1,-1),z.drawImage(A.canvas,G.x,G.y,G.w,G.h,0,-1,1,1),this.imageLayer){const _e=this.getCanvasPosition(G.x,G.y);this.imageLayer.appendImage({imgData:M,left:_e[0],top:_e[1],width:V,height:ae})}z.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(M){}markPointProps(M,w){}beginMarkedContent(M){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(M,w){this.markedContentStack.push("OC"===M?{visible:this.optionalContentConfig.isVisible(w)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(M){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(M);const w=this.ctx;this.pendingClip&&(this.pendingClip===q?w.clip("evenodd"):w.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),w.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const M=this.ctx.mozCurrentTransform,w=Math.abs(M[0]*M[3]-M[2]*M[1]),z=M[0]**2+M[2]**2,V=M[1]**2+M[3]**2,ae=Math.sqrt(Math.max(z,V))/w;this._cachedGetSinglePixelWidth=z!==V&&this._combinedScaleFactor*ae>1?-this._combinedScaleFactor*ae:w>Number.EPSILON?ae:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(M,w){const z=this.ctx.mozCurrentTransform;return[z[0]*M+z[2]*w+z[4],z[1]*M+z[3]*w+z[5]]}isContentVisible(){for(let M=this.markedContentStack.length-1;M>=0;M--)if(!this.markedContentStack[M].visible)return!1;return!0}}ne.CanvasGraphics=re;for(const k in h.OPS)void 0!==re.prototype[k]&&(re.prototype[h.OPS[k]]=re.prototype[k])},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.TilingPattern=ne.PathType=void 0,ne.getShadingPattern=function E(I){switch(I[0]){case"RadialAxial":return new ye(I);case"Mesh":return new T(I);case"Dummy":return new y}throw new Error(`Unknown IR type: ${I[0]}`)};var h=le(1);const ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ge(I,_){if(!_||"undefined"==typeof Path2D)return;const W=_[2]-_[0],de=_[3]-_[1],B=new Path2D;B.rect(_[0],_[1],W,de),I.clip(B)}ne.PathType=ie;class be{constructor(){this.constructor===be&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,h.unreachable)("Abstract method `getPattern` called.")}}class ye extends be{constructor(_){super(),this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let W;"axial"===this._type?W=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(W=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const de of this._colorStops)W.addColorStop(de[0],de[1]);return W}getPattern(_,W,de,B){let H;if(B===ie.STROKE||B===ie.FILL){const m=W.current.getClippedPathBoundingBox(B,_.mozCurrentTransform)||[0,0,0,0],v=Math.ceil(m[2]-m[0])||1,R=Math.ceil(m[3]-m[1])||1,O=W.cachedCanvases.getCanvas("pattern",v,R,!0),L=O.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-m[0],-m[1]),de=h.Util.transform(de,[1,0,0,1,m[0],m[1]]),L.transform.apply(L,W.baseTransform),this.matrix&&L.transform.apply(L,this.matrix),ge(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),H=_.createPattern(O.canvas,"no-repeat");const he=new DOMMatrix(de);try{H.setTransform(he)}catch(Q){(0,h.warn)(`RadialAxialShadingPattern.getPattern: "${null==Q?void 0:Q.message}".`)}}else ge(_,this._bbox),H=this._createGradient(_);return H}}function se(I,_,W,de,B,H,m,v){const R=_.coords,O=_.colors,L=I.data,he=4*I.width;let Q;R[W+1]>R[de+1]&&(Q=W,W=de,de=Q,Q=H,H=m,m=Q),R[de+1]>R[B+1]&&(Q=de,de=B,B=Q,Q=m,m=v,v=Q),R[W+1]>R[de+1]&&(Q=W,W=de,de=Q,Q=H,H=m,m=Q);const Y=(R[W]+_.offsetX)*_.scaleX,te=(R[W+1]+_.offsetY)*_.scaleY,F=(R[de]+_.offsetX)*_.scaleX,U=(R[de+1]+_.offsetY)*_.scaleY,J=(R[B]+_.offsetX)*_.scaleX,q=(R[B+1]+_.offsetY)*_.scaleY;if(te>=q)return;const re=O[H],k=O[H+1],M=O[H+2],w=O[m],z=O[m+1],V=O[m+2],ae=O[v],A=O[v+1],K=O[v+2],ee=Math.round(te),me=Math.round(q);let G,_e,we,De,Ie,Fe,ze,He;for(let Ze=ee;Ze<=me;Ze++){if(Ze<U){let Me;Me=Ze<te?0:(te-Ze)/(te-U),G=Y-(Y-F)*Me,_e=re-(re-w)*Me,we=k-(k-z)*Me,De=M-(M-V)*Me}else{let Me;Me=Ze>q?1:U===q?0:(U-Ze)/(U-q),G=F-(F-J)*Me,_e=w-(w-ae)*Me,we=z-(z-A)*Me,De=V-(V-K)*Me}let N;N=Ze<te?0:Ze>q?1:(te-Ze)/(te-q),Ie=Y-(Y-J)*N,Fe=re-(re-ae)*N,ze=k-(k-A)*N,He=M-(M-K)*N;const fe=Math.round(Math.min(G,Ie)),xe=Math.round(Math.max(G,Ie));let Ae=he*Ze+4*fe;for(let Me=fe;Me<=xe;Me++)N=(G-Me)/(G-Ie),N<0?N=0:N>1&&(N=1),L[Ae++]=_e-(_e-Fe)*N|0,L[Ae++]=we-(we-ze)*N|0,L[Ae++]=De-(De-He)*N|0,L[Ae++]=255}}function f(I,_,W){const de=_.coords,B=_.colors;let H,m;switch(_.type){case"lattice":const v=_.verticesPerRow,R=Math.floor(de.length/v)-1,O=v-1;for(H=0;H<R;H++){let L=H*v;for(let he=0;he<O;he++,L++)se(I,W,de[L],de[L+1],de[L+v],B[L],B[L+1],B[L+v]),se(I,W,de[L+v+1],de[L+1],de[L+v],B[L+v+1],B[L+1],B[L+v])}break;case"triangles":for(H=0,m=de.length;H<m;H+=3)se(I,W,de[H],de[H+1],de[H+2],B[H],B[H+1],B[H+2]);break;default:throw new Error("illegal figure")}}class T extends be{constructor(_){super(),this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,W,de){const v=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-v,L=Math.ceil(this._bounds[3])-R,he=Math.min(Math.ceil(Math.abs(O*_[0]*1.1)),3e3),Q=Math.min(Math.ceil(Math.abs(L*_[1]*1.1)),3e3),Y=O/he,te=L/Q,F={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-R,scaleX:1/Y,scaleY:1/te},q=de.getCanvas("mesh",he+4,Q+4,!1),re=q.context,k=re.createImageData(he,Q);if(W){const w=k.data;for(let z=0,V=w.length;z<V;z+=4)w[z]=W[0],w[z+1]=W[1],w[z+2]=W[2],w[z+3]=255}for(const w of this._figures)f(k,w,F);return re.putImageData(k,2,2),{canvas:q.canvas,offsetX:v-2*Y,offsetY:R-2*te,scaleX:Y,scaleY:te}}getPattern(_,W,de,B){let H;if(ge(_,this._bbox),B===ie.SHADING)H=h.Util.singularValueDecompose2dScale(_.mozCurrentTransform);else if(H=h.Util.singularValueDecompose2dScale(W.baseTransform),this.matrix){const v=h.Util.singularValueDecompose2dScale(this.matrix);H=[H[0]*v[0],H[1]*v[1]]}const m=this._createMeshCanvas(H,B===ie.SHADING?null:this._background,W.cachedCanvases);return B!==ie.SHADING&&(_.setTransform.apply(_,W.baseTransform),this.matrix&&_.transform.apply(_,this.matrix)),_.translate(m.offsetX,m.offsetY),_.scale(m.scaleX,m.scaleY),_.createPattern(m.canvas,"no-repeat")}}class y extends be{getPattern(){return"hotpink"}}class Z{static get MAX_PATTERN_SIZE(){return(0,h.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(_,W,de,B,H){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=W,this.ctx=de,this.canvasGraphicsFactory=B,this.baseTransform=H}createPatternCanvas(_){const W=this.operatorList,de=this.bbox,B=this.xstep,H=this.ystep,m=this.paintType,R=this.color,O=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+this.tilingType);const L=de[0],he=de[1],Q=de[2],Y=de[3],te=h.Util.singularValueDecompose2dScale(this.matrix),F=h.Util.singularValueDecompose2dScale(this.baseTransform),U=[te[0]*F[0],te[1]*F[1]],J=this.getSizeAndScale(B,this.ctx.canvas.width,U[0]),q=this.getSizeAndScale(H,this.ctx.canvas.height,U[1]),re=_.cachedCanvases.getCanvas("pattern",J.size,q.size,!0),k=re.context,M=O.createCanvasGraphics(k);M.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(M,m,R);let w=L,z=he,V=Q,ae=Y;return L<0&&(w=0,V+=Math.abs(L)),he<0&&(z=0,ae+=Math.abs(he)),k.translate(-J.scale*w,-q.scale*z),M.transform(J.scale,0,0,q.scale,0,0),k.save(),this.clipBbox(M,w,z,V,ae),M.baseTransform=M.ctx.mozCurrentTransform.slice(),M.executeOperatorList(W),M.endDrawing(),{canvas:re.canvas,scaleX:J.scale,scaleY:q.scale,offsetX:w,offsetY:z}}getSizeAndScale(_,W,de){_=Math.abs(_);const B=Math.max(Z.MAX_PATTERN_SIZE,W);let H=Math.ceil(_*de);return H>=B?H=B:de=H/_,{scale:de,size:H}}clipBbox(_,W,de,B,H){_.ctx.rect(W,de,B-W,H-de),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,W,de){const B=_.ctx,H=_.current;switch(W){case 1:const m=this.ctx;B.fillStyle=m.fillStyle,B.strokeStyle=m.strokeStyle,H.fillColor=m.fillStyle,H.strokeColor=m.strokeStyle;break;case 2:const v=h.Util.makeHexColor(de[0],de[1],de[2]);B.fillStyle=v,B.strokeStyle=v,H.fillColor=v,H.strokeColor=v;break;default:throw new h.FormatError(`Unsupported paint type: ${W}`)}}getPattern(_,W,de,B){let H=de;B!==ie.SHADING&&(H=h.Util.transform(H,W.baseTransform),this.matrix&&(H=h.Util.transform(H,this.matrix)));const m=this.createPatternCanvas(W);let v=new DOMMatrix(H);v=v.translate(m.offsetX,m.offsetY),v=v.scale(1/m.scaleX,1/m.scaleY);const R=_.createPattern(m.canvas,"repeat");try{R.setTransform(v)}catch(O){(0,h.warn)(`TilingPattern.getPattern: "${null==O?void 0:O.message}".`)}return R}}ne.TilingPattern=Z},(Ue,ne)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.GlobalWorkerOptions=void 0;const le=Object.create(null);ne.GlobalWorkerOptions=le,le.workerPort=void 0===le.workerPort?null:le.workerPort,le.workerSrc=void 0===le.workerSrc?"":le.workerSrc},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.MessageHandler=void 0;var h=le(1);function be(se){switch(se instanceof Error||"object"==typeof se&&null!==se||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),se.name){case"AbortException":return new h.AbortException(se.message);case"MissingPDFException":return new h.MissingPDFException(se.message);case"PasswordException":return new h.PasswordException(se.message,se.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(se.message,se.status);case"UnknownErrorException":return new h.UnknownErrorException(se.message,se.details);default:return new h.UnknownErrorException(se.message,se.toString())}}ne.MessageHandler=class ye{constructor(f,T,y){this.sourceName=f,this.targetName=T,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=E=>{const D=E.data;if(D.targetName!==this.sourceName)return;if(D.stream)return void this._processStreamMessage(D);if(D.callback){const I=D.callbackId,_=this.callbackCapabilities[I];if(!_)throw new Error(`Cannot resolve callback ${I}`);if(delete this.callbackCapabilities[I],1===D.callback)_.resolve(D.data);else{if(2!==D.callback)throw new Error("Unexpected callback case");_.reject(be(D.reason))}return}const Z=this.actionHandler[D.action];if(!Z)throw new Error(`Unknown action from worker: ${D.action}`);if(D.callbackId){const I=this.sourceName,_=D.sourceName;new Promise(function(W){W(Z(D.data))}).then(function(W){y.postMessage({sourceName:I,targetName:_,callback:1,callbackId:D.callbackId,data:W})},function(W){y.postMessage({sourceName:I,targetName:_,callback:2,callbackId:D.callbackId,reason:be(W)})})}else D.streamId?this._createStreamSink(D):Z(D.data)},y.addEventListener("message",this._onComObjOnMessage)}on(f,T){const y=this.actionHandler;if(y[f])throw new Error(`There is already an actionName called "${f}"`);y[f]=T}send(f,T,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:T},y)}sendWithPromise(f,T,y){const E=this.callbackId++,D=(0,h.createPromiseCapability)();this.callbackCapabilities[E]=D;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:E,data:T},y)}catch(Z){D.reject(Z)}return D.promise}sendWithStream(f,T,y,E){const D=this.streamId++,Z=this.sourceName,I=this.targetName,_=this.comObj;return new ReadableStream({start:W=>{const de=(0,h.createPromiseCapability)();return this.streamControllers[D]={controller:W,startCall:de,pullCall:null,cancelCall:null,isClosed:!1},_.postMessage({sourceName:Z,targetName:I,action:f,streamId:D,data:T,desiredSize:W.desiredSize},E),de.promise},pull:W=>{const de=(0,h.createPromiseCapability)();return this.streamControllers[D].pullCall=de,_.postMessage({sourceName:Z,targetName:I,stream:6,streamId:D,desiredSize:W.desiredSize}),de.promise},cancel:W=>{(0,h.assert)(W instanceof Error,"cancel must have a valid reason");const de=(0,h.createPromiseCapability)();return this.streamControllers[D].cancelCall=de,this.streamControllers[D].isClosed=!0,_.postMessage({sourceName:Z,targetName:I,stream:1,streamId:D,reason:be(W)}),de.promise}},y)}_createStreamSink(f){const T=f.streamId,y=this.sourceName,E=f.sourceName,D=this.comObj,Z=this,I=this.actionHandler[f.action],_={enqueue(W,de=1,B){if(this.isCancelled)return;const H=this.desiredSize;this.desiredSize-=de,H>0&&this.desiredSize<=0&&(this.sinkCapability=(0,h.createPromiseCapability)(),this.ready=this.sinkCapability.promise),D.postMessage({sourceName:y,targetName:E,stream:4,streamId:T,chunk:W},B)},close(){this.isCancelled||(this.isCancelled=!0,D.postMessage({sourceName:y,targetName:E,stream:3,streamId:T}),delete Z.streamSinks[T])},error(W){(0,h.assert)(W instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,D.postMessage({sourceName:y,targetName:E,stream:5,streamId:T,reason:be(W)}))},sinkCapability:(0,h.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[T]=_,new Promise(function(W){W(I(f.data,_))}).then(function(){D.postMessage({sourceName:y,targetName:E,stream:8,streamId:T,success:!0})},function(W){D.postMessage({sourceName:y,targetName:E,stream:8,streamId:T,reason:be(W)})})}_processStreamMessage(f){const T=f.streamId,y=this.sourceName,E=f.sourceName,D=this.comObj,Z=this.streamControllers[T],I=this.streamSinks[T];switch(f.stream){case 8:f.success?Z.startCall.resolve():Z.startCall.reject(be(f.reason));break;case 7:f.success?Z.pullCall.resolve():Z.pullCall.reject(be(f.reason));break;case 6:if(!I){D.postMessage({sourceName:y,targetName:E,stream:7,streamId:T,success:!0});break}I.desiredSize<=0&&f.desiredSize>0&&I.sinkCapability.resolve(),I.desiredSize=f.desiredSize,new Promise(function(_){_(I.onPull&&I.onPull())}).then(function(){D.postMessage({sourceName:y,targetName:E,stream:7,streamId:T,success:!0})},function(_){D.postMessage({sourceName:y,targetName:E,stream:7,streamId:T,reason:be(_)})});break;case 4:if((0,h.assert)(Z,"enqueue should have stream controller"),Z.isClosed)break;Z.controller.enqueue(f.chunk);break;case 3:if((0,h.assert)(Z,"close should have stream controller"),Z.isClosed)break;Z.isClosed=!0,Z.controller.close(),this._deleteStreamController(Z,T);break;case 5:(0,h.assert)(Z,"error should have stream controller"),Z.controller.error(be(f.reason)),this._deleteStreamController(Z,T);break;case 2:f.success?Z.cancelCall.resolve():Z.cancelCall.reject(be(f.reason)),this._deleteStreamController(Z,T);break;case 1:if(!I)break;new Promise(function(_){_(I.onCancel&&I.onCancel(be(f.reason)))}).then(function(){D.postMessage({sourceName:y,targetName:E,stream:2,streamId:T,success:!0})},function(_){D.postMessage({sourceName:y,targetName:E,stream:2,streamId:T,reason:be(_)})}),I.sinkCapability.reject(be(f.reason)),I.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(f,T){var y=this;return _asyncToGenerator(function*(){yield Promise.allSettled([f.startCall&&f.startCall.promise,f.pullCall&&f.pullCall.promise,f.cancelCall&&f.cancelCall.promise]),delete y.streamControllers[T]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ue,ne,le)=>{var ge,be;Object.defineProperty(ne,"__esModule",{value:!0}),ne.Metadata=void 0;var h=le(1);ge=new WeakMap,be=new WeakMap,ne.Metadata=class ie{constructor({parsedData:se,rawData:f}){Xt(this,ge,void 0),Xt(this,be,void 0),An(this,ge,se),An(this,be,f)}getRaw(){return vt(this,be)}get(se){var f;return null!=(f=vt(this,ge).get(se))?f:null}getAll(){return(0,h.objectFromMap)(vt(this,ge))}has(se){return vt(this,ge).has(se)}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.OptionalContentConfig=void 0;var h=le(1);class ie{constructor(ye,se){this.visible=!0,this.name=ye,this.intent=se}}ne.OptionalContentConfig=class ge{constructor(ye){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ye){this.name=ye.name,this.creator=ye.creator,this._order=ye.order;for(const se of ye.groups)this._groups.set(se.id,new ie(se.name,se.intent));if("OFF"===ye.baseState)for(const se of this._groups)se.visible=!1;for(const se of ye.on)this._groups.get(se).visible=!0;for(const se of ye.off)this._groups.get(se).visible=!1}}_evaluateVisibilityExpression(ye){const se=ye.length;if(se<2)return!0;const f=ye[0];for(let T=1;T<se;T++){const y=ye[T];let E;if(Array.isArray(y))E=this._evaluateVisibilityExpression(y);else{if(!this._groups.has(y))return(0,h.warn)(`Optional content group not found: ${y}`),!0;E=this._groups.get(y).visible}switch(f){case"And":if(!E)return!1;break;case"Or":if(E)return!0;break;case"Not":return!E;default:return!0}}return"And"===f}isVisible(ye){if(0===this._groups.size)return!0;if(!ye)return(0,h.warn)("Optional content group not defined."),!0;if("OCG"===ye.type)return this._groups.has(ye.id)?this._groups.get(ye.id).visible:((0,h.warn)(`Optional content group not found: ${ye.id}`),!0);if("OCMD"===ye.type){if(ye.expression)return this._evaluateVisibilityExpression(ye.expression);if(!ye.policy||"AnyOn"===ye.policy){for(const se of ye.ids){if(!this._groups.has(se))return(0,h.warn)(`Optional content group not found: ${se}`),!0;if(this._groups.get(se).visible)return!0}return!1}if("AllOn"===ye.policy){for(const se of ye.ids){if(!this._groups.has(se))return(0,h.warn)(`Optional content group not found: ${se}`),!0;if(!this._groups.get(se).visible)return!1}return!0}if("AnyOff"===ye.policy){for(const se of ye.ids){if(!this._groups.has(se))return(0,h.warn)(`Optional content group not found: ${se}`),!0;if(!this._groups.get(se).visible)return!0}return!1}if("AllOff"===ye.policy){for(const se of ye.ids){if(!this._groups.has(se))return(0,h.warn)(`Optional content group not found: ${se}`),!0;if(this._groups.get(se).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${ye.policy}.`),!0}return(0,h.warn)(`Unknown group type ${ye.type}.`),!0}setVisibility(ye,se=!0){this._groups.has(ye)?this._groups.get(ye).visible=!!se:(0,h.warn)(`Optional content group not found: ${ye}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,h.objectFromMap)(this._groups):null}getGroup(ye){return this._groups.get(ye)||null}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.PDFDataTransportStream=void 0;var h=le(1),ie=le(5);ne.PDFDataTransportStream=class ge{constructor(f,T){(0,h.assert)(T,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f.progressiveDone||!1,this._contentDispositionFilename=f.contentDispositionFilename||null;const y=f.initialData;if((null==y?void 0:y.length)>0){const E=new Uint8Array(y).buffer;this._queuedChunks.push(E)}this._pdfDataRangeTransport=T,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._contentLength=f.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((E,D)=>{this._onReceiveData({begin:E,chunk:D})}),this._pdfDataRangeTransport.addProgressListener((E,D)=>{this._onProgress({loaded:E,total:D})}),this._pdfDataRangeTransport.addProgressiveReadListener(E=>{this._onReceiveData({chunk:E})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(f){const T=new Uint8Array(f.chunk).buffer;if(void 0===f.begin)this._fullRequestReader?this._fullRequestReader._enqueue(T):this._queuedChunks.push(T);else{const y=this._rangeReaders.some(function(E){return E._begin===f.begin&&(E._enqueue(T),!0)});(0,h.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var f,T;return null!=(T=null==(f=this._fullRequestReader)?void 0:f._loaded)?T:0}_onProgress(f){if(void 0===f.total){const T=this._rangeReaders[0];(null==T?void 0:T.onProgress)&&T.onProgress({loaded:f.loaded})}else{const T=this._fullRequestReader;(null==T?void 0:T.onProgress)&&T.onProgress({loaded:f.loaded,total:f.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const T=this._rangeReaders.indexOf(f);T>=0&&this._rangeReaders.splice(T,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new be(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,T){if(T<=this._progressiveDataLength)return null;const y=new ye(this,f,T);return this._pdfDataRangeTransport.requestDataRange(f,T),this._rangeReaders.push(y),y}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const T of this._rangeReaders.slice(0))T.cancel(f);this._pdfDataRangeTransport.abort()}};class be{constructor(f,T,y=!1,E=null){this._stream=f,this._done=y||!1,this._filename=(0,ie.isPdfFile)(E)?E:null,this._queuedChunks=T||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunks.length>0)return{value:f._queuedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const T=(0,h.createPromiseCapability)();return f._requests.push(T),T.promise})()}cancel(f){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ye{constructor(f,T,y){this._stream=f,this._begin=T,this._end=y,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(0===this._requests.length)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._queuedChunk){const y=f._queuedChunk;return f._queuedChunk=null,{value:y,done:!1}}if(f._done)return{value:void 0,done:!0};const T=(0,h.createPromiseCapability)();return f._requests.push(T),T.promise})()}cancel(f){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ue,ne)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.XfaText=void 0;class le{static textContent(ie){const ge=[],be={items:ge,styles:Object.create(null)};return function ye(se){var y;if(!se)return;let f=null;const T=se.name;if("#text"===T)f=se.value;else{if(!le.shouldBuildText(T))return;(null==(y=null==se?void 0:se.attributes)?void 0:y.textContent)?f=se.attributes.textContent:se.value&&(f=se.value)}if(null!==f&&ge.push({str:f}),se.children)for(const E of se.children)ye(E)}(ie),be}static shouldBuildText(ie){return!("textarea"===ie||"input"===ie||"option"===ie||"select"===ie)}}ne.XfaText=le},(Ue,ne,le)=>{var z,Vg;Object.defineProperty(ne,"__esModule",{value:!0}),ne.AnnotationLayer=void 0;var h=le(1),ie=le(5),ge=le(9),be=le(19),ye=le(20);const f=new WeakSet;function T(ae){return{width:ae[2]-ae[0],height:ae[3]-ae[1]}}class y{static create(A){switch(A.data.annotationType){case h.AnnotationType.LINK:return new D(A);case h.AnnotationType.TEXT:return new Z(A);case h.AnnotationType.WIDGET:switch(A.data.fieldType){case"Tx":return new _(A);case"Btn":return A.data.radioButton?new de(A):A.data.checkBox?new W(A):new B(A);case"Ch":return new H(A)}return new I(A);case h.AnnotationType.POPUP:return new m(A);case h.AnnotationType.FREETEXT:return new R(A);case h.AnnotationType.LINE:return new O(A);case h.AnnotationType.SQUARE:return new L(A);case h.AnnotationType.CIRCLE:return new he(A);case h.AnnotationType.POLYLINE:return new Q(A);case h.AnnotationType.CARET:return new te(A);case h.AnnotationType.INK:return new F(A);case h.AnnotationType.POLYGON:return new Y(A);case h.AnnotationType.HIGHLIGHT:return new U(A);case h.AnnotationType.UNDERLINE:return new J(A);case h.AnnotationType.SQUIGGLY:return new q(A);case h.AnnotationType.STRIKEOUT:return new re(A);case h.AnnotationType.STAMP:return new k(A);case h.AnnotationType.FILEATTACHMENT:return new M(A);default:return new E(A)}}}class E{constructor(A,{isRenderable:K=!1,ignoreBorder:ee=!1,createQuadrilaterals:me=!1}={}){this.isRenderable=K,this.data=A.data,this.layer=A.layer,this.page=A.page,this.viewport=A.viewport,this.linkService=A.linkService,this.downloadManager=A.downloadManager,this.imageResourcesPath=A.imageResourcesPath,this.renderForms=A.renderForms,this.svgFactory=A.svgFactory,this.annotationStorage=A.annotationStorage,this.enableScripting=A.enableScripting,this.hasJSActions=A.hasJSActions,this._fieldObjects=A.fieldObjects,this._mouseState=A.mouseState,K&&(this.container=this._createContainer(ee)),me&&(this.quadrilaterals=this._createQuadrilaterals(ee))}_createContainer(A=!1){const K=this.data,ee=this.page,me=this.viewport,G=document.createElement("section");let{width:_e,height:we}=T(K.rect);G.setAttribute("data-annotation-id",K.id);const De=h.Util.normalizeRect([K.rect[0],ee.view[3]-K.rect[1]+ee.view[1],K.rect[2],ee.view[3]-K.rect[3]+ee.view[1]]);if(K.hasOwnCanvas){const Ie=me.transform.slice(),[Fe,ze]=h.Util.singularValueDecompose2dScale(Ie);_e=Math.ceil(_e*Fe),we=Math.ceil(we*ze),De[0]*=Fe,De[1]*=ze;for(let He=0;He<4;He++)Ie[He]=Math.sign(Ie[He]);G.style.transform=`matrix(${Ie.join(",")})`}else G.style.transform=`matrix(${me.transform.join(",")})`;if(G.style.transformOrigin=`${-De[0]}px ${-De[1]}px`,!A&&K.borderStyle.width>0){G.style.borderWidth=`${K.borderStyle.width}px`,K.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(_e-=2*K.borderStyle.width,we-=2*K.borderStyle.width);const Ie=K.borderStyle.horizontalCornerRadius,Fe=K.borderStyle.verticalCornerRadius;switch((Ie>0||Fe>0)&&(G.style.borderRadius=`${Ie}px / ${Fe}px`),K.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:G.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:G.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:G.style.borderBottomStyle="solid"}K.borderColor||K.color?G.style.borderColor=h.Util.makeHexColor(0|K.color[0],0|K.color[1],0|K.color[2]):G.style.borderWidth=0}return G.style.left=`${De[0]}px`,G.style.top=`${De[1]}px`,K.hasOwnCanvas?G.style.width=G.style.height="auto":(G.style.width=`${_e}px`,G.style.height=`${we}px`),G}_createQuadrilaterals(A=!1){if(!this.data.quadPoints)return null;const K=[],ee=this.data.rect;for(const me of this.data.quadPoints)this.data.rect=[me[2].x,me[2].y,me[1].x,me[1].y],K.push(this._createContainer(A));return this.data.rect=ee,K}_createPopup(A,K){let ee=this.container;this.quadrilaterals&&(A=A||this.quadrilaterals,ee=this.quadrilaterals[0]),A||((A=document.createElement("div")).style.height=ee.style.height,A.style.width=ee.style.width,ee.appendChild(A));const G=new v({container:ee,trigger:A,color:K.color,titleObj:K.titleObj,modificationDate:K.modificationDate,contentsObj:K.contentsObj,richText:K.richText,hideWrapper:!0}).render();G.style.left=ee.style.width,ee.appendChild(G)}_renderQuadrilaterals(A){for(const K of this.quadrilaterals)K.className=A;return this.quadrilaterals}render(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(A,K=null){const ee=[];if(this._fieldObjects){const me=this._fieldObjects[A];if(me)for(const{page:G,id:_e,exportValues:we}of me){if(-1===G||_e===K)continue;const De="string"==typeof we?we:null,Ie=document.getElementById(_e);!Ie||f.has(Ie)?ee.push({id:_e,exportValue:De,domElement:Ie}):(0,h.warn)(`_getElementsByName - element not allowed: ${_e}`)}return ee}for(const me of document.getElementsByName(A)){const{id:G,exportValue:_e}=me;G!==K&&(!f.has(me)||ee.push({id:G,exportValue:_e,domElement:me}))}return ee}static get platform(){const A="undefined"!=typeof navigator?navigator.platform:"";return(0,h.shadow)(this,"platform",{isWin:A.includes("Win"),isMac:A.includes("Mac")})}}class D extends E{constructor(A,K=null){super(A,{isRenderable:!!(A.data.url||A.data.dest||A.data.action||A.data.isTooltipOnly||A.data.resetForm||A.data.actions&&(A.data.actions.Action||A.data.actions["Mouse Up"]||A.data.actions["Mouse Down"])),ignoreBorder:!!(null==K?void 0:K.ignoreBorder),createQuadrilaterals:!0})}render(){var me;const{data:A,linkService:K}=this,ee=document.createElement("a");if(A.url)K.addLinkAttributes||(0,h.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(me=K.addLinkAttributes)||me.call(K,ee,A.url,A.newWindow);else if(A.action)this._bindNamedAction(ee,A.action);else if(A.dest)this._bindLink(ee,A.dest);else{let G=!1;A.actions&&(A.actions.Action||A.actions["Mouse Up"]||A.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(G=!0,this._bindJSAction(ee,A)),A.resetForm?this._bindResetFormAction(ee,A.resetForm):G||this._bindLink(ee,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((G,_e)=>{const we=0===_e?ee:ee.cloneNode();return G.appendChild(we),G}):(this.container.className="linkAnnotation",this.container.appendChild(ee),this.container)}_bindLink(A,K){A.href=this.linkService.getDestinationHash(K),A.onclick=()=>(K&&this.linkService.goToDestination(K),!1),(K||""===K)&&(A.className="internalLink")}_bindNamedAction(A,K){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeNamedAction(K),!1),A.className="internalLink"}_bindJSAction(A,K){A.href=this.linkService.getAnchorUrl("");const ee=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const me of Object.keys(K.actions)){const G=ee.get(me);!G||(A[G]=()=>{var _e;return null==(_e=this.linkService.eventBus)||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K.id,name:me}}),!1})}A.onclick||(A.onclick=()=>!1),A.className="internalLink"}_bindResetFormAction(A,K){const ee=A.onclick;if(ee||(A.href=this.linkService.getAnchorUrl("")),A.className="internalLink",!this._fieldObjects)return(0,h.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(ee||(A.onclick=()=>!1));A.onclick=()=>{var Fe;ee&&ee();const{fields:me,refs:G,include:_e}=K,we=[];if(0!==me.length||0!==G.length){const ze=new Set(G);for(const He of me){const Ze=this._fieldObjects[He]||[];for(const{id:N}of Ze)ze.add(N)}for(const He of Object.values(this._fieldObjects))for(const Ze of He)ze.has(Ze.id)===_e&&we.push(Ze)}else for(const ze of Object.values(this._fieldObjects))we.push(...ze);const De=this.annotationStorage,Ie=[];for(const ze of we){const{id:He}=ze;switch(Ie.push(He),ze.type){case"text":{const N=ze.defaultValue||"";De.setValue(He,{value:N,valueAsString:N});break}case"checkbox":case"radiobutton":De.setValue(He,{value:ze.defaultValue===ze.exportValues});break;case"combobox":case"listbox":De.setValue(He,{value:ze.defaultValue||""});break;default:continue}const Ze=document.getElementById(He);!Ze||!f.has(Ze)||Ze.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(Fe=this.linkService.eventBus)||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ie,name:"ResetForm"}})),!1}}}class Z extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str))})}render(){this.container.className="textAnnotation";const A=document.createElement("img");return A.style.height=this.container.style.height,A.style.width=this.container.style.width,A.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",A.alt="[{{type}} Annotation]",A.dataset.l10nId="text_annotation_type",A.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(A,this.data),this.container.appendChild(A),this.container}}class I extends E{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(A){const{isWin:K,isMac:ee}=E.platform;return K&&A.ctrlKey||ee&&A.metaKey}_setEventListener(A,K,ee,me){K.includes("mouse")?A.addEventListener(K,G=>{var _e;null==(_e=this.linkService.eventBus)||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ee,value:me(G),shift:G.shiftKey,modifier:this._getKeyModifier(G)}})}):A.addEventListener(K,G=>{var _e;null==(_e=this.linkService.eventBus)||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ee,value:me(G)}})})}_setEventListeners(A,K,ee){var me;for(const[G,_e]of K)("Action"===_e||(null==(me=this.data.actions)?void 0:me[_e]))&&this._setEventListener(A,G,_e,ee)}_setBackgroundColor(A){const K=this.data.backgroundColor||null;A.style.backgroundColor=null===K?"transparent":h.Util.makeHexColor(K[0],K[1],K[2])}_dispatchEventFromSandbox(A,K){const ee=(G,_e,we)=>{const De=we.detail[G];we.target.style[_e]=be.ColorConverters[`${De[0]}_HTML`](De.slice(1))},me={display:G=>{const _e=G.detail.display%2==1;G.target.style.visibility=_e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:_e,print:0===G.detail.display||3===G.detail.display})},print:G=>{this.annotationStorage.setValue(this.data.id,{print:G.detail.print})},hidden:G=>{G.target.style.visibility=G.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:G.detail.hidden})},focus:G=>{setTimeout(()=>G.target.focus({preventScroll:!1}),0)},userName:G=>{G.target.title=G.detail.userName},readonly:G=>{G.detail.readonly?G.target.setAttribute("readonly",""):G.target.removeAttribute("readonly")},required:G=>{G.detail.required?G.target.setAttribute("required",""):G.target.removeAttribute("required")},bgColor:G=>{ee("bgColor","backgroundColor",G)},fillColor:G=>{ee("fillColor","backgroundColor",G)},fgColor:G=>{ee("fgColor","color",G)},textColor:G=>{ee("textColor","color",G)},borderColor:G=>{ee("borderColor","borderColor",G)},strokeColor:G=>{ee("strokeColor","borderColor",G)}};for(const G of Object.keys(K.detail)){const _e=A[G]||me[G];_e&&_e(K)}}}class _ extends I{constructor(A){super(A,{isRenderable:A.renderForms||!A.data.hasAppearance&&!!A.data.fieldValue})}setPropertyOnSiblings(A,K,ee,me){const G=this.annotationStorage;for(const _e of this._getElementsByName(A.name,A.id))_e.domElement&&(_e.domElement[K]=ee),G.setValue(_e.id,{[me]:ee})}render(){var me;const A=this.annotationStorage,K=this.data.id;this.container.className="textWidgetAnnotation";let ee=null;if(this.renderForms){const G=A.getValue(K,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),_e=G.valueAsString||G.value||"",we={userValue:null,formattedValue:null};this.data.multiLine?(ee=document.createElement("textarea"),ee.textContent=_e):(ee=document.createElement("input"),ee.type="text",ee.setAttribute("value",_e)),f.add(ee),ee.disabled=this.data.readOnly,ee.name=this.data.fieldName,ee.tabIndex=1e3,we.userValue=_e,ee.setAttribute("id",K),ee.addEventListener("input",Ie=>{A.setValue(K,{value:Ie.target.value}),this.setPropertyOnSiblings(ee,"value",Ie.target.value,"value")}),ee.addEventListener("resetform",Ie=>{ee.value=we.userValue=this.data.defaultFieldValue||"",delete we.formattedValue});let De=Ie=>{we.formattedValue&&(Ie.target.value=we.formattedValue),Ie.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ee.addEventListener("focus",Fe=>{we.userValue&&(Fe.target.value=we.userValue)}),ee.addEventListener("updatefromsandbox",Fe=>{this._dispatchEventFromSandbox({value(He){we.userValue=He.detail.value||"",A.setValue(K,{value:we.userValue.toString()}),we.formattedValue||(He.target.value=we.userValue)},valueAsString(He){we.formattedValue=He.detail.valueAsString||"",He.target!==document.activeElement&&(He.target.value=we.formattedValue),A.setValue(K,{formattedValue:we.formattedValue})},selRange(He){const[Ze,N]=He.detail.selRange;Ze>=0&&N<He.target.value.length&&He.target.setSelectionRange(Ze,N)}},Fe)}),ee.addEventListener("keydown",Fe=>{var He;let ze=-1;"Escape"===Fe.key?ze=0:"Enter"===Fe.key?ze=2:"Tab"===Fe.key&&(ze=3),-1!==ze&&(we.userValue=Fe.target.value,null==(He=this.linkService.eventBus)||He.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Fe.target.value,willCommit:!0,commitKey:ze,selStart:Fe.target.selectionStart,selEnd:Fe.target.selectionEnd}}))});const Ie=De;De=null,ee.addEventListener("blur",Fe=>{var ze;we.userValue=Fe.target.value,this._mouseState.isDown&&(null==(ze=this.linkService.eventBus)||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Fe.target.value,willCommit:!0,commitKey:1,selStart:Fe.target.selectionStart,selEnd:Fe.target.selectionEnd}})),Ie(Fe)}),(null==(me=this.data.actions)?void 0:me.Keystroke)&&ee.addEventListener("beforeinput",Fe=>{var xe;we.formattedValue="";const{data:ze,target:He}=Fe,{value:Ze,selectionStart:N,selectionEnd:fe}=He;null==(xe=this.linkService.eventBus)||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Ze,change:ze,willCommit:!1,selStart:N,selEnd:fe}})}),this._setEventListeners(ee,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fe=>Fe.target.value)}if(De&&ee.addEventListener("blur",De),null!==this.data.maxLen&&(ee.maxLength=this.data.maxLen),this.data.comb){const Fe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;ee.classList.add("comb"),ee.style.letterSpacing=`calc(${Fe}px - 1ch)`}}else ee=document.createElement("div"),ee.textContent=this.data.fieldValue,ee.style.verticalAlign="middle",ee.style.display="table-cell";return this._setTextStyle(ee),this._setBackgroundColor(ee),this.container.appendChild(ee),this.container}_setTextStyle(A){const{fontSize:ee,fontColor:me}=this.data.defaultAppearanceData,G=A.style;ee&&(G.fontSize=`${ee}px`),G.color=h.Util.makeHexColor(me[0],me[1],me[2]),null!==this.data.textAlignment&&(G.textAlign=["left","center","right"][this.data.textAlignment])}}class W extends I{constructor(A){super(A,{isRenderable:A.renderForms})}render(){const A=this.annotationStorage,K=this.data,ee=K.id;let me=A.getValue(ee,{value:K.exportValue===K.fieldValue}).value;"string"==typeof me&&(me="Off"!==me,A.setValue(ee,{value:me})),this.container.className="buttonWidgetAnnotation checkBox";const G=document.createElement("input");return f.add(G),G.disabled=K.readOnly,G.type="checkbox",G.name=K.fieldName,me&&G.setAttribute("checked",!0),G.setAttribute("id",ee),G.setAttribute("exportValue",K.exportValue),G.tabIndex=1e3,G.addEventListener("change",_e=>{const{name:we,checked:De}=_e.target;for(const Ie of this._getElementsByName(we,ee)){const Fe=De&&Ie.exportValue===K.exportValue;Ie.domElement&&(Ie.domElement.checked=Fe),A.setValue(Ie.id,{value:Fe})}A.setValue(ee,{value:De})}),G.addEventListener("resetform",_e=>{_e.target.checked=(K.defaultFieldValue||"Off")===K.exportValue}),this.enableScripting&&this.hasJSActions&&(G.addEventListener("updatefromsandbox",_e=>{this._dispatchEventFromSandbox({value(De){De.target.checked="Off"!==De.detail.value,A.setValue(ee,{value:De.target.checked})}},_e)}),this._setEventListeners(G,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_e=>_e.target.checked)),this._setBackgroundColor(G),this.container.appendChild(G),this.container}}class de extends I{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const A=this.annotationStorage,K=this.data,ee=K.id;let me=A.getValue(ee,{value:K.fieldValue===K.buttonValue}).value;"string"==typeof me&&(me=me!==K.buttonValue,A.setValue(ee,{value:me}));const G=document.createElement("input");if(f.add(G),G.disabled=K.readOnly,G.type="radio",G.name=K.fieldName,me&&G.setAttribute("checked",!0),G.setAttribute("id",ee),G.tabIndex=1e3,G.addEventListener("change",_e=>{const{name:we,checked:De}=_e.target;for(const Ie of this._getElementsByName(we,ee))A.setValue(Ie.id,{value:!1});A.setValue(ee,{value:De})}),G.addEventListener("resetform",_e=>{const we=K.defaultFieldValue;_e.target.checked=null!=we&&we===K.buttonValue}),this.enableScripting&&this.hasJSActions){const _e=K.buttonValue;G.addEventListener("updatefromsandbox",we=>{this._dispatchEventFromSandbox({value:Ie=>{const Fe=_e===Ie.detail.value;for(const ze of this._getElementsByName(Ie.target.name)){const He=Fe&&ze.id===ee;ze.domElement&&(ze.domElement.checked=He),A.setValue(ze.id,{value:He})}}},we)}),this._setEventListeners(G,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],we=>we.target.checked)}return this._setBackgroundColor(G),this.container.appendChild(G),this.container}}class B extends D{constructor(A){super(A,{ignoreBorder:A.data.hasAppearance})}render(){const A=super.render();return A.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(A.title=this.data.alternativeText),A}}class H extends I{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const A=this.annotationStorage,K=this.data.id;A.getValue(K,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:ee}=this.data.defaultAppearanceData;ee||(ee=9);const me=`calc(${ee}px * var(--zoom-factor))`,G=document.createElement("select");f.add(G),G.disabled=this.data.readOnly,G.name=this.data.fieldName,G.setAttribute("id",K),G.tabIndex=1e3,G.style.fontSize=`${ee}px`,this.data.combo||(G.size=this.data.options.length,this.data.multiSelect&&(G.multiple=!0)),G.addEventListener("resetform",De=>{const Ie=this.data.defaultFieldValue;for(const Fe of G.options)Fe.selected=Fe.value===Ie});for(const De of this.data.options){const Ie=document.createElement("option");Ie.textContent=De.displayValue,Ie.value=De.exportValue,this.data.combo&&(Ie.style.fontSize=me),this.data.fieldValue.includes(De.exportValue)&&Ie.setAttribute("selected",!0),G.appendChild(Ie)}const _e=(De,Ie)=>{const Fe=Ie?"value":"textContent",ze=De.target.options;return De.target.multiple?Array.prototype.filter.call(ze,He=>He.selected).map(He=>He[Fe]):-1===ze.selectedIndex?null:ze[ze.selectedIndex][Fe]},we=De=>Array.prototype.map.call(De.target.options,Fe=>({displayValue:Fe.textContent,exportValue:Fe.value}));return this.enableScripting&&this.hasJSActions?(G.addEventListener("updatefromsandbox",De=>{this._dispatchEventFromSandbox({value(Fe){const ze=Fe.detail.value,He=new Set(Array.isArray(ze)?ze:[ze]);for(const Ze of G.options)Ze.selected=He.has(Ze.value);A.setValue(K,{value:_e(Fe,!0)})},multipleSelection(Fe){G.multiple=!0},remove(Fe){const ze=G.options,He=Fe.detail.remove;ze[He].selected=!1,G.remove(He),ze.length>0&&-1===Array.prototype.findIndex.call(ze,N=>N.selected)&&(ze[0].selected=!0),A.setValue(K,{value:_e(Fe,!0),items:we(Fe)})},clear(Fe){for(;0!==G.length;)G.remove(0);A.setValue(K,{value:null,items:[]})},insert(Fe){const{index:ze,displayValue:He,exportValue:Ze}=Fe.detail.insert,N=document.createElement("option");N.textContent=He,N.value=Ze,G.insertBefore(N,G.children[ze]),A.setValue(K,{value:_e(Fe,!0),items:we(Fe)})},items(Fe){const{items:ze}=Fe.detail;for(;0!==G.length;)G.remove(0);for(const He of ze){const{displayValue:Ze,exportValue:N}=He,fe=document.createElement("option");fe.textContent=Ze,fe.value=N,G.appendChild(fe)}G.options.length>0&&(G.options[0].selected=!0),A.setValue(K,{value:_e(Fe,!0),items:we(Fe)})},indices(Fe){const ze=new Set(Fe.detail.indices);for(const He of Fe.target.options)He.selected=ze.has(He.index);A.setValue(K,{value:_e(Fe,!0)})},editable(Fe){Fe.target.disabled=!Fe.detail.editable}},De)}),G.addEventListener("input",De=>{var ze;const Ie=_e(De,!0),Fe=_e(De,!1);A.setValue(K,{value:Ie}),null==(ze=this.linkService.eventBus)||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Fe,changeEx:Ie,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(G,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],De=>De.target.checked)):G.addEventListener("input",function(De){A.setValue(K,{value:_e(De)})}),this._setBackgroundColor(G),this.container.appendChild(G),this.container}}class m extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!((null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const ee=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===ee.length)return this.container;const me=new v({container:this.container,trigger:Array.from(ee),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),G=this.page,_e=h.Util.normalizeRect([this.data.parentRect[0],G.view[3]-this.data.parentRect[1]+G.view[1],this.data.parentRect[2],G.view[3]-this.data.parentRect[3]+G.view[1]]),we=_e[0]+this.data.parentRect[2]-this.data.parentRect[0],De=_e[1];return this.container.style.transformOrigin=`${-we}px ${-De}px`,this.container.style.left=`${we}px`,this.container.style.top=`${De}px`,this.container.appendChild(me.render()),this.container}}class v{constructor(A){this.container=A.container,this.trigger=A.trigger,this.color=A.color,this.titleObj=A.titleObj,this.modificationDate=A.modificationDate,this.contentsObj=A.contentsObj,this.richText=A.richText,this.hideWrapper=A.hideWrapper||!1,this.pinned=!1}render(){var we,De;const K=document.createElement("div");K.className="popupWrapper",this.hideElement=this.hideWrapper?K:this.container,this.hideElement.hidden=!0;const ee=document.createElement("div");ee.className="popup";const me=this.color;me&&(ee.style.backgroundColor=h.Util.makeHexColor(0|.7*(255-me[0])+me[0],0|.7*(255-me[1])+me[1],0|.7*(255-me[2])+me[2]));const G=document.createElement("h1");G.dir=this.titleObj.dir,G.textContent=this.titleObj.str,ee.appendChild(G);const _e=ie.PDFDateString.toDateObject(this.modificationDate);if(_e){const Ie=document.createElement("span");Ie.className="popupDate",Ie.textContent="{{date}}, {{time}}",Ie.dataset.l10nId="annotation_date_string",Ie.dataset.l10nArgs=JSON.stringify({date:_e.toLocaleDateString(),time:_e.toLocaleTimeString()}),ee.appendChild(Ie)}if(!(null==(we=this.richText)?void 0:we.str)||(null==(De=this.contentsObj)?void 0:De.str)&&this.contentsObj.str!==this.richText.str){const Ie=this._formatContents(this.contentsObj);ee.appendChild(Ie)}else ye.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ee}),ee.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ie of this.trigger)Ie.addEventListener("click",this._toggle.bind(this)),Ie.addEventListener("mouseover",this._show.bind(this,!1)),Ie.addEventListener("mouseout",this._hide.bind(this,!1));return ee.addEventListener("click",this._hide.bind(this,!0)),K.appendChild(ee),K}_formatContents({str:A,dir:K}){const ee=document.createElement("p");ee.className="popupContent",ee.dir=K;const me=A.split(/(?:\r\n?|\n)/);for(let G=0,_e=me.length;G<_e;++G)ee.appendChild(document.createTextNode(me[G])),G<_e-1&&ee.appendChild(document.createElement("br"));return ee}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(A=!1){A&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(A=!0){A&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class R extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const A=this.data,{width:K,height:ee}=T(A.rect),me=this.svgFactory.create(K,ee),G=this.svgFactory.createElement("svg:line");return G.setAttribute("x1",A.rect[2]-A.lineCoordinates[0]),G.setAttribute("y1",A.rect[3]-A.lineCoordinates[1]),G.setAttribute("x2",A.rect[2]-A.lineCoordinates[2]),G.setAttribute("y2",A.rect[3]-A.lineCoordinates[3]),G.setAttribute("stroke-width",A.borderStyle.width||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),me.appendChild(G),this.container.append(me),this._createPopup(G,A),this.container}}class L extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const A=this.data,{width:K,height:ee}=T(A.rect),me=this.svgFactory.create(K,ee),G=A.borderStyle.width,_e=this.svgFactory.createElement("svg:rect");return _e.setAttribute("x",G/2),_e.setAttribute("y",G/2),_e.setAttribute("width",K-G),_e.setAttribute("height",ee-G),_e.setAttribute("stroke-width",G||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),me.appendChild(_e),this.container.append(me),this._createPopup(_e,A),this.container}}class he extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const A=this.data,{width:K,height:ee}=T(A.rect),me=this.svgFactory.create(K,ee),G=A.borderStyle.width,_e=this.svgFactory.createElement("svg:ellipse");return _e.setAttribute("cx",K/2),_e.setAttribute("cy",ee/2),_e.setAttribute("rx",K/2-G/2),_e.setAttribute("ry",ee/2-G/2),_e.setAttribute("stroke-width",G||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),me.appendChild(_e),this.container.append(me),this._createPopup(_e,A),this.container}}class Q extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const A=this.data,{width:K,height:ee}=T(A.rect),me=this.svgFactory.create(K,ee);let G=[];for(const we of A.vertices)G.push(we.x-A.rect[0]+","+(A.rect[3]-we.y));G=G.join(" ");const _e=this.svgFactory.createElement(this.svgElementName);return _e.setAttribute("points",G),_e.setAttribute("stroke-width",A.borderStyle.width||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),me.appendChild(_e),this.container.append(me),this._createPopup(_e,A),this.container}}class Y extends Q{constructor(A){super(A),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class te extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const A=this.data,{width:K,height:ee}=T(A.rect),me=this.svgFactory.create(K,ee);for(const G of A.inkLists){let _e=[];for(const De of G)_e.push(`${De.x-A.rect[0]},${A.rect[3]-De.y}`);_e=_e.join(" ");const we=this.svgFactory.createElement(this.svgElementName);we.setAttribute("points",_e),we.setAttribute("stroke-width",A.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),this._createPopup(we,A),me.appendChild(we)}return this.container.append(me),this.container}}class U extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class q extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class re extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class k extends E{constructor(A){var ee,me,G;super(A,{isRenderable:!!(A.data.hasPopup||(null==(ee=A.data.titleObj)?void 0:ee.str)||(null==(me=A.data.contentsObj)?void 0:me.str)||(null==(G=A.data.richText)?void 0:G.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends E{constructor(A){var me;super(A,{isRenderable:!0});const{filename:K,content:ee}=this.data.file;this.filename=(0,ie.getFilenameFromUrl)(K),this.content=ee,null==(me=this.linkService.eventBus)||me.dispatch("fileattachmentannotation",{source:this,id:(0,h.stringToPDFString)(K),filename:K,content:ee})}render(){var K,ee;this.container.className="fileAttachmentAnnotation";const A=document.createElement("div");return A.style.height=this.container.style.height,A.style.width=this.container.style.width,A.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(K=this.data.titleObj)?void 0:K.str)||(null==(ee=this.data.contentsObj)?void 0:ee.str)||this.data.richText)&&this._createPopup(A,this.data),this.container.appendChild(A),this.container}_download(){var A;null==(A=this.downloadManager)||A.openOrDownloadData(this.container,this.content,this.filename)}}class w{static render(A){const K=[],ee=[];for(const G of A.annotations){if(!G)continue;const{width:_e,height:we}=T(G.rect);if(!(_e<=0||we<=0)){if(G.annotationType===h.AnnotationType.POPUP){ee.push(G);continue}K.push(G)}}ee.length&&K.push(...ee);const me=A.div;for(const G of K){const _e=y.create({data:G,layer:me,page:A.page,viewport:A.viewport,linkService:A.linkService,downloadManager:A.downloadManager,imageResourcesPath:A.imageResourcesPath||"",renderForms:!1!==A.renderForms,svgFactory:new ie.DOMSVGFactory,annotationStorage:A.annotationStorage||new ge.AnnotationStorage,enableScripting:A.enableScripting,hasJSActions:A.hasJSActions,fieldObjects:A.fieldObjects,mouseState:A.mouseState||{isDown:!1}});if(_e.isRenderable){const we=_e.render();if(G.hidden&&(we.style.visibility="hidden"),Array.isArray(we))for(const De of we)me.appendChild(De);else _e instanceof m?me.prepend(we):me.appendChild(we)}}Ln(this,z,Vg).call(this,me,A.annotationCanvasMap)}static update(A){const{page:K,viewport:ee,annotations:me,annotationCanvasMap:G,div:_e}=A,we=ee.transform,De=`matrix(${we.join(",")})`;let Ie,Fe;for(const ze of me){const He=_e.querySelectorAll(`[data-annotation-id="${ze.id}"]`);if(He)for(const Ze of He)if(ze.hasOwnCanvas){const N=h.Util.normalizeRect([ze.rect[0],K.view[3]-ze.rect[1]+K.view[1],ze.rect[2],K.view[3]-ze.rect[3]+K.view[1]]);if(!Fe){Ie=Math.abs(we[0]||we[1]);const Ae=we.slice();for(let Me=0;Me<4;Me++)Ae[Me]=Math.sign(Ae[Me]);Fe=`matrix(${Ae.join(",")})`}const fe=N[0]*Ie,xe=N[1]*Ie;Ze.style.left=`${fe}px`,Ze.style.top=`${xe}px`,Ze.style.transformOrigin=`${-fe}px ${-xe}px`,Ze.style.transform=Fe}else Ze.style.transform=De}Ln(this,z,Vg).call(this,_e,G),_e.hidden=!1}}z=new WeakSet,Vg=function(A,K){if(K){for(const[ee,me]of K){const G=A.querySelector(`[data-annotation-id="${ee}"]`);if(!G)continue;const{firstChild:_e}=G;"CANVAS"===_e.nodeName?G.replaceChild(me,_e):G.insertBefore(me,_e)}K.clear()}},Xt(w,z),ne.AnnotationLayer=w},(Ue,ne)=>{function le(ie){return Math.floor(255*Math.max(0,Math.min(1,ie))).toString(16).padStart(2,"0")}Object.defineProperty(ne,"__esModule",{value:!0}),ne.ColorConverters=void 0,ne.ColorConverters=class h{static CMYK_G([ge,be,ye,se]){return["G",1-Math.min(1,.3*ge+.59*ye+.11*be+se)]}static G_CMYK([ge]){return["CMYK",0,0,0,1-ge]}static G_RGB([ge]){return["RGB",ge,ge,ge]}static G_HTML([ge]){const be=le(ge);return`#${be}${be}${be}`}static RGB_G([ge,be,ye]){return["G",.3*ge+.59*be+.11*ye]}static RGB_HTML([ge,be,ye]){return`#${le(ge)}${le(be)}${le(ye)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ge,be,ye,se]){return["RGB",1-Math.min(1,ge+se),1-Math.min(1,ye+se),1-Math.min(1,be+se)]}static CMYK_HTML(ge){return this.RGB_HTML(this.CMYK_RGB(ge))}static RGB_CMYK([ge,be,ye]){const se=1-ge,f=1-be,T=1-ye;return["CMYK",se,f,T,Math.min(se,f,T)]}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.XfaLayer=void 0;var h=le(1),ie=le(17);ne.XfaLayer=class ge{static setupStorage(ye,se,f,T,y){const E=T.getValue(se,{value:null});switch(f.name){case"textarea":if(null!==E.value&&(ye.textContent=E.value),"print"===y)break;ye.addEventListener("input",D=>{T.setValue(se,{value:D.target.value})});break;case"input":if("radio"===f.attributes.type||"checkbox"===f.attributes.type){if(E.value===f.attributes.xfaOn?ye.setAttribute("checked",!0):E.value===f.attributes.xfaOff&&ye.removeAttribute("checked"),"print"===y)break;ye.addEventListener("change",D=>{T.setValue(se,{value:D.target.getAttribute(D.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==E.value&&ye.setAttribute("value",E.value),"print"===y)break;ye.addEventListener("input",D=>{T.setValue(se,{value:D.target.value})})}break;case"select":if(null!==E.value)for(const D of f.children)D.attributes.value===E.value&&(D.attributes.selected=!0);ye.addEventListener("input",D=>{const Z=D.target.options;T.setValue(se,{value:-1===Z.selectedIndex?"":Z[Z.selectedIndex].value})})}}static setAttributes({html:ye,element:se,storage:f=null,intent:T,linkService:y}){var Z;const{attributes:E}=se,D=ye instanceof HTMLAnchorElement;"radio"===E.type&&(E.name=`${E.name}-${T}`);for(const[I,_]of Object.entries(E))if(null!=_&&"dataId"!==I)if("style"!==I)if("textContent"===I)ye.textContent=_;else if("class"===I)_.length&&ye.setAttribute(I,_.join(" "));else{if(D&&("href"===I||"newWindow"===I))continue;ye.setAttribute(I,_)}else Object.assign(ye.style,_);D&&(y.addLinkAttributes||(0,h.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(Z=y.addLinkAttributes)||Z.call(y,ye,E.href,E.newWindow)),f&&E.dataId&&this.setupStorage(ye,E.dataId,se,f)}static render(ye){var _;const se=ye.annotationStorage,f=ye.linkService,T=ye.xfaHtml,y=ye.intent||"display",E=document.createElement(T.name);T.attributes&&this.setAttributes({html:E,element:T,intent:y,linkService:f});const D=[[T,-1,E]],Z=ye.div;if(Z.appendChild(E),ye.viewport){const W=`matrix(${ye.viewport.transform.join(",")})`;Z.style.transform=W}"richText"!==y&&Z.setAttribute("class","xfaLayer xfaFont");const I=[];for(;D.length>0;){const[W,de,B]=D[D.length-1];if(de+1===W.children.length){D.pop();continue}const H=W.children[++D[D.length-1][1]];if(null===H)continue;const{name:m}=H;if("#text"===m){const R=document.createTextNode(H.value);I.push(R),B.appendChild(R);continue}let v;if(v=(null==(_=null==H?void 0:H.attributes)?void 0:_.xmlns)?document.createElementNS(H.attributes.xmlns,m):document.createElement(m),B.appendChild(v),H.attributes&&this.setAttributes({html:v,element:H,storage:se,intent:y,linkService:f}),H.children&&H.children.length>0)D.push([H,-1,v]);else if(H.value){const R=document.createTextNode(H.value);ie.XfaText.shouldBuildText(m)&&I.push(R),v.appendChild(R)}}for(const W of Z.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))W.setAttribute("readOnly",!0);return{textDivs:I}}static update(ye){const se=`matrix(${ye.viewport.transform.join(",")})`;ye.div.style.transform=se,ye.div.hidden=!1}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.renderTextLayer=function W(de){const B=new _({textContent:de.textContent,textContentStream:de.textContentStream,container:de.container,viewport:de.viewport,textDivs:de.textDivs,textContentItemsStr:de.textContentItemsStr,enhanceTextSelection:de.enhanceTextSelection});return B._render(de.timeout),B};var h=le(1);const ye=new Map,se=/^\s+$/g;function T(de,B,H,m){const v=document.createElement("span"),R=de._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==B.str,hasEOL:B.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==B.str,hasEOL:B.hasEOL};de._textDivs.push(v);const O=h.Util.transform(de._viewport.transform,B.transform);let L=Math.atan2(O[1],O[0]);const he=H[B.fontName];he.vertical&&(L+=Math.PI/2);const Q=Math.hypot(O[2],O[3]),Y=Q*function f(de,B){const H=ye.get(de);if(H)return H;B.save(),B.font=`30px ${de}`;const m=B.measureText("");let v=m.fontBoundingBoxAscent,R=Math.abs(m.fontBoundingBoxDescent);if(v){B.restore();const L=v/(v+R);return ye.set(de,L),L}B.strokeStyle="red",B.clearRect(0,0,30,30),B.strokeText("g",0,0);let O=B.getImageData(0,0,30,30).data;R=0;for(let L=O.length-1-3;L>=0;L-=4)if(O[L]>0){R=Math.ceil(L/4/30);break}B.clearRect(0,0,30,30),B.strokeText("A",0,30),O=B.getImageData(0,0,30,30).data,v=0;for(let L=0,he=O.length;L<he;L+=4)if(O[L]>0){v=30-Math.floor(L/4/30);break}if(B.restore(),v){const L=v/(v+R);return ye.set(de,L),L}return ye.set(de,.8),.8}(he.fontFamily,m);let te,F;0===L?(te=O[4],F=O[5]-Y):(te=O[4]+Y*Math.sin(L),F=O[5]-Y*Math.cos(L)),v.style.left=`${te}px`,v.style.top=`${F}px`,v.style.fontSize=`${Q}px`,v.style.fontFamily=he.fontFamily,v.setAttribute("role","presentation"),v.textContent=B.str,v.dir=B.dir,de._fontInspectorEnabled&&(v.dataset.fontName=B.fontName),0!==L&&(R.angle=L*(180/Math.PI));let U=!1;if(B.str.length>1||de._enhanceTextSelection&&se.test(B.str))U=!0;else if(" "!==B.str&&B.transform[0]!==B.transform[3]){const J=Math.abs(B.transform[0]),q=Math.abs(B.transform[3]);J!==q&&Math.max(J,q)/Math.min(J,q)>1.5&&(U=!0)}if(U&&(R.canvasWidth=he.vertical?B.height*de._viewport.scale:B.width*de._viewport.scale),de._textDivProperties.set(v,R),de._textContentStream&&de._layoutText(v),de._enhanceTextSelection&&R.hasText){let J=1,q=0;0!==L&&(J=Math.cos(L),q=Math.sin(L));const re=(he.vertical?B.height:B.width)*de._viewport.scale,k=Q;let M,w;0!==L?(M=[J,q,-q,J,te,F],w=h.Util.getAxialAlignedBoundingBox([0,0,re,k],M)):w=[te,F,te+re,F+k],de._bounds.push({left:w[0],top:w[1],right:w[2],bottom:w[3],div:v,size:[re,k],m:M})}}function y(de){if(de._canceled)return;const B=de._textDivs,H=de._capability,m=B.length;if(m>1e5)return de._renderingDone=!0,void H.resolve();if(!de._textContentStream)for(let v=0;v<m;v++)de._layoutText(B[v]);de._renderingDone=!0,H.resolve()}function E(de,B,H){let m=0;for(let v=0;v<H;v++){const R=de[B++];R>0&&(m=m?Math.min(R,m):R)}return m}function I(de,B){B.sort(function(v,R){return v.x1-R.x1||v.index-R.index});const m=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const v of B){let R=0;for(;R<m.length&&m[R].end<=v.y1;)R++;let O=m.length-1;for(;O>=0&&m[O].start>=v.y2;)O--;let L,he,Q,Y,te=-1/0;for(Q=R;Q<=O;Q++){let J;L=m[Q],he=L.boundary,J=he.x2>v.x1?he.index>v.index?he.x1New:v.x1:void 0===he.x2New?(he.x2+v.x1)/2:he.x2New,J>te&&(te=J)}for(v.x1New=te,Q=R;Q<=O;Q++)L=m[Q],he=L.boundary,void 0===he.x2New?he.x2>v.x1?he.index>v.index&&(he.x2New=he.x2):he.x2New=te:he.x2New>te&&(he.x2New=Math.max(te,he.x2));const F=[];let U=null;for(Q=R;Q<=O;Q++){L=m[Q],he=L.boundary;const J=he.x2>v.x2?he:v;U===J?F[F.length-1].end=L.end:(F.push({start:L.start,end:L.end,boundary:J}),U=J)}for(m[R].start<v.y1&&(F[0].start=v.y1,F.unshift({start:m[R].start,end:v.y1,boundary:m[R].boundary})),v.y2<m[O].end&&(F[F.length-1].end=v.y2,F.push({start:v.y2,end:m[O].end,boundary:m[O].boundary})),Q=R;Q<=O;Q++){if(L=m[Q],he=L.boundary,void 0!==he.x2New)continue;let J=!1;for(Y=R-1;!J&&Y>=0&&m[Y].start>=he.y1;Y--)J=m[Y].boundary===he;for(Y=O+1;!J&&Y<m.length&&m[Y].end<=he.y2;Y++)J=m[Y].boundary===he;for(Y=0;!J&&Y<F.length;Y++)J=F[Y].boundary===he;J||(he.x2New=te)}Array.prototype.splice.apply(m,[R,O-R+1].concat(F))}for(const v of m){const R=v.boundary;void 0===R.x2New&&(R.x2New=Math.max(de,R.x2))}}class _{constructor({textContent:B,textContentStream:H,container:m,viewport:v,textDivs:R,textContentItemsStr:O,enhanceTextSelection:L}){var he;this._textContent=B,this._textContentStream=H,this._container=m,this._document=m.ownerDocument,this._viewport=v,this._textDivs=R||[],this._textContentItemsStr=O||[],this._enhanceTextSelection=!!L,this._fontInspectorEnabled=!!(null==(he=globalThis.FontInspector)?void 0:he.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,h.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(B,H){for(let m=0,v=B.length;m<v;m++)if(void 0!==B[m].str)this._textContentItemsStr.push(B[m].str),T(this,B[m],H,this._layoutTextCtx);else if("beginMarkedContentProps"===B[m].type||"beginMarkedContent"===B[m].type){const R=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==B[m].id&&this._container.setAttribute("id",`${B[m].id}`),R.appendChild(this._container)}else"endMarkedContent"===B[m].type&&(this._container=this._container.parentNode)}_layoutText(B){const H=this._textDivProperties.get(B);let m="";if(0!==H.canvasWidth&&H.hasText){const{fontSize:v,fontFamily:R}=B.style;(v!==this._layoutTextLastFontSize||R!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${v} ${R}`,this._layoutTextLastFontSize=v,this._layoutTextLastFontFamily=R);const{width:O}=this._layoutTextCtx.measureText(B.textContent);if(O>0){const L=H.canvasWidth/O;this._enhanceTextSelection&&(H.scale=L),m=`scaleX(${L})`}}if(0!==H.angle&&(m=`rotate(${H.angle}deg) ${m}`),m.length>0&&(this._enhanceTextSelection&&(H.originalTransform=m),B.style.transform=m),H.hasText&&this._container.appendChild(B),H.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this._container.appendChild(v)}}_render(B=0){const H=(0,h.createPromiseCapability)();let m=Object.create(null);const v=this._document.createElement("canvas");if(v.height=v.width=30,v.mozOpaque=!0,this._layoutTextCtx=v.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),H.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const R=()=>{this._reader.read().then(({value:O,done:L})=>{L?H.resolve():(Object.assign(m,O.styles),this._processItems(O.items,m),R())},H.reject)};this._reader=this._textContentStream.getReader(),R()}}H.promise.then(()=>{m=null,B?this._renderTimer=setTimeout(()=>{y(this),this._renderTimer=null},B):y(this)},this._capability.reject)}expandTextDivs(B=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function D(de){const B=de._bounds,H=de._viewport,m=function Z(de,B,H){const m=H.map(function(R,O){return{x1:R.left,y1:R.top,x2:R.right,y2:R.bottom,index:O,x1New:void 0,x2New:void 0}});I(de,m);const v=new Array(H.length);for(const R of m)v[R.index]={left:R.x1New,top:0,right:R.x2New,bottom:0};H.map(function(R,O){const L=v[O],he=m[O];he.x1=R.top,he.y1=de-L.right,he.x2=R.bottom,he.y2=de-L.left,he.index=O,he.x1New=void 0,he.x2New=void 0}),I(B,m);for(const R of m){const O=R.index;v[O].top=R.x1New,v[O].bottom=R.x2New}return v}(H.width,H.height,B);for(let v=0;v<m.length;v++){const R=B[v].div,O=de._textDivProperties.get(R);if(0===O.angle){O.paddingLeft=B[v].left-m[v].left,O.paddingTop=B[v].top-m[v].top,O.paddingRight=m[v].right-B[v].right,O.paddingBottom=m[v].bottom-B[v].bottom,de._textDivProperties.set(R,O);continue}const L=m[v],he=B[v],Q=he.m,Y=Q[0],te=Q[1],F=[[0,0],[0,he.size[1]],[he.size[0],0],he.size],U=new Float64Array(64);for(let q=0,re=F.length;q<re;q++){const k=h.Util.applyTransform(F[q],Q);U[q+0]=Y&&(L.left-k[0])/Y,U[q+4]=te&&(L.top-k[1])/te,U[q+8]=Y&&(L.right-k[0])/Y,U[q+12]=te&&(L.bottom-k[1])/te,U[q+16]=te&&(L.left-k[0])/-te,U[q+20]=Y&&(L.top-k[1])/Y,U[q+24]=te&&(L.right-k[0])/-te,U[q+28]=Y&&(L.bottom-k[1])/Y,U[q+32]=Y&&(L.left-k[0])/-Y,U[q+36]=te&&(L.top-k[1])/-te,U[q+40]=Y&&(L.right-k[0])/-Y,U[q+44]=te&&(L.bottom-k[1])/-te,U[q+48]=te&&(L.left-k[0])/te,U[q+52]=Y&&(L.top-k[1])/-Y,U[q+56]=te&&(L.right-k[0])/te,U[q+60]=Y&&(L.bottom-k[1])/-Y}const J=1+Math.min(Math.abs(Y),Math.abs(te));O.paddingLeft=E(U,32,16)/J,O.paddingTop=E(U,48,16)/J,O.paddingRight=E(U,0,16)/J,O.paddingBottom=E(U,16,16)/J,de._textDivProperties.set(R,O)}}(this),this._bounds=null);const H=[],m=[];for(let v=0,R=this._textDivs.length;v<R;v++){const O=this._textDivs[v],L=this._textDivProperties.get(O);!L.hasText||(B?(H.length=0,m.length=0,L.originalTransform&&H.push(L.originalTransform),L.paddingTop>0?(m.push(`${L.paddingTop}px`),H.push(`translateY(${-L.paddingTop}px)`)):m.push(0),m.push(L.paddingRight>0?L.paddingRight/L.scale+"px":0),m.push(L.paddingBottom>0?`${L.paddingBottom}px`:0),L.paddingLeft>0?(m.push(L.paddingLeft/L.scale+"px"),H.push(`translateX(${-L.paddingLeft/L.scale}px)`)):m.push(0),O.style.padding=m.join(" "),H.length&&(O.style.transform=H.join(" "))):(O.style.padding=null,O.style.transform=L.originalTransform))}}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.SVGGraphics=void 0;var h=le(1),ie=le(5),ge=le(3);let be=class{constructor(){(0,h.unreachable)("Not implemented: SVGGraphics")}};ne.SVGGraphics=be;{let I=function(m){let v=[];const R=[];for(const O of m)"save"!==O.fn?"restore"===O.fn?v=R.pop():v.push(O):(v.push({fnId:92,fn:"group",items:[]}),R.push(v),v=v[v.length-1].items);return v},_=function(m){if(Number.isInteger(m))return m.toString();const v=m.toFixed(10);let R=v.length-1;if("0"!==v[R])return v;do{R--}while("0"===v[R]);return v.substring(0,"."===v[R]?R:R+1)},W=function(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":`scale(${_(m[0])} ${_(m[3])})`;if(m[0]===m[3]&&m[1]===-m[2]){const v=180*Math.acos(m[0])/Math.PI;return`rotate(${_(v)})`}}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return`translate(${_(m[4])} ${_(m[5])})`;return`matrix(${_(m[0])} ${_(m[1])} ${_(m[2])} ${_(m[3])} ${_(m[4])} ${_(m[5])})`};const ye={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},se="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",T=["butt","round","square"],y=["miter","round","bevel"],E=function(m,v="",R=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!R)return URL.createObjectURL(new Blob([m],{type:v}));const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let L=`data:${v};base64,`;for(let he=0,Q=m.length;he<Q;he+=3){const Y=255&m[he],te=255&m[he+1],F=255&m[he+2];L+=O[Y>>2]+O[(3&Y)<<4|te>>4]+O[he+1<Q?(15&te)<<2|F>>6:64]+O[he+2<Q?63&F:64]}return L},D=function(){const m=new Uint8Array([137,80,78,71,13,10,26,10]),R=new Int32Array(256);for(let F=0;F<256;F++){let U=F;for(let J=0;J<8;J++)U=1&U?3988292384^U>>1&2147483647:U>>1&2147483647;R[F]=U}function L(F,U,J,q){let re=q;const k=U.length;J[re]=k>>24&255,J[re+1]=k>>16&255,J[re+2]=k>>8&255,J[re+3]=255&k,re+=4,J[re]=255&F.charCodeAt(0),J[re+1]=255&F.charCodeAt(1),J[re+2]=255&F.charCodeAt(2),J[re+3]=255&F.charCodeAt(3),re+=4,J.set(U,re),re+=U.length;const M=function O(F,U,J){let q=-1;for(let re=U;re<J;re++)q=q>>>8^R[255&(q^F[re])];return-1^q}(J,q+4,re);J[re]=M>>24&255,J[re+1]=M>>16&255,J[re+2]=M>>8&255,J[re+3]=255&M}function Y(F){let U=F.length;const J=65535,q=Math.ceil(U/J),re=new Uint8Array(2+U+5*q+4);let k=0;re[k++]=120,re[k++]=156;let M=0;for(;U>J;)re[k++]=0,re[k++]=255,re[k++]=255,re[k++]=0,re[k++]=0,re.set(F.subarray(M,M+J),k),k+=J,M+=J,U-=J;re[k++]=1,re[k++]=255&U,re[k++]=U>>8&255,re[k++]=255&~U,re[k++]=(65535&~U)>>8&255,re.set(F.subarray(M),k),k+=F.length-M;const w=function he(F,U,J){let q=1,re=0;for(let k=U;k<J;++k)q=(q+(255&F[k]))%65521,re=(re+q)%65521;return re<<16|q}(F,0,F.length);return re[k++]=w>>24&255,re[k++]=w>>16&255,re[k++]=w>>8&255,re[k++]=255&w,re}return function(U,J,q){return function te(F,U,J,q){const re=F.width,k=F.height;let M,w,z;const V=F.data;switch(U){case h.ImageKind.GRAYSCALE_1BPP:w=0,M=1,z=re+7>>3;break;case h.ImageKind.RGB_24BPP:w=2,M=8,z=3*re;break;case h.ImageKind.RGBA_32BPP:w=6,M=8,z=4*re;break;default:throw new Error("invalid format")}const ae=new Uint8Array((1+z)*k);let A=0,K=0;for(let De=0;De<k;++De)ae[A++]=0,ae.set(V.subarray(K,K+z),A),K+=z,A+=z;if(U===h.ImageKind.GRAYSCALE_1BPP&&q){A=0;for(let De=0;De<k;De++){A++;for(let Ie=0;Ie<z;Ie++)ae[A++]^=255}}const ee=new Uint8Array([re>>24&255,re>>16&255,re>>8&255,255&re,k>>24&255,k>>16&255,k>>8&255,255&k,M,w,0,0,0]),me=function Q(F){if(!ge.isNodeJS)return Y(F);try{let U;U=parseInt(process.versions.node)>=8?F:Buffer.from(F);const J=__webpack_require__(2258).deflateSync(U,{level:9});return J instanceof Uint8Array?J:new Uint8Array(J)}catch(U){(0,h.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+U)}return Y(F)}(ae),_e=new Uint8Array(m.length+36+ee.length+me.length);let we=0;return _e.set(m,we),we+=m.length,L("IHDR",ee,_e,we),we+=12+ee.length,L("IDATA",me,_e,we),we+=12+me.length,L("IEND",new Uint8Array(0),_e,we),E(_e,"image/png",J)}(U,void 0===U.kind?h.ImageKind.GRAYSCALE_1BPP:U.kind,J,q)}}();class Z{constructor(){this.fontSizeScale=1,this.fontWeight=ye.fontWeight,this.fontSize=0,this.textMatrix=h.IDENTITY_MATRIX,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=h.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ye.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,R){this.x=v,this.y=R}}let de=0,B=0,H=0;ne.SVGGraphics=be=class{constructor(m,v,R=!1){this.svgFactory=new ie.DOMSVGFactory,this.current=new Z,this.transformMatrix=h.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=m,this.objs=v,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!R,this._operatorIdMapping=[];for(const O in h.OPS)this._operatorIdMapping[h.OPS[O]]=O}save(){this.transformStack.push(this.transformMatrix);const m=this.current;this.extraStack.push(m),this.current=m.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(m){this.save(),this.executeOpTree(m),this.restore()}loadDependencies(m){const v=m.fnArray,R=m.argsArray;for(let O=0,L=v.length;O<L;O++)if(v[O]===h.OPS.dependency)for(const he of R[O]){const Q=he.startsWith("g_")?this.commonObjs:this.objs,Y=new Promise(te=>{Q.get(he,te)});this.current.dependencies.push(Y)}return Promise.all(this.current.dependencies)}transform(m,v,R,O,L,he){this.transformMatrix=h.Util.transform(this.transformMatrix,[m,v,R,O,L,he]),this.tgrp=null}getSVG(m,v){this.viewport=v;const R=this._initialize(v);return this.loadDependencies(m).then(()=>(this.transformMatrix=h.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(m)),R))}convertOpList(m){const v=this._operatorIdMapping,R=m.argsArray,O=m.fnArray,L=[];for(let he=0,Q=O.length;he<Q;he++){const Y=O[he];L.push({fnId:Y,fn:v[Y],args:R[he]})}return I(L)}executeOpTree(m){for(const v of m){const R=v.fn,L=v.args;switch(0|v.fnId){case h.OPS.beginText:this.beginText();break;case h.OPS.dependency:break;case h.OPS.setLeading:this.setLeading(L);break;case h.OPS.setLeadingMoveText:this.setLeadingMoveText(L[0],L[1]);break;case h.OPS.setFont:this.setFont(L);break;case h.OPS.showText:case h.OPS.showSpacedText:this.showText(L[0]);break;case h.OPS.endText:this.endText();break;case h.OPS.moveText:this.moveText(L[0],L[1]);break;case h.OPS.setCharSpacing:this.setCharSpacing(L[0]);break;case h.OPS.setWordSpacing:this.setWordSpacing(L[0]);break;case h.OPS.setHScale:this.setHScale(L[0]);break;case h.OPS.setTextMatrix:this.setTextMatrix(L[0],L[1],L[2],L[3],L[4],L[5]);break;case h.OPS.setTextRise:this.setTextRise(L[0]);break;case h.OPS.setTextRenderingMode:this.setTextRenderingMode(L[0]);break;case h.OPS.setLineWidth:this.setLineWidth(L[0]);break;case h.OPS.setLineJoin:this.setLineJoin(L[0]);break;case h.OPS.setLineCap:this.setLineCap(L[0]);break;case h.OPS.setMiterLimit:this.setMiterLimit(L[0]);break;case h.OPS.setFillRGBColor:this.setFillRGBColor(L[0],L[1],L[2]);break;case h.OPS.setStrokeRGBColor:this.setStrokeRGBColor(L[0],L[1],L[2]);break;case h.OPS.setStrokeColorN:this.setStrokeColorN(L);break;case h.OPS.setFillColorN:this.setFillColorN(L);break;case h.OPS.shadingFill:this.shadingFill(L[0]);break;case h.OPS.setDash:this.setDash(L[0],L[1]);break;case h.OPS.setRenderingIntent:this.setRenderingIntent(L[0]);break;case h.OPS.setFlatness:this.setFlatness(L[0]);break;case h.OPS.setGState:this.setGState(L[0]);break;case h.OPS.fill:this.fill();break;case h.OPS.eoFill:this.eoFill();break;case h.OPS.stroke:this.stroke();break;case h.OPS.fillStroke:this.fillStroke();break;case h.OPS.eoFillStroke:this.eoFillStroke();break;case h.OPS.clip:this.clip("nonzero");break;case h.OPS.eoClip:this.clip("evenodd");break;case h.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case h.OPS.paintImageXObject:this.paintImageXObject(L[0]);break;case h.OPS.paintInlineImageXObject:this.paintInlineImageXObject(L[0]);break;case h.OPS.paintImageMaskXObject:this.paintImageMaskXObject(L[0]);break;case h.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(L[0],L[1]);break;case h.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case h.OPS.closePath:this.closePath();break;case h.OPS.closeStroke:this.closeStroke();break;case h.OPS.closeFillStroke:this.closeFillStroke();break;case h.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case h.OPS.nextLine:this.nextLine();break;case h.OPS.transform:this.transform(L[0],L[1],L[2],L[3],L[4],L[5]);break;case h.OPS.constructPath:this.constructPath(L[0],L[1]);break;case h.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,h.warn)(`Unimplemented operator ${R}`)}}}setWordSpacing(m){this.current.wordSpacing=m}setCharSpacing(m){this.current.charSpacing=m}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(m,v,R,O,L,he){const Q=this.current;Q.textMatrix=Q.lineMatrix=[m,v,R,O,L,he],Q.textMatrixScale=Math.hypot(m,v),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${_(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",_(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.appendChild(Q.tspan)}beginText(){const m=this.current;m.x=m.lineX=0,m.y=m.lineY=0,m.textMatrix=h.IDENTITY_MATRIX,m.lineMatrix=h.IDENTITY_MATRIX,m.textMatrixScale=1,m.tspan=this.svgFactory.createElement("svg:tspan"),m.txtElement=this.svgFactory.createElement("svg:text"),m.txtgrp=this.svgFactory.createElement("svg:g"),m.xcoords=[],m.ycoords=[]}moveText(m,v){const R=this.current;R.x=R.lineX+=m,R.y=R.lineY+=v,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${_(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",_(-R.y))}showText(m){const v=this.current,R=v.font,O=v.fontSize;if(0===O)return;const L=v.fontSizeScale,he=v.charSpacing,Q=v.wordSpacing,Y=v.fontDirection,te=v.textHScale*Y,F=R.vertical,U=F?1:-1,J=R.defaultVMetrics,q=O*v.fontMatrix[0];let re=0;for(const w of m){if(null===w){re+=Y*Q;continue}if("number"==typeof w){re+=U*w*O/1e3;continue}const z=(w.isSpace?Q:0)+he,V=w.fontChar;let ae,A,ee,K=w.width;if(F){let me;const G=w.vmetric||J;me=w.vmetric?G[1]:.5*K,me=-me*q,K=G?-G[0]:K,ae=me/L,A=(re+G[2]*q)/L}else ae=re/L,A=0;(w.isInFont||R.missingFile)&&(v.xcoords.push(v.x+ae),F&&v.ycoords.push(-v.y+A),v.tspan.textContent+=V),ee=F?K*q-z*Y:K*q+z*Y,re+=ee}v.tspan.setAttributeNS(null,"x",v.xcoords.map(_).join(" ")),v.tspan.setAttributeNS(null,"y",F?v.ycoords.map(_).join(" "):_(-v.y)),F?v.y-=re:v.x+=re*te,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${_(v.fontSize)}px`),v.fontStyle!==ye.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==ye.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);const k=v.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;k===h.TextRenderingMode.FILL||k===h.TextRenderingMode.FILL_STROKE?(v.fillColor!==ye.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.tspan.setAttributeNS(null,"fill",v.textRenderingMode===h.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(k===h.TextRenderingMode.STROKE||k===h.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(v.tspan,1/(v.textMatrixScale||1));let M=v.textMatrix;0!==v.textRise&&(M=M.slice(),M[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform",`${W(M)} scale(${_(te)}, -1)`),v.txtElement.setAttributeNS(se,"xml:space","preserve"),v.txtElement.appendChild(v.tspan),v.txtgrp.appendChild(v.txtElement),this._ensureTransformGroup().appendChild(v.txtElement)}setLeadingMoveText(m,v){this.setLeading(-v),this.moveText(m,v)}addFontStyle(m){if(!m.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const v=E(m.data,m.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${m.loadedName}"; src: url(${v}); }\n`}setFont(m){const v=this.current,R=this.commonObjs.get(m[0]);let O=m[1];v.font=R,this.embedFonts&&!R.missingFile&&!this.embeddedFonts[R.loadedName]&&(this.addFontStyle(R),this.embeddedFonts[R.loadedName]=R),v.fontMatrix=R.fontMatrix||h.FONT_IDENTITY_MATRIX;let L="normal";R.black?L="900":R.bold&&(L="bold");const he=R.italic?"italic":"normal";O<0?(O=-O,v.fontDirection=-1):v.fontDirection=1,v.fontSize=O,v.fontFamily=R.loadedName,v.fontWeight=L,v.fontStyle=he,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",_(-v.y)),v.xcoords=[],v.ycoords=[]}endText(){var v;const m=this.current;m.textRenderingMode&h.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(v=m.txtElement)?void 0:v.hasChildNodes())&&(m.element=m.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(m){m>0&&(this.current.lineWidth=m)}setLineCap(m){this.current.lineCap=T[m]}setLineJoin(m){this.current.lineJoin=y[m]}setMiterLimit(m){this.current.miterLimit=m}setStrokeAlpha(m){this.current.strokeAlpha=m}setStrokeRGBColor(m,v,R){this.current.strokeColor=h.Util.makeHexColor(m,v,R)}setFillAlpha(m){this.current.fillAlpha=m}setFillRGBColor(m,v,R){this.current.fillColor=h.Util.makeHexColor(m,v,R),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(m){this.current.strokeColor=this._makeColorN_Pattern(m)}setFillColorN(m){this.current.fillColor=this._makeColorN_Pattern(m)}shadingFill(m){const v=this.viewport.width,R=this.viewport.height,O=h.Util.inverseTransform(this.transformMatrix),L=h.Util.applyTransform([0,0],O),he=h.Util.applyTransform([0,R],O),Q=h.Util.applyTransform([v,0],O),Y=h.Util.applyTransform([v,R],O),te=Math.min(L[0],he[0],Q[0],Y[0]),F=Math.min(L[1],he[1],Q[1],Y[1]),U=Math.max(L[0],he[0],Q[0],Y[0]),J=Math.max(L[1],he[1],Q[1],Y[1]),q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",te),q.setAttributeNS(null,"y",F),q.setAttributeNS(null,"width",U-te),q.setAttributeNS(null,"height",J-F),q.setAttributeNS(null,"fill",this._makeShadingPattern(m)),this.current.fillAlpha<1&&q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(q)}_makeColorN_Pattern(m){return"TilingPattern"===m[0]?this._makeTilingPattern(m):this._makeShadingPattern(m)}_makeTilingPattern(m){const v=m[1],R=m[2],O=m[3]||h.IDENTITY_MATRIX,[L,he,Q,Y]=m[4],te=m[5],F=m[6],U=m[7],J="shading"+H++,[q,re,k,M]=h.Util.normalizeRect([...h.Util.applyTransform([L,he],O),...h.Util.applyTransform([Q,Y],O)]),[w,z]=h.Util.singularValueDecompose2dScale(O),V=te*w,ae=F*z,A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",J),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",V),A.setAttributeNS(null,"height",ae),A.setAttributeNS(null,"x",`${q}`),A.setAttributeNS(null,"y",`${re}`);const K=this.svg,ee=this.transformMatrix,me=this.current.fillColor,G=this.current.strokeColor,_e=this.svgFactory.create(k-q,M-re);if(this.svg=_e,this.transformMatrix=O,2===U){const we=h.Util.makeHexColor(...v);this.current.fillColor=we,this.current.strokeColor=we}return this.executeOpTree(this.convertOpList(R)),this.svg=K,this.transformMatrix=ee,this.current.fillColor=me,this.current.strokeColor=G,A.appendChild(_e.childNodes[0]),this.defs.appendChild(A),`url(#${J})`}_makeShadingPattern(m){switch("string"==typeof m&&(m=this.objs.get(m)),m[0]){case"RadialAxial":const v="shading"+H++,R=m[3];let O;switch(m[1]){case"axial":const L=m[4],he=m[5];O=this.svgFactory.createElement("svg:linearGradient"),O.setAttributeNS(null,"id",v),O.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),O.setAttributeNS(null,"x1",L[0]),O.setAttributeNS(null,"y1",L[1]),O.setAttributeNS(null,"x2",he[0]),O.setAttributeNS(null,"y2",he[1]);break;case"radial":const Q=m[4],Y=m[5],te=m[6],F=m[7];O=this.svgFactory.createElement("svg:radialGradient"),O.setAttributeNS(null,"id",v),O.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),O.setAttributeNS(null,"cx",Y[0]),O.setAttributeNS(null,"cy",Y[1]),O.setAttributeNS(null,"r",F),O.setAttributeNS(null,"fx",Q[0]),O.setAttributeNS(null,"fy",Q[1]),O.setAttributeNS(null,"fr",te);break;default:throw new Error(`Unknown RadialAxial type: ${m[1]}`)}for(const L of R){const he=this.svgFactory.createElement("svg:stop");he.setAttributeNS(null,"offset",L[0]),he.setAttributeNS(null,"stop-color",L[1]),O.appendChild(he)}return this.defs.appendChild(O),`url(#${v})`;case"Mesh":return(0,h.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${m[0]}`)}}setDash(m,v){this.current.dashArray=m,this.current.dashPhase=v}constructPath(m,v){const R=this.current;let O=R.x,L=R.y,he=[],Q=0;for(const Y of m)switch(0|Y){case h.OPS.rectangle:O=v[Q++],L=v[Q++];const U=O+v[Q++],J=L+v[Q++];he.push("M",_(O),_(L),"L",_(U),_(L),"L",_(U),_(J),"L",_(O),_(J),"Z");break;case h.OPS.moveTo:O=v[Q++],L=v[Q++],he.push("M",_(O),_(L));break;case h.OPS.lineTo:O=v[Q++],L=v[Q++],he.push("L",_(O),_(L));break;case h.OPS.curveTo:O=v[Q+4],L=v[Q+5],he.push("C",_(v[Q]),_(v[Q+1]),_(v[Q+2]),_(v[Q+3]),_(O),_(L)),Q+=6;break;case h.OPS.curveTo2:he.push("C",_(O),_(L),_(v[Q]),_(v[Q+1]),_(v[Q+2]),_(v[Q+3])),O=v[Q+2],L=v[Q+3],Q+=4;break;case h.OPS.curveTo3:O=v[Q+2],L=v[Q+3],he.push("C",_(v[Q]),_(v[Q+1]),_(O),_(L),_(O),_(L)),Q+=4;break;case h.OPS.closePath:he.push("Z")}he=he.join(" "),R.path&&m.length>0&&m[0]!==h.OPS.rectangle&&m[0]!==h.OPS.moveTo?he=R.path.getAttributeNS(null,"d")+he:(R.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(R.path)),R.path.setAttributeNS(null,"d",he),R.path.setAttributeNS(null,"fill","none"),R.element=R.path,R.setCurrentPoint(O,L)}endPath(){const m=this.current;if(m.path=null,!this.pendingClip)return;if(!m.element)return void(this.pendingClip=null);const v="clippath"+de++,R=this.svgFactory.createElement("svg:clipPath");R.setAttributeNS(null,"id",v),R.setAttributeNS(null,"transform",W(this.transformMatrix));const O=m.element.cloneNode(!0);if(O.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,R.appendChild(O),this.defs.appendChild(R),m.activeClipUrl){m.clipGroup=null;for(const L of this.extraStack)L.clipGroup=null;R.setAttributeNS(null,"clip-path",m.activeClipUrl)}m.activeClipUrl=`url(#${v})`,this.tgrp=null}clip(m){this.pendingClip=m}closePath(){const m=this.current;if(m.path){const v=`${m.path.getAttributeNS(null,"d")}Z`;m.path.setAttributeNS(null,"d",v)}}setLeading(m){this.current.leading=-m}setTextRise(m){this.current.textRise=m}setTextRenderingMode(m){this.current.textRenderingMode=m}setHScale(m){this.current.textHScale=m/100}setRenderingIntent(m){}setFlatness(m){}setGState(m){for(const[v,R]of m)switch(v){case"LW":this.setLineWidth(R);break;case"LC":this.setLineCap(R);break;case"LJ":this.setLineJoin(R);break;case"ML":this.setMiterLimit(R);break;case"D":this.setDash(R[0],R[1]);break;case"RI":this.setRenderingIntent(R);break;case"FL":this.setFlatness(R);break;case"Font":this.setFont(R);break;case"CA":this.setStrokeAlpha(R);break;case"ca":this.setFillAlpha(R);break;default:(0,h.warn)(`Unimplemented graphic state operator ${v}`)}}fill(){const m=this.current;m.element&&(m.element.setAttributeNS(null,"fill",m.fillColor),m.element.setAttributeNS(null,"fill-opacity",m.fillAlpha),this.endPath())}stroke(){const m=this.current;m.element&&(this._setStrokeAttributes(m.element),m.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(m,v=1){const R=this.current;let O=R.dashArray;1!==v&&O.length>0&&(O=O.map(function(L){return v*L})),m.setAttributeNS(null,"stroke",R.strokeColor),m.setAttributeNS(null,"stroke-opacity",R.strokeAlpha),m.setAttributeNS(null,"stroke-miterlimit",_(R.miterLimit)),m.setAttributeNS(null,"stroke-linecap",R.lineCap),m.setAttributeNS(null,"stroke-linejoin",R.lineJoin),m.setAttributeNS(null,"stroke-width",_(v*R.lineWidth)+"px"),m.setAttributeNS(null,"stroke-dasharray",O.map(_).join(" ")),m.setAttributeNS(null,"stroke-dashoffset",_(v*R.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x","0"),m.setAttributeNS(null,"y","0"),m.setAttributeNS(null,"width","1px"),m.setAttributeNS(null,"height","1px"),m.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(m)}paintImageXObject(m){const v=m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m);v?this.paintInlineImageXObject(v):(0,h.warn)(`Dependent image with object ID ${m} is not ready yet`)}paintInlineImageXObject(m,v){const R=m.width,O=m.height,L=D(m,this.forceDataSchema,!!v),he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y","0"),he.setAttributeNS(null,"width",_(R)),he.setAttributeNS(null,"height",_(O)),this.current.element=he,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS(f,"xlink:href",L),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",_(-O)),Q.setAttributeNS(null,"width",_(R)+"px"),Q.setAttributeNS(null,"height",_(O)+"px"),Q.setAttributeNS(null,"transform",`scale(${_(1/R)} ${_(-1/O)})`),v?v.appendChild(Q):this._ensureTransformGroup().appendChild(Q)}paintImageMaskXObject(m){const v=this.current,R=m.width,O=m.height,L=v.fillColor;v.maskId="mask"+B++;const he=this.svgFactory.createElement("svg:mask");he.setAttributeNS(null,"id",v.maskId);const Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",_(R)),Q.setAttributeNS(null,"height",_(O)),Q.setAttributeNS(null,"fill",L),Q.setAttributeNS(null,"mask",`url(#${v.maskId})`),this.defs.appendChild(he),this._ensureTransformGroup().appendChild(Q),this.paintInlineImageXObject(m,he)}paintFormXObjectBegin(m,v){if(Array.isArray(m)&&6===m.length&&this.transform(m[0],m[1],m[2],m[3],m[4],m[5]),v){const R=v[2]-v[0],O=v[3]-v[1],L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x",v[0]),L.setAttributeNS(null,"y",v[1]),L.setAttributeNS(null,"width",_(R)),L.setAttributeNS(null,"height",_(O)),this.current.element=L,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(m){const v=this.svgFactory.create(m.width,m.height),R=this.svgFactory.createElement("svg:defs");v.appendChild(R),this.defs=R;const O=this.svgFactory.createElement("svg:g");return O.setAttributeNS(null,"transform",W(m.transform)),v.appendChild(O),this.svg=O,v}_ensureClipGroup(){if(!this.current.clipGroup){const m=this.svgFactory.createElement("svg:g");m.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(m),this.current.clipGroup=m}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",W(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.PDFNodeStream=void 0;var h=le(1),ie=le(24);const ge=__webpack_require__(172),be=__webpack_require__(2001),ye=__webpack_require__(3779),se=__webpack_require__(6558),f=/^file:\/\/\/[a-zA-Z]:\//;ne.PDFNodeStream=class y{constructor(H){this.source=H,this.url=function T(B){const H=se.parse(B);return"file:"===H.protocol||H.host?H:/^[a-z]:[/\\]/i.test(B)?se.parse(`file:///${B}`):(H.host||(H.protocol="file:"),H)}(H.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&H.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var H,m;return null!=(m=null==(H=this._fullRequestReader)?void 0:H._loaded)?m:0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new W(this):new I(this),this._fullRequestReader}getRangeReader(H,m){if(m<=this._progressiveDataLength)return null;const v=this.isFsUrl?new de(this,H,m):new _(this,H,m);return this._rangeRequestReaders.push(v),v}cancelAllRequests(H){this._fullRequestReader&&this._fullRequestReader.cancel(H);for(const m of this._rangeRequestReaders.slice(0))m.cancel(H)}};class E{constructor(H){this._url=H.url,this._done=!1,this._storedError=null,this.onProgress=null;const m=H.source;this._contentLength=m.length,this._loaded=0,this._filename=null,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._readableStream=null,this._readCapability=(0,h.createPromiseCapability)(),this._headersCapability=(0,h.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var H=this;return _asyncToGenerator(function*(){if(yield H._readCapability.promise,H._done)return{value:void 0,done:!0};if(H._storedError)throw H._storedError;const m=H._readableStream.read();return null===m?(H._readCapability=(0,h.createPromiseCapability)(),H.read()):(H._loaded+=m.length,H.onProgress&&H.onProgress({loaded:H._loaded,total:H._contentLength}),{value:new Uint8Array(m).buffer,done:!1})})()}cancel(H){this._readableStream?this._readableStream.destroy(H):this._error(H)}_error(H){this._storedError=H,this._readCapability.resolve()}_setReadableStream(H){this._readableStream=H,H.on("readable",()=>{this._readCapability.resolve()}),H.on("end",()=>{H.destroy(),this._done=!0,this._readCapability.resolve()}),H.on("error",m=>{this._error(m)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class D{constructor(H){this._url=H.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,h.createPromiseCapability)(),this._isStreamingSupported=!H.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var H=this;return _asyncToGenerator(function*(){if(yield H._readCapability.promise,H._done)return{value:void 0,done:!0};if(H._storedError)throw H._storedError;const m=H._readableStream.read();return null===m?(H._readCapability=(0,h.createPromiseCapability)(),H.read()):(H._loaded+=m.length,H.onProgress&&H.onProgress({loaded:H._loaded}),{value:new Uint8Array(m).buffer,done:!1})})()}cancel(H){this._readableStream?this._readableStream.destroy(H):this._error(H)}_error(H){this._storedError=H,this._readCapability.resolve()}_setReadableStream(H){this._readableStream=H,H.on("readable",()=>{this._readCapability.resolve()}),H.on("end",()=>{H.destroy(),this._done=!0,this._readCapability.resolve()}),H.on("error",m=>{this._error(m)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Z(B,H){return{protocol:B.protocol,auth:B.auth,host:B.hostname,port:B.port,path:B.path,method:"GET",headers:H}}class I extends E{constructor(H){super(H);const m=v=>{if(404===v.statusCode){const he=new h.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=he,void this._headersCapability.reject(he)}this._headersCapability.resolve(),this._setReadableStream(v);const R=he=>this._readableStream.headers[he.toLowerCase()],{allowRangeRequests:O,suggestedLength:L}=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:H.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=O,this._contentLength=L||this._contentLength,this._filename=(0,ie.extractFilenameFromHeader)(R)};this._request=null,this._request="http:"===this._url.protocol?be.request(Z(this._url,H.httpHeaders),m):ye.request(Z(this._url,H.httpHeaders),m),this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class _ extends D{constructor(H,m,v){super(H),this._httpHeaders={};for(const O in H.httpHeaders){const L=H.httpHeaders[O];void 0!==L&&(this._httpHeaders[O]=L)}this._httpHeaders.Range=`bytes=${m}-${v-1}`;const R=O=>{if(404!==O.statusCode)this._setReadableStream(O);else{const L=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L}};this._request=null,this._request="http:"===this._url.protocol?be.request(Z(this._url,this._httpHeaders),R):ye.request(Z(this._url,this._httpHeaders),R),this._request.on("error",O=>{this._storedError=O}),this._request.end()}}class W extends E{constructor(H){super(H);let m=decodeURIComponent(this._url.path);f.test(this._url.href)&&(m=m.replace(/^\//,"")),ge.lstat(m,(v,R)=>{if(v)return"ENOENT"===v.code&&(v=new h.MissingPDFException(`Missing PDF "${m}".`)),this._storedError=v,void this._headersCapability.reject(v);this._contentLength=R.size,this._setReadableStream(ge.createReadStream(m)),this._headersCapability.resolve()})}}class de extends D{constructor(H,m,v){super(H);let R=decodeURIComponent(this._url.path);f.test(this._url.href)&&(R=R.replace(/^\//,"")),this._setReadableStream(ge.createReadStream(R,{start:m,end:v-1}))}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.createResponseStatusError=function se(T,y){return 404===T||0===T&&y.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+y+'".'):new h.UnexpectedResponseException(`Unexpected server response (${T}) while retrieving PDF "${y}".`,T)},ne.extractFilenameFromHeader=function ye(T){const y=T("Content-Disposition");if(y){let E=(0,ie.getFilenameFromContentDispositionHeader)(y);if(E.includes("%"))try{E=decodeURIComponent(E)}catch(D){}if((0,ge.isPdfFile)(E))return E}return null},ne.validateRangeRequestCapabilities=function be({getResponseHeader:T,isHttp:y,rangeChunkSize:E,disableRange:D}){(0,h.assert)(E>0,"Range chunk size must be larger than zero");const Z={allowRangeRequests:!1,suggestedLength:void 0},I=parseInt(T("Content-Length"),10);return!Number.isInteger(I)||(Z.suggestedLength=I,I<=2*E)||D||!y||"bytes"!==T("Accept-Ranges")||"identity"!==(T("Content-Encoding")||"identity")||(Z.allowRangeRequests=!0),Z},ne.validateResponseStatus=function f(T){return 200===T||206===T};var h=le(1),ie=le(25),ge=le(5)},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.getFilenameFromContentDispositionHeader=function ie(ge){let be=!0,ye=se("filename\\*","i").exec(ge);if(ye){ye=ye[1];let I=E(ye);return I=unescape(I),I=D(I),I=Z(I),T(I)}if(ye=function y(I){const _=[];let W;const de=se("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(W=de.exec(I));){let[,H,m,v]=W;if(H=parseInt(H,10),H in _){if(0===H)break}else _[H]=[m,v]}const B=[];for(let H=0;H<_.length&&H in _;++H){let[m,v]=_[H];v=E(v),m&&(v=unescape(v),0===H&&(v=D(v))),B.push(v)}return B.join("")}(ge),ye)return T(Z(ye));if(ye=se("filename","i").exec(ge),ye){ye=ye[1];let I=E(ye);return I=Z(I),T(I)}function se(I,_){return new RegExp("(?:^|;)\\s*"+I+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function f(I,_){if(I){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const W=new TextDecoder(I,{fatal:!0}),de=(0,h.stringToBytes)(_);_=W.decode(de),be=!1}catch(W){}}return _}function T(I){return be&&/[\x80-\xff]/.test(I)&&(I=f("utf-8",I),be&&(I=f("iso-8859-1",I))),I}function E(I){if(I.startsWith('"')){const _=I.slice(1).split('\\"');for(let W=0;W<_.length;++W){const de=_[W].indexOf('"');-1!==de&&(_[W]=_[W].slice(0,de),_.length=W+1),_[W]=_[W].replace(/\\(.)/g,"$1")}I=_.join('"')}return I}function D(I){const _=I.indexOf("'");return-1===_?I:f(I.slice(0,_),I.slice(_+1).replace(/^[^']*'/,""))}function Z(I){return!I.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(I)?I:I.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,W,de,B){if("q"===de||"Q"===de)return f(W,B=(B=B.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(H,m){return String.fromCharCode(parseInt(m,16))}));try{B=atob(B)}catch(H){}return f(W,B)})}return""};var h=le(1)},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.PDFNetworkStream=void 0;var h=le(1),ie=le(24);class se{constructor(D,Z={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&Z.httpHeaders||Object.create(null),this.withCredentials=Z.withCredentials||!1,this.getXhr=Z.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,Z,I){const _={begin:D,end:Z};for(const W in I)_[W]=I[W];return this.request(_)}requestFull(D){return this.request(D)}request(D){const Z=this.getXhr(),I=this.currXhrId++,_=this.pendingRequests[I]={xhr:Z};Z.open("GET",this.url),Z.withCredentials=this.withCredentials;for(const W in this.httpHeaders){const de=this.httpHeaders[W];void 0!==de&&Z.setRequestHeader(W,de)}return this.isHttp&&"begin"in D&&"end"in D?(Z.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),_.expectedStatus=206):_.expectedStatus=200,Z.responseType="arraybuffer",D.onError&&(Z.onerror=function(W){D.onError(Z.status)}),Z.onreadystatechange=this.onStateChange.bind(this,I),Z.onprogress=this.onProgress.bind(this,I),_.onHeadersReceived=D.onHeadersReceived,_.onDone=D.onDone,_.onError=D.onError,_.onProgress=D.onProgress,Z.send(null),I}onProgress(D,Z){var _;const I=this.pendingRequests[D];!I||null==(_=I.onProgress)||_.call(I,Z)}onStateChange(D,Z){var H,m,v;const I=this.pendingRequests[D];if(!I)return;const _=I.xhr;if(_.readyState>=2&&I.onHeadersReceived&&(I.onHeadersReceived(),delete I.onHeadersReceived),4!==_.readyState||!(D in this.pendingRequests))return;if(delete this.pendingRequests[D],0===_.status&&this.isHttp)return void(null==(H=I.onError)||H.call(I,_.status));const W=_.status||200;if((200!==W||206!==I.expectedStatus)&&W!==I.expectedStatus)return void(null==(m=I.onError)||m.call(I,_.status));const B=function ye(E){const D=E.response;return"string"!=typeof D?D:(0,h.stringToBytes)(D).buffer}(_);if(206===W){const R=_.getResponseHeader("Content-Range"),O=/bytes (\d+)-(\d+)\/(\d+)/.exec(R);I.onDone({begin:parseInt(O[1],10),chunk:B})}else B?I.onDone({begin:0,chunk:B}):null==(v=I.onError)||v.call(I,_.status)}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const Z=this.pendingRequests[D].xhr;delete this.pendingRequests[D],Z.abort()}}ne.PDFNetworkStream=class f{constructor(D){this._source=D,this._manager=new se(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const Z=this._rangeRequestReaders.indexOf(D);Z>=0&&this._rangeRequestReaders.splice(Z,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._manager,this._source),this._fullRequestReader}getRangeReader(D,Z){const I=new y(this._manager,D,Z);return I.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(I),I}cancelAllRequests(D){var Z;null==(Z=this._fullRequestReader)||Z.cancel(D);for(const I of this._rangeRequestReaders.slice(0))I.cancel(D)}};class T{constructor(D,Z){this._manager=D;const I={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Z.url,this._fullRequestId=D.requestFull(I),this._headersReceivedCapability=(0,h.createPromiseCapability)(),this._disableRange=Z.disableRange||!1,this._contentLength=Z.length,this._rangeChunkSize=Z.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,Z=this._manager.getRequestXhr(D),I=de=>Z.getResponseHeader(de),{allowRangeRequests:_,suggestedLength:W}=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_&&(this._isRangeSupported=!0),this._contentLength=W||this._contentLength,this._filename=(0,ie.extractFilenameFromHeader)(I),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Z of this._requests)Z.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,ie.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Z of this._requests)Z.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){var Z;null==(Z=this.onProgress)||Z.call(this,{loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var D=this;return _asyncToGenerator(function*(){if(D._storedError)throw D._storedError;if(D._cachedChunks.length>0)return{value:D._cachedChunks.shift(),done:!1};if(D._done)return{value:void 0,done:!0};const Z=(0,h.createPromiseCapability)();return D._requests.push(Z),Z.promise})()}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const Z of this._requests)Z.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y{constructor(D,Z,I){this._manager=D;const _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(Z,I,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var D;null==(D=this.onClosed)||D.call(this,this)}_onDone(D){const Z=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:Z,done:!1}):this._queuedChunk=Z,this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,ie.createResponseStatusError)(D,this._url);for(const Z of this._requests)Z.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){var Z;this.isStreamingSupported||null==(Z=this.onProgress)||Z.call(this,{loaded:D.loaded})}get isStreamingSupported(){return!1}read(){var D=this;return _asyncToGenerator(function*(){if(D._storedError)throw D._storedError;if(null!==D._queuedChunk){const I=D._queuedChunk;return D._queuedChunk=null,{value:I,done:!1}}if(D._done)return{value:void 0,done:!0};const Z=(0,h.createPromiseCapability)();return D._requests.push(Z),Z.promise})()}cancel(D){this._done=!0;for(const Z of this._requests)Z.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ue,ne,le)=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.PDFFetchStream=void 0;var h=le(1),ie=le(24);function ge(T,y,E){return{method:"GET",headers:T,signal:null==E?void 0:E.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function be(T){const y=new Headers;for(const E in T){const D=T[E];void 0!==D&&y.append(E,D)}return y}ne.PDFFetchStream=class ye{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y,E;return null!=(E=null==(y=this._fullRequestReader)?void 0:y._loaded)?E:0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new se(this),this._fullRequestReader}getRangeReader(y,E){if(E<=this._progressiveDataLength)return null;const D=new f(this,y,E);return this._rangeRequestReaders.push(D),D}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const E of this._rangeRequestReaders.slice(0))E.cancel(y)}};class se{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const E=y.source;this._withCredentials=E.withCredentials||!1,this._contentLength=E.length,this._headersCapability=(0,h.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._headers=be(this._stream.httpHeaders);const D=E.url;fetch(D,ge(this._headers,this._withCredentials,this._abortController)).then(Z=>{if(!(0,ie.validateResponseStatus)(Z.status))throw(0,ie.createResponseStatusError)(Z.status,D);this._reader=Z.body.getReader(),this._headersCapability.resolve();const I=de=>Z.headers.get(de),{allowRangeRequests:_,suggestedLength:W}=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=W||this._contentLength,this._filename=(0,ie.extractFilenameFromHeader)(I),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){yield y._headersCapability.promise;const{value:E,done:D}=yield y._reader.read();return D?{value:E,done:D}:(y._loaded+=E.byteLength,y.onProgress&&y.onProgress({loaded:y._loaded,total:y._contentLength}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}class f{constructor(y,E,D){this._stream=y,this._reader=null,this._loaded=0;const Z=y.source;this._withCredentials=Z.withCredentials||!1,this._readCapability=(0,h.createPromiseCapability)(),this._isStreamingSupported=!Z.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=be(this._stream.httpHeaders),this._headers.append("Range",`bytes=${E}-${D-1}`);const I=Z.url;fetch(I,ge(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,ie.validateResponseStatus)(_.status))throw(0,ie.createResponseStatusError)(_.status,I);this._readCapability.resolve(),this._reader=_.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){yield y._readCapability.promise;const{value:E,done:D}=yield y._reader.read();return D?{value:E,done:D}:(y._loaded+=E.byteLength,y.onProgress&&y.onProgress({loaded:y._loaded}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ue){var ne=__webpack_module_cache__[Ue];if(void 0!==ne)return ne.exports;var le=__webpack_module_cache__[Ue]={exports:{}};return __webpack_modules__[Ue](le,le.exports,__w_pdfjs_require__),le.exports}var __webpack_exports__={};return(()=>{var Ue=__webpack_exports__;Object.defineProperty(Ue,"__esModule",{value:!0}),Object.defineProperty(Ue,"AnnotationLayer",{enumerable:!0,get:function(){return ie.AnnotationLayer}}),Object.defineProperty(Ue,"AnnotationMode",{enumerable:!0,get:function(){return ne.AnnotationMode}}),Object.defineProperty(Ue,"CMapCompressionType",{enumerable:!0,get:function(){return ne.CMapCompressionType}}),Object.defineProperty(Ue,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ge.GlobalWorkerOptions}}),Object.defineProperty(Ue,"InvalidPDFException",{enumerable:!0,get:function(){return ne.InvalidPDFException}}),Object.defineProperty(Ue,"LoopbackPort",{enumerable:!0,get:function(){return le.LoopbackPort}}),Object.defineProperty(Ue,"MissingPDFException",{enumerable:!0,get:function(){return ne.MissingPDFException}}),Object.defineProperty(Ue,"OPS",{enumerable:!0,get:function(){return ne.OPS}}),Object.defineProperty(Ue,"PDFDataRangeTransport",{enumerable:!0,get:function(){return le.PDFDataRangeTransport}}),Object.defineProperty(Ue,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(Ue,"PDFWorker",{enumerable:!0,get:function(){return le.PDFWorker}}),Object.defineProperty(Ue,"PasswordResponses",{enumerable:!0,get:function(){return ne.PasswordResponses}}),Object.defineProperty(Ue,"PermissionFlag",{enumerable:!0,get:function(){return ne.PermissionFlag}}),Object.defineProperty(Ue,"PixelsPerInch",{enumerable:!0,get:function(){return h.PixelsPerInch}}),Object.defineProperty(Ue,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(Ue,"SVGGraphics",{enumerable:!0,get:function(){return se.SVGGraphics}}),Object.defineProperty(Ue,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return ne.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ue,"UnexpectedResponseException",{enumerable:!0,get:function(){return ne.UnexpectedResponseException}}),Object.defineProperty(Ue,"Util",{enumerable:!0,get:function(){return ne.Util}}),Object.defineProperty(Ue,"VerbosityLevel",{enumerable:!0,get:function(){return ne.VerbosityLevel}}),Object.defineProperty(Ue,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(Ue,"build",{enumerable:!0,get:function(){return le.build}}),Object.defineProperty(Ue,"createPromiseCapability",{enumerable:!0,get:function(){return ne.createPromiseCapability}}),Object.defineProperty(Ue,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return ne.createValidAbsoluteUrl}}),Object.defineProperty(Ue,"getDocument",{enumerable:!0,get:function(){return le.getDocument}}),Object.defineProperty(Ue,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(Ue,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return h.getPdfFilenameFromUrl}}),Object.defineProperty(Ue,"getXfaPageViewport",{enumerable:!0,get:function(){return h.getXfaPageViewport}}),Object.defineProperty(Ue,"isPdfFile",{enumerable:!0,get:function(){return h.isPdfFile}}),Object.defineProperty(Ue,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(Ue,"renderTextLayer",{enumerable:!0,get:function(){return ye.renderTextLayer}}),Object.defineProperty(Ue,"shadow",{enumerable:!0,get:function(){return ne.shadow}}),Object.defineProperty(Ue,"version",{enumerable:!0,get:function(){return le.version}});var ne=__w_pdfjs_require__(1),le=__w_pdfjs_require__(4),h=__w_pdfjs_require__(5),ie=__w_pdfjs_require__(18),ge=__w_pdfjs_require__(12),be=__w_pdfjs_require__(3),ye=__w_pdfjs_require__(21),se=__w_pdfjs_require__(22),f=__w_pdfjs_require__(20);if(be.isNodeJS){const{PDFNodeStream:E}=__w_pdfjs_require__(23);(0,le.setPDFNetworkStreamFactory)(D=>new E(D))}else{const{PDFNetworkStream:E}=__w_pdfjs_require__(26),{PDFFetchStream:D}=__w_pdfjs_require__(27);(0,le.setPDFNetworkStreamFactory)(Z=>(0,h.isValidFetchUrl)(Z.url)?new D(Z):new E(Z))}})(),__webpack_exports__})()},module.exports=le()},2813:function(Ue,ne,le){var h=le(8926).default;Ue.exports=(()=>{"use strict";var ie=[,(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DefaultXfaLayerFactory=f.DefaultTextLayerFactory=f.DefaultStructTreeLayerFactory=f.DefaultAnnotationLayerFactory=void 0;var y=T(2),E=T(4),D=T(5),Z=T(7),I=T(8),_=T(9);f.DefaultAnnotationLayerFactory=class W{createAnnotationLayerBuilder(v,R,O=null,L="",he=!0,Q=E.NullL10n,Y=!1,te=null,F=null,U=null,J=null){return new y.AnnotationLayerBuilder({pageDiv:v,pdfPage:R,imageResourcesPath:L,renderForms:he,linkService:new D.SimpleLinkService,l10n:Q,annotationStorage:O,enableScripting:Y,hasJSActionsPromise:te,fieldObjectsPromise:U,mouseState:F,annotationCanvasMap:J})}};f.DefaultStructTreeLayerFactory=class de{createStructTreeLayerBuilder(v){return new Z.StructTreeLayerBuilder({pdfPage:v})}};f.DefaultTextLayerFactory=class B{createTextLayerBuilder(v,R,O,L=!1,he,Q){return new I.TextLayerBuilder({textLayerDiv:v,pageIndex:R,viewport:O,enhanceTextSelection:L,eventBus:he,highlighter:Q})}};f.DefaultXfaLayerFactory=class H{createXfaLayerBuilder(v,R,O=null,L=null){return new _.XfaLayerBuilder({pageDiv:v,pdfPage:R,annotationStorage:O,linkService:new D.SimpleLinkService,xfaHtml:L})}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AnnotationLayerBuilder=void 0;var y=T(3),E=T(4);f.AnnotationLayerBuilder=class D{constructor({pageDiv:I,pdfPage:_,linkService:W,downloadManager:de,annotationStorage:B=null,imageResourcesPath:H="",renderForms:m=!0,l10n:v=E.NullL10n,enableScripting:R=!1,hasJSActionsPromise:O=null,fieldObjectsPromise:L=null,mouseState:he=null,annotationCanvasMap:Q=null}){this.pageDiv=I,this.pdfPage=_,this.linkService=W,this.downloadManager=de,this.imageResourcesPath=H,this.renderForms=m,this.l10n=v,this.annotationStorage=B,this.enableScripting=R,this._hasJSActionsPromise=O,this._fieldObjectsPromise=L,this._mouseState=he,this._annotationCanvasMap=Q,this.div=null,this._cancelled=!1}render(I,_="display"){var W=this;return h(function*(){const[de,B=!1,H=null]=yield Promise.all([W.pdfPage.getAnnotations({intent:_}),W._hasJSActionsPromise,W._fieldObjectsPromise]);if(W._cancelled||0===de.length)return;const m={viewport:I.clone({dontFlip:!0}),div:W.div,annotations:de,page:W.pdfPage,imageResourcesPath:W.imageResourcesPath,renderForms:W.renderForms,linkService:W.linkService,downloadManager:W.downloadManager,annotationStorage:W.annotationStorage,enableScripting:W.enableScripting,hasJSActions:B,fieldObjects:H,mouseState:W._mouseState,annotationCanvasMap:W._annotationCanvasMap};W.div?y.AnnotationLayer.update(m):(W.div=document.createElement("div"),W.div.className="annotationLayer",W.pageDiv.appendChild(W.div),m.div=W.div,y.AnnotationLayer.render(m),W.l10n.translate(W.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},se=>{let f;f="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:le(6036),se.exports=f},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NullL10n=void 0,f.fixupLangCode=function D(_){return E[null==_?void 0:_.toLowerCase()]||_},f.getL10nFallback=y;const T={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function y(_,W){switch(_){case"find_match_count":_=`find_match_count[${1===W.total?"one":"other"}]`;break;case"find_match_count_limit":_=`find_match_count_limit[${1===W.limit?"one":"other"}]`}return T[_]||""}const E={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};f.NullL10n={getLanguage:()=>h(function*(){return"en-us"})(),getDirection:()=>h(function*(){return"ltr"})(),get:(_,W=null,de=y(_,W))=>h(function*(){return function Z(_,W){return W?_.replace(/\{\{\s*(\w+)\s*\}\}/g,(de,B)=>B in W?W[B]:"{{"+B+"}}"):_}(de,W)})(),translate:_=>h(function*(){})()}},(se,f,T)=>{var W,de,jg,H,mC;Object.defineProperty(f,"__esModule",{value:!0}),f.SimpleLinkService=f.PDFLinkService=f.LinkTarget=void 0;var y=T(6);const D={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function Z(R,{url:O,target:L,rel:he,enabled:Q=!0}={}){if(!O||"string"!=typeof O)throw new Error('A valid "url" parameter must provided.');const Y=(0,y.removeNullCharacters)(O);Q?R.href=R.title=Y:(R.href="",R.title=`Disabled: ${Y}`,R.onclick=()=>!1);let te="";switch(L){case D.NONE:break;case D.SELF:te="_self";break;case D.BLANK:te="_blank";break;case D.PARENT:te="_parent";break;case D.TOP:te="_top"}R.target=te,R.rel="string"==typeof he?he:"noopener noreferrer nofollow"}f.LinkTarget=D;const v=class{constructor({eventBus:O,externalLinkTarget:L=null,externalLinkRel:he=null,ignoreDestinationZoom:Q=!1}={}){Xt(this,de),Xt(this,W,new Map),this.eventBus=O,this.externalLinkTarget=L,this.externalLinkRel=he,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=Q,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(O,L=null){this.baseUrl=L,this.pdfDocument=O,vt(this,W).clear()}setViewer(O){this.pdfViewer=O}setHistory(O){this.pdfHistory=O}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(O){this.pdfViewer.currentPageNumber=O}get rotation(){return this.pdfViewer.pagesRotation}set rotation(O){this.pdfViewer.pagesRotation=O}goToDestination(O){var L=this;return h(function*(){var Y;if(!L.pdfDocument)return;let he,Q;"string"==typeof O?(he=O,Q=yield L.pdfDocument.getDestination(O)):(he=null,Q=yield O),Array.isArray(Q)?Ln(Y=L,de,jg).call(Y,O,he,Q):console.error(`PDFLinkService.goToDestination: "${Q}" is not a valid destination array, for dest="${O}".`)})()}goToPage(O){if(!this.pdfDocument)return;const L="string"==typeof O&&this.pdfViewer.pageLabelToPageNumber(O)||0|O;Number.isInteger(L)&&L>0&&L<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(L)),this.pdfViewer.scrollPageIntoView({pageNumber:L})):console.error(`PDFLinkService.goToPage: "${O}" is not a valid page.`)}addLinkAttributes(O,L,he=!1){Z(O,{url:L,target:he?D.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(O){if("string"==typeof O){if(O.length>0)return this.getAnchorUrl("#"+escape(O))}else if(Array.isArray(O)){const L=JSON.stringify(O);if(L.length>0)return this.getAnchorUrl("#"+escape(L))}return this.getAnchorUrl("")}getAnchorUrl(O){return(this.baseUrl||"")+O}setHash(O){var Q;if(!this.pdfDocument)return;let L,he;if(O.includes("=")){const Y=(0,y.parseQueryString)(O);if(Y.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:Y.get("search").replace(/"/g,""),phraseSearch:"true"===Y.get("phrase")}),Y.has("page")&&(L=0|Y.get("page")||1),Y.has("zoom")){const te=Y.get("zoom").split(","),F=te[0],U=parseFloat(F);F.includes("Fit")?"Fit"===F||"FitB"===F?he=[null,{name:F}]:"FitH"===F||"FitBH"===F||"FitV"===F||"FitBV"===F?he=[null,{name:F},te.length>1?0|te[1]:null]:"FitR"===F?5!==te.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):he=[null,{name:F},0|te[1],0|te[2],0|te[3],0|te[4]]:console.error(`PDFLinkService.setHash: "${F}" is not a valid zoom value.`):he=[null,{name:"XYZ"},te.length>1?0|te[1]:null,te.length>2?0|te[2]:null,U?U/100:F]}he?this.pdfViewer.scrollPageIntoView({pageNumber:L||this.page,destArray:he,allowNegativeOffset:!0}):L&&(this.page=L),Y.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:Y.get("pagemode")}),Y.has("nameddest")&&this.goToDestination(Y.get("nameddest"))}else{he=unescape(O);try{he=JSON.parse(he),Array.isArray(he)||(he=he.toString())}catch(Y){}if("string"==typeof he||Ln(Q=v,H,mC).call(Q,he))return void this.goToDestination(he);console.error(`PDFLinkService.setHash: "${unescape(O)}" is not a valid destination.`)}}executeNamedAction(O){var L,he;switch(O){case"GoBack":null==(L=this.pdfHistory)||L.back();break;case"GoForward":null==(he=this.pdfHistory)||he.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:O})}cachePageRef(O,L){if(!L)return;const he=0===L.gen?`${L.num}R`:`${L.num}R${L.gen}`;vt(this,W).set(he,O)}_cachedPageNumber(O){if(!O)return null;const L=0===O.gen?`${O.num}R`:`${O.num}R${O.gen}`;return vt(this,W).get(L)||null}isPageVisible(O){return this.pdfViewer.isPageVisible(O)}isPageCached(O){return this.pdfViewer.isPageCached(O)}};let I=v;W=new WeakMap,de=new WeakSet,jg=function(O,L=null,he){const Q=he[0];let Y;if("object"==typeof Q&&null!==Q){if(Y=this._cachedPageNumber(Q),!Y)return void this.pdfDocument.getPageIndex(Q).then(te=>{this.cachePageRef(te+1,Q),Ln(this,de,jg).call(this,O,L,he)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${Q}" is not a valid page reference, for dest="${O}".`)})}else{if(!Number.isInteger(Q))return void console.error(`PDFLinkService.#goToDestinationHelper: "${Q}" is not a valid destination reference, for dest="${O}".`);Y=Q+1}!Y||Y<1||Y>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${Y}" is not a valid page number, for dest="${O}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:L,explicitDest:he,pageNumber:Y})),this.pdfViewer.scrollPageIntoView({pageNumber:Y,destArray:he,ignoreDestinationZoom:this._ignoreDestinationZoom}))},H=new WeakSet,mC=function(O){if(!Array.isArray(O))return!1;const L=O.length;if(L<2)return!1;const he=O[0];if(!("object"==typeof he&&Number.isInteger(he.num)&&Number.isInteger(he.gen)||Number.isInteger(he)&&he>=0))return!1;const Q=O[1];if("object"!=typeof Q||"string"!=typeof Q.name)return!1;let Y=!0;switch(Q.name){case"XYZ":if(5!==L)return!1;break;case"Fit":case"FitB":return 2===L;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==L)return!1;break;case"FitR":if(6!==L)return!1;Y=!1;break;default:return!1}for(let te=2;te<L;te++){const F=O[te];if(!("number"==typeof F||Y&&null===F))return!1}return!0},Xt(I,H),f.PDFLinkService=I;f.SimpleLinkService=class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(O){}get rotation(){return 0}set rotation(O){}goToDestination(O){return h(function*(){})()}goToPage(O){}addLinkAttributes(O,L,he=!1){Z(O,{url:L,enabled:this.externalLinkEnabled})}getDestinationHash(O){return"#"}getAnchorUrl(O){return"#"}setHash(O){}executeNamedAction(O){}cachePageRef(O,L){}isPageVisible(O){return!0}isPageCached(O){return!0}}},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.animationStarted=f.VERTICAL_PADDING=f.UNKNOWN_SCALE=f.TextLayerMode=f.SpreadMode=f.SidebarView=f.ScrollMode=f.SCROLLBAR_PADDING=f.RenderingStates=f.RendererType=f.ProgressBar=f.PresentationModeState=f.OutputScale=f.MIN_SCALE=f.MAX_SCALE=f.MAX_AUTO_SCALE=f.DEFAULT_SCALE_VALUE=f.DEFAULT_SCALE_DELTA=f.DEFAULT_SCALE=f.AutoPrintRegExp=void 0,f.apiPageLayoutToViewerModes=function He(N){let fe=L.VERTICAL,xe=he.NONE;switch(N){case"SinglePage":fe=L.PAGE;break;case"OneColumn":break;case"TwoPageLeft":fe=L.PAGE;case"TwoColumnLeft":xe=he.ODD;break;case"TwoPageRight":fe=L.PAGE;case"TwoColumnRight":xe=he.EVEN}return{scrollMode:fe,spreadMode:xe}},f.apiPageModeToSidebarView=function Ze(N){switch(N){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE},f.approximateFraction=function M(N){if(Math.floor(N)===N)return[N,1];const fe=1/N;if(fe>8)return[1,8];if(Math.floor(fe)===fe)return[1,fe];const Ae=N>1?fe:N;let mt,Me=0,Ve=1,Xe=1,Je=1;for(;;){const _t=Me+Xe,et=Ve+Je;if(et>8)break;Ae<=_t/et?(Xe=_t,Je=et):(Me=_t,Ve=et)}return mt=Ae-Me/Ve<Xe/Je-Ae?Ae===N?[Me,Ve]:[Ve,Me]:Ae===N?[Xe,Je]:[Je,Xe],mt},f.backtrackBeforeAllVisibleElements=V,f.binarySearchFirstItem=k,f.getActiveOrFocusedElement=function ze(){let N=document,fe=N.activeElement||N.querySelector(":focus");for(;null==fe?void 0:fe.shadowRoot;)N=fe.shadowRoot,fe=N.activeElement||N.querySelector(":focus");return fe},f.getPageSizeInches=function z({view:N,userUnit:fe,rotate:xe}){const[Ae,Me,Ve,Xe]=N,Je=xe%180!=0,mt=(Ve-Ae)/72*fe,_t=(Xe-Me)/72*fe;return{width:Je?_t:mt,height:Je?mt:_t}},f.getVisibleElements=function ae({scrollEl:N,views:fe,sortByVisibility:xe=!1,horizontal:Ae=!1,rtl:Me=!1}){const Ve=N.scrollTop,Xe=Ve+N.clientHeight,Je=N.scrollLeft,mt=Je+N.clientWidth;const yt=[],ut=new Set,nt=fe.length;let Ft=k(fe,Ae?function et(Te){const Re=Te.div,Be=Re.offsetLeft+Re.clientLeft;return Me?Be<mt:Be+Re.clientWidth>Je}:function _t(Te){const Re=Te.div;return Re.offsetTop+Re.clientTop+Re.clientHeight>Ve});Ft>0&&Ft<nt&&!Ae&&(Ft=V(Ft,fe,Ve));let cn=Ae?mt:-1;for(let Te=Ft;Te<nt;Te++){const Re=fe[Te],Be=Re.div,ft=Be.offsetLeft+Be.clientLeft,ct=Be.offsetTop+Be.clientTop,lt=Be.clientWidth,qt=Be.clientHeight,Rt=ft+lt,Cn=ct+qt;if(-1===cn)Cn>=Xe&&(cn=Cn);else if((Ae?ft:ct)>cn)break;if(Cn<=Ve||ct>=Xe||Rt<=Je||ft>=mt)continue;const mn=Math.max(0,Ve-ct)+Math.max(0,Cn-Xe),En=(lt-(Math.max(0,Je-ft)+Math.max(0,Rt-mt)))/lt;yt.push({id:Re.id,x:ft,y:ct,view:Re,percent:(qt-mn)/qt*En*100|0,widthPercent:100*En|0}),ut.add(Re.id)}const Lt=yt[0],ke=yt[yt.length-1];return xe&&yt.sort(function(Te,Re){const Be=Te.percent-Re.percent;return Math.abs(Be)>.001?-Be:Te.id-Re.id}),{first:Lt,last:ke,views:yt,ids:ut}},f.isPortraitOrientation=function we(N){return N.width<=N.height},f.isValidRotation=function me(N){return Number.isInteger(N)&&N%90==0},f.isValidScrollMode=function G(N){return Number.isInteger(N)&&Object.values(L).includes(N)&&N!==L.UNKNOWN},f.isValidSpreadMode=function _e(N){return Number.isInteger(N)&&Object.values(he).includes(N)&&N!==he.UNKNOWN},f.noContextMenuHandler=function A(N){N.preventDefault()},f.normalizeWheelEventDelta=function ee(N){let fe=K(N);return 0===N.deltaMode?fe/=900:1===N.deltaMode&&(fe/=30),fe},f.normalizeWheelEventDirection=K,f.parseQueryString=function U(N){const fe=new Map;for(const[xe,Ae]of new URLSearchParams(N))fe.set(xe.toLowerCase(),Ae);return fe},f.removeNullCharacters=function re(N,fe=!1){return"string"!=typeof N?(console.error("The argument must be a string."),N):(fe&&(N=N.replace(q," ")),N.replace(J,""))},f.roundToDivide=function w(N,fe){const xe=N%fe;return 0===xe?N:Math.round(N-xe+fe)},f.scrollIntoView=function te(N,fe,xe=!1){let Ae=N.offsetParent;if(!Ae)return void console.error("offsetParent is not set -- cannot scroll");let Me=N.offsetTop+N.clientTop,Ve=N.offsetLeft+N.clientLeft;for(;Ae.clientHeight===Ae.scrollHeight&&Ae.clientWidth===Ae.scrollWidth||xe&&(Ae.classList.contains("markedContent")||"hidden"===getComputedStyle(Ae).overflow);)if(Me+=Ae.offsetTop,Ve+=Ae.offsetLeft,Ae=Ae.offsetParent,!Ae)return;fe&&(void 0!==fe.top&&(Me+=fe.top),void 0!==fe.left&&(Ve+=fe.left,Ae.scrollLeft=Ve)),Ae.scrollTop=Me},f.watchScroll=function F(N,fe){const xe=function(Ve){Me||(Me=window.requestAnimationFrame(function(){Me=null;const Je=N.scrollLeft,mt=Ae.lastX;Je!==mt&&(Ae.right=Je>mt),Ae.lastX=Je;const _t=N.scrollTop,et=Ae.lastY;_t!==et&&(Ae.down=_t>et),Ae.lastY=_t,fe(Ae)}))},Ae={right:!0,down:!0,lastX:N.scrollLeft,lastY:N.scrollTop,_eventHandler:xe};let Me=null;return N.addEventListener("scroll",xe,!0),Ae},f.DEFAULT_SCALE_VALUE="auto",f.DEFAULT_SCALE=1,f.DEFAULT_SCALE_DELTA=1.1,f.MIN_SCALE=.1,f.MAX_SCALE=10,f.UNKNOWN_SCALE=0,f.MAX_AUTO_SCALE=1.25,f.SCROLLBAR_PADDING=40,f.VERTICAL_PADDING=5;f.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};f.SidebarView=v,f.RendererType={CANVAS:"canvas",SVG:"svg"},f.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const L={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};f.ScrollMode=L;const he={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};f.SpreadMode=he,f.AutoPrintRegExp=/\bprint\s*\(/;f.OutputScale=class Y{constructor(){const fe=window.devicePixelRatio||1;this.sx=fe,this.sy=fe}get scaled(){return 1!==this.sx||1!==this.sy}};const J=/\x00/g,q=/[\x01-\x1F]/g;function k(N,fe,xe=0){let Ae=xe,Me=N.length-1;if(Me<0||!fe(N[Me]))return N.length;if(fe(N[Ae]))return Ae;for(;Ae<Me;){const Ve=Ae+Me>>1;fe(N[Ve])?Me=Ve:Ae=Ve+1}return Ae}function V(N,fe,xe){if(N<2)return N;let Ae=fe[N].div,Me=Ae.offsetTop+Ae.clientTop;Me>=xe&&(Ae=fe[N-1].div,Me=Ae.offsetTop+Ae.clientTop);for(let Ve=N-2;Ve>=0&&(Ae=fe[Ve].div,!(Ae.offsetTop+Ae.clientTop+Ae.clientHeight<=Me));--Ve)N=Ve;return N}function K(N){let fe=Math.hypot(N.deltaX,N.deltaY);const xe=Math.atan2(N.deltaY,N.deltaX);return-.25*Math.PI<xe&&xe<.75*Math.PI&&(fe=-fe),fe}const De=new Promise(function(N){window.requestAnimationFrame(N)});f.animationStarted=De;f.ProgressBar=class Fe{constructor(fe,{height:xe,width:Ae,units:Me}={}){this.visible=!0,this.div=document.querySelector(fe+" .progress"),this.bar=this.div.parentNode,this.height=xe||100,this.width=Ae||100,this.units=Me||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(fe){this._indeterminate=isNaN(fe),this._percent=function Ie(N,fe,xe){return Math.min(Math.max(N,fe),xe)}(fe,0,100),this._updateBar()}setWidth(fe){if(!fe)return;const Ae=fe.parentNode.offsetWidth-fe.offsetWidth;Ae>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${Ae}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StructTreeLayerBuilder=void 0;const T={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},y=/^H(\d+)$/;f.StructTreeLayerBuilder=class E{constructor({pdfPage:Z}){this.pdfPage=Z}render(Z){return this._walk(Z)}_setAttributes(Z,I){void 0!==Z.alt&&I.setAttribute("aria-label",Z.alt),void 0!==Z.id&&I.setAttribute("aria-owns",Z.id),void 0!==Z.lang&&I.setAttribute("lang",Z.lang)}_walk(Z){if(!Z)return null;const I=document.createElement("span");if("role"in Z){const{role:_}=Z,W=_.match(y);W?(I.setAttribute("role","heading"),I.setAttribute("aria-level",W[1])):T[_]&&I.setAttribute("role",T[_])}if(this._setAttributes(Z,I),Z.children)if(1===Z.children.length&&"id"in Z.children[0])this._setAttributes(Z.children[0],I);else for(const _ of Z.children)I.appendChild(this._walk(_));return I}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextLayerBuilder=void 0;var y=T(3);f.TextLayerBuilder=class D{constructor({textLayerDiv:I,eventBus:_,pageIndex:W,viewport:de,highlighter:B=null,enhanceTextSelection:H=!1}){this.textLayerDiv=I,this.eventBus=_,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=W+1,this.viewport=de,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=B,this.enhanceTextSelection=H,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const I=document.createElement("div");I.className="endOfContent",this.textLayerDiv.appendChild(I)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(I=0){var W;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(W=this.highlighter)||W.setTextMapping(this.textDivs,this.textContentItemsStr);const _=document.createDocumentFragment();this.textLayerRenderTask=(0,y.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:_,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:I,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var de;this.textLayerDiv.appendChild(_),this._finishRendering(),null==(de=this.highlighter)||de.enable()},function(de){})}cancel(){var I;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(I=this.highlighter)||I.disable()}setTextContentStream(I){this.cancel(),this.textContentStream=I}setTextContent(I){this.cancel(),this.textContent=I}_bindMouse(){const I=this.textLayerDiv;let _=null;I.addEventListener("mousedown",W=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(_&&(clearTimeout(_),_=null));const de=I.querySelector(".endOfContent");if(!de)return;let B=W.target!==I;if(B=B&&"none"!==window.getComputedStyle(de).getPropertyValue("-moz-user-select"),B){const H=I.getBoundingClientRect(),m=Math.max(0,(W.pageY-H.top)/H.height);de.style.top=(100*m).toFixed(2)+"%"}de.classList.add("active")}),I.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(_=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),_=null},300));const W=I.querySelector(".endOfContent");!W||(W.style.top="",W.classList.remove("active"))})}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XfaLayerBuilder=void 0;var y=T(3);f.XfaLayerBuilder=class E{constructor({pageDiv:Z,pdfPage:I,annotationStorage:_=null,linkService:W,xfaHtml:de=null}){this.pageDiv=Z,this.pdfPage=I,this.annotationStorage=_,this.linkService=W,this.xfaHtml=de,this.div=null,this._cancelled=!1}render(Z,I="display"){if("print"===I){const _={viewport:Z.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:I},W=document.createElement("div");this.pageDiv.appendChild(W),_.div=W;const de=y.XfaLayer.render(_);return Promise.resolve(de)}return this.pdfPage.getXfa().then(_=>{if(this._cancelled||!_)return{textDivs:[]};const W={viewport:Z.clone({dontFlip:!0}),div:this.div,xfaHtml:_,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:I};return this.div?y.XfaLayer.update(W):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),W.div=this.div,y.XfaLayer.render(W))}).catch(_=>{console.error(_)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFViewer=f.PDFSinglePageViewer=void 0;var y=T(6),E=T(11);f.PDFViewer=class D extends E.BaseViewer{};f.PDFSinglePageViewer=class Z extends E.BaseViewer{_resetView(){super._resetView(),this._scrollMode=y.ScrollMode.PAGE,this._spreadMode=y.SpreadMode.NONE}set scrollMode(_){}_updateScrollMode(){}set spreadMode(_){}_updateSpreadMode(){}}},(se,f,T)=>{var Q,Y,te,Ug,U,J,q,re,k,M,w,z,yC,ae,_C,K,gl,me,vC,_e,bC,De,AC,Fe,CC;Object.defineProperty(f,"__esModule",{value:!0}),f.PagesCountLimit=f.PDFPageViewBuffer=f.BaseViewer=void 0;var y=T(3),E=T(6),D=T(2),Z=T(4),I=T(12),_=T(14),W=T(5),de=T(7),B=T(15),H=T(8),m=T(9);const R="enablePermissions",O={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};f.PagesCountLimit=O;class L{constructor(N){Xt(this,te),Xt(this,Q,new Set),Xt(this,Y,0),An(this,Y,N)}push(N){const fe=vt(this,Q);fe.has(N)&&fe.delete(N),fe.add(N),fe.size>vt(this,Y)&&Ln(this,te,Ug).call(this)}resize(N,fe=null){An(this,Y,N);const xe=vt(this,Q);if(fe){const Ae=xe.size;let Me=1;for(const Ve of xe)if(fe.has(Ve.id)&&(xe.delete(Ve),xe.add(Ve)),++Me>Ae)break}for(;xe.size>vt(this,Y);)Ln(this,te,Ug).call(this)}has(N){return vt(this,Q).has(N)}[Symbol.iterator](){return vt(this,Q).keys()}}Q=new WeakMap,Y=new WeakMap,te=new WeakSet,Ug=function(){const N=vt(this,Q).keys().next().value;null==N||N.destroy(),vt(this,Q).delete(N)},f.PDFPageViewBuffer=L;const He=class{constructor(N){var xe,Ae,Me,Ve;if(Xt(this,z),Xt(this,ae),Xt(this,K),Xt(this,me),Xt(this,_e),Xt(this,De),Xt(this,Fe),Xt(this,U,null),Xt(this,J,y.AnnotationMode.ENABLE_FORMS),Xt(this,q,null),Xt(this,re,!1),Xt(this,k,0),Xt(this,M,null),Xt(this,w,null),this.constructor===He)throw new Error("Cannot initialize BaseViewer.");const fe="2.13.216";if(y.version!==fe)throw new Error(`The API version "${y.version}" does not match the Viewer version "${fe}".`);if(this.container=N.container,this.viewer=N.viewer||N.container.firstElementChild,"DIV"!==(null==(xe=this.container)?void 0:xe.tagName.toUpperCase())||"DIV"!==(null==(Ae=this.viewer)?void 0:Ae.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=N.eventBus,this.linkService=N.linkService||new W.SimpleLinkService,this.downloadManager=N.downloadManager||null,this.findController=N.findController||null,this._scriptingManager=N.scriptingManager||null,this.removePageBorders=N.removePageBorders||!1,this.textLayerMode=null!=(Me=N.textLayerMode)?Me:E.TextLayerMode.ENABLE,An(this,J,null!=(Ve=N.annotationMode)?Ve:y.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=N.imageResourcesPath||"",this.enablePrintAutoRotate=N.enablePrintAutoRotate||!1,this.renderer=N.renderer||E.RendererType.CANVAS,this.useOnlyCssZoom=N.useOnlyCssZoom||!1,this.maxCanvasPixels=N.maxCanvasPixels,this.l10n=N.l10n||Z.NullL10n,An(this,re,N.enablePermissions||!1),this.defaultRenderingQueue=!N.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new _.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=N.renderingQueue,this._doc=document.documentElement,this.scroll=(0,E.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=E.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(N){return this._pages[N]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(N){return null==N?void 0:N.pdfPage})}get renderForms(){return vt(this,J)===y.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(N){if(!Number.isInteger(N))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(N,!0)||console.error(`currentPageNumber: "${N}" is not a valid page.`)}_setCurrentPageNumber(N,fe=!1){var Ae,Me;if(this._currentPageNumber===N)return fe&&this._resetCurrentPageView(),!0;if(!(0<N&&N<=this.pagesCount))return!1;const xe=this._currentPageNumber;return this._currentPageNumber=N,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:N,pageLabel:null!=(Me=null==(Ae=this._pageLabels)?void 0:Ae[N-1])?Me:null,previous:xe}),fe&&this._resetCurrentPageView(),!0}get currentPageLabel(){var N,fe;return null!=(fe=null==(N=this._pageLabels)?void 0:N[this._currentPageNumber-1])?fe:null}set currentPageLabel(N){if(!this.pdfDocument)return;let fe=0|N;if(this._pageLabels){const xe=this._pageLabels.indexOf(N);xe>=0&&(fe=xe+1)}this._setCurrentPageNumber(fe,!0)||console.error(`currentPageLabel: "${N}" is not a valid page.`)}get currentScale(){return this._currentScale!==E.UNKNOWN_SCALE?this._currentScale:E.DEFAULT_SCALE}set currentScale(N){if(isNaN(N))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(N,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(N){!this.pdfDocument||this._setScale(N,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(N){if(!(0,E.isValidRotation)(N))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((N%=360)<0&&(N+=360),this._pagesRotation===N))return;this._pagesRotation=N;const fe=this._currentPageNumber,xe={rotation:N};for(const Ae of this._pages)Ae.update(xe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:N,pageNumber:fe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(N){var fe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=N,!N)return;const xe=N.isPureXfa,Ae=N.numPages,Me=N.getPage(1),Ve=N.getOptionalContentConfig(),Xe=vt(this,re)?N.getPermissions():Promise.resolve();if(Ae>O.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Je=this._scrollMode=E.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Je})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ae})},()=>{}),this._onBeforeDraw=Je=>{const mt=this._pages[Je.pageNumber-1];!mt||vt(this,U).push(mt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Je=>{Je.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Je.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,vt(this,w)&&(document.removeEventListener("visibilitychange",vt(this,w)),An(this,w,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Me,Xe]).then(([Je,mt])=>{if(N!==this.pdfDocument)return;this._firstPageCapability.resolve(Je),this._optionalContentConfigPromise=Ve,Ln(this,z,yC).call(this,mt);const _t=this._scrollMode===E.ScrollMode.PAGE?null:this.viewer,et=this.currentScale,yt=Je.getViewport({scale:et*y.PixelsPerInch.PDF_TO_CSS_UNITS}),ut=this.textLayerMode===E.TextLayerMode.DISABLE||xe?null:this,nt=vt(this,J)!==y.AnnotationMode.DISABLE?this:null,Ft=xe?this:null;for(let Lt=1;Lt<=Ae;++Lt){const ke=new I.PDFPageView({container:_t,eventBus:this.eventBus,id:Lt,scale:et,defaultViewport:yt.clone(),optionalContentConfigPromise:Ve,renderingQueue:this.renderingQueue,textLayerFactory:ut,textLayerMode:this.textLayerMode,annotationLayerFactory:nt,annotationMode:vt(this,J),xfaLayerFactory:Ft,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(ke)}const cn=this._pages[0];cn&&(cn.setPdfPage(Je),this.linkService.cachePageRef(1,Je.ref)),this._scrollMode===E.ScrollMode.PAGE?Ln(this,K,gl).call(this):this._spreadMode!==E.SpreadMode.NONE&&this._updateSpreadMode(),Ln(this,ae,_C).call(this).then(h(function*(){if(fe.findController&&fe.findController.setDocument(N),fe._scriptingManager&&fe._scriptingManager.setDocument(N),N.loadingParams.disableAutoFetch||Ae>O.FORCE_LAZY_PAGE_INIT)return void fe._pagesCapability.resolve();let Lt=Ae-1;if(Lt<=0)fe._pagesCapability.resolve();else for(let ke=2;ke<=Ae;++ke){const Te=N.getPage(ke).then(Re=>{const Be=fe._pages[ke-1];Be.pdfPage||Be.setPdfPage(Re),fe.linkService.cachePageRef(ke,Re.ref),0==--Lt&&fe._pagesCapability.resolve()},Re=>{console.error(`Unable to get page ${ke} to initialize viewer`,Re),0==--Lt&&fe._pagesCapability.resolve()});ke%O.PAUSE_EAGER_PAGE_INIT==0&&(yield Te)}})),this.eventBus.dispatch("pagesinit",{source:this}),N.getMetadata().then(({info:Lt})=>{N===this.pdfDocument&&Lt.Language&&(this.viewer.lang=Lt.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Je=>{console.error("Unable to initialize viewer",Je),this._pagesCapability.reject(Je)})}setPageLabels(N){var fe,xe;if(this.pdfDocument){N?Array.isArray(N)&&this.pdfDocument.numPages===N.length?this._pageLabels=N:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Ae=0,Me=this._pages.length;Ae<Me;Ae++)this._pages[Ae].setPageLabel(null!=(xe=null==(fe=this._pageLabels)?void 0:fe[Ae])?xe:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=E.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,An(this,U,new L(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,y.createPromiseCapability)(),this._onePageRenderedCapability=(0,y.createPromiseCapability)(),this._pagesCapability=(0,y.createPromiseCapability)(),this._scrollMode=E.ScrollMode.VERTICAL,this._previousScrollMode=E.ScrollMode.UNKNOWN,this._spreadMode=E.SpreadMode.NONE,An(this,M,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),vt(this,w)&&(document.removeEventListener("visibilitychange",vt(this,w)),An(this,w,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(R),null!==vt(this,q)&&(An(this,J,vt(this,q)),An(this,q,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:N,pageSpot:fe=null,pageNumber:xe=null}){if(this._scrollMode===E.ScrollMode.PAGE&&(xe&&this._setCurrentPageNumber(xe),Ln(this,K,gl).call(this),this.update()),!fe&&!this.isInPresentationMode){const Ae=N.offsetLeft+N.clientLeft,Me=Ae+N.clientWidth,{scrollLeft:Ve,clientWidth:Xe}=this.container;(this._scrollMode===E.ScrollMode.HORIZONTAL||Ae<Ve||Me>Ve+Xe)&&(fe={left:0,top:0})}(0,E.scrollIntoView)(N,fe)}_setScaleUpdatePages(N,fe,xe=!1,Ae=!1){if(this._currentScaleValue=fe.toString(),Ln(this,me,vC).call(this,N))return void(Ae&&this.eventBus.dispatch("scalechanging",{source:this,scale:N,presetValue:fe}));this._doc.style.setProperty("--zoom-factor",N),this._doc.style.setProperty("--viewport-scale-factor",N*y.PixelsPerInch.PDF_TO_CSS_UNITS);const Me={scale:N};for(const Ve of this._pages)Ve.update(Me);if(this._currentScale=N,!xe){let Xe,Ve=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ve=this._location.pageNumber,Xe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ve,destArray:Xe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:N,presetValue:Ae?fe:void 0}),this.defaultRenderingQueue&&this.update(),An(this,k,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==E.SpreadMode.NONE&&this._scrollMode!==E.ScrollMode.HORIZONTAL?2:1}_setScale(N,fe=!1){let xe=parseFloat(N);if(xe>0)this._setScaleUpdatePages(xe,N,fe,!1);else{const Ae=this._pages[this._currentPageNumber-1];if(!Ae)return;let Me=E.SCROLLBAR_PADDING,Ve=E.VERTICAL_PADDING;this.isInPresentationMode?Me=Ve=4:this.removePageBorders&&(Me=Ve=0),this._scrollMode===E.ScrollMode.HORIZONTAL&&([Me,Ve]=[Ve,Me]);const Xe=(this.container.clientWidth-Me)/Ae.width*Ae.scale/this._pageWidthScaleFactor,Je=(this.container.clientHeight-Ve)/Ae.height*Ae.scale;switch(N){case"page-actual":xe=1;break;case"page-width":xe=Xe;break;case"page-height":xe=Je;break;case"page-fit":xe=Math.min(Xe,Je);break;case"auto":const mt=(0,E.isPortraitOrientation)(Ae)?Xe:Math.min(Je,Xe);xe=Math.min(E.MAX_AUTO_SCALE,mt);break;default:return void console.error(`_setScale: "${N}" is an unknown zoom value.`)}this._setScaleUpdatePages(xe,N,fe,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(N){if(!this._pageLabels)return null;const fe=this._pageLabels.indexOf(N);return fe<0?null:fe+1}scrollPageIntoView({pageNumber:N,destArray:fe=null,allowNegativeOffset:xe=!1,ignoreDestinationZoom:Ae=!1}){if(!this.pdfDocument)return;const Me=Number.isInteger(N)&&this._pages[N-1];if(!Me)return void console.error(`scrollPageIntoView: "${N}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!fe)return void this._setCurrentPageNumber(N,!0);let _t,et,Ve=0,Xe=0,Je=0,mt=0;const yt=Me.rotation%180!=0,ut=(yt?Me.height:Me.width)/Me.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS,nt=(yt?Me.width:Me.height)/Me.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS;let Ft=0;switch(fe[1].name){case"XYZ":Ve=fe[2],Xe=fe[3],Ft=fe[4],Ve=null!==Ve?Ve:0,Xe=null!==Xe?Xe:nt;break;case"Fit":case"FitB":Ft="page-fit";break;case"FitH":case"FitBH":Xe=fe[2],Ft="page-width",null===Xe&&this._location?(Ve=this._location.left,Xe=this._location.top):("number"!=typeof Xe||Xe<0)&&(Xe=nt);break;case"FitV":case"FitBV":Ve=fe[2],Je=ut,mt=nt,Ft="page-height";break;case"FitR":Ve=fe[2],Xe=fe[3],Je=fe[4]-Ve,mt=fe[5]-Xe,_t=(this.container.clientWidth-(this.removePageBorders?0:E.SCROLLBAR_PADDING))/Je/y.PixelsPerInch.PDF_TO_CSS_UNITS,et=(this.container.clientHeight-(this.removePageBorders?0:E.VERTICAL_PADDING))/mt/y.PixelsPerInch.PDF_TO_CSS_UNITS,Ft=Math.min(Math.abs(_t),Math.abs(et));break;default:return void console.error(`scrollPageIntoView: "${fe[1].name}" is not a valid destination type.`)}if(Ae||(Ft&&Ft!==this._currentScale?this.currentScaleValue=Ft:this._currentScale===E.UNKNOWN_SCALE&&(this.currentScaleValue=E.DEFAULT_SCALE_VALUE)),"page-fit"===Ft&&!fe[4])return void this._scrollIntoView({pageDiv:Me.div,pageNumber:N});const cn=[Me.viewport.convertToViewportPoint(Ve,Xe),Me.viewport.convertToViewportPoint(Ve+Je,Xe+mt)];let Lt=Math.min(cn[0][0],cn[1][0]),ke=Math.min(cn[0][1],cn[1][1]);xe||(Lt=Math.max(Lt,0),ke=Math.max(ke,0)),this._scrollIntoView({pageDiv:Me.div,pageSpot:{left:Lt,top:ke},pageNumber:N})}_updateLocation(N){const fe=this._currentScale,xe=this._currentScaleValue,Ae=parseFloat(xe)===fe?Math.round(1e4*fe)/100:xe,Me=N.id;let Ve="#page="+Me;Ve+="&zoom="+Ae;const Je=this.container,mt=this._pages[Me-1].getPagePoint(Je.scrollLeft-N.x,Je.scrollTop-N.y),_t=Math.round(mt[0]),et=Math.round(mt[1]);Ve+=","+_t+","+et,this._location={pageNumber:Me,scale:Ae,top:et,left:_t,rotation:this._pagesRotation,pdfOpenParams:Ve}}update(){const N=this._getVisiblePages(),fe=N.views,xe=fe.length;if(0===xe)return;const Ae=Math.max(10,2*xe+1);if(vt(this,U).resize(Ae,N.ids),this.renderingQueue.renderHighestPriority(N),!this.isInPresentationMode){const Me=this._spreadMode===E.SpreadMode.NONE&&(this._scrollMode===E.ScrollMode.PAGE||this._scrollMode===E.ScrollMode.VERTICAL);let Ve=this._currentPageNumber,Xe=!1;for(const Je of fe){if(Je.percent<100)break;if(Je.id===Ve&&Me){Xe=!0;break}}Xe||(Ve=fe[0].id),this._setCurrentPageNumber(Ve)}this._updateLocation(N.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(N){return this.container.contains(N)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===E.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===E.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const N=this._pages[this._currentPageNumber-1],fe=N.div,xe={id:N.id,x:fe.offsetLeft+fe.clientLeft,y:fe.offsetTop+fe.clientTop,view:N};return{first:xe,last:xe,views:[xe],ids:new Set([N.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const N=this._scrollMode===E.ScrollMode.PAGE?vt(this,M).pages:this._pages,fe=this._scrollMode===E.ScrollMode.HORIZONTAL;return(0,E.getVisibleElements)({scrollEl:this.container,views:N,sortByVisibility:!0,horizontal:fe,rtl:fe&&this._isContainerRtl})}isPageVisible(N){return!!this.pdfDocument&&(Number.isInteger(N)&&N>0&&N<=this.pagesCount?this._getVisiblePages().ids.has(N):(console.error(`isPageVisible: "${N}" is not a valid page.`),!1))}isPageCached(N){if(!this.pdfDocument)return!1;if(!(Number.isInteger(N)&&N>0&&N<=this.pagesCount))return console.error(`isPageCached: "${N}" is not a valid page.`),!1;const fe=this._pages[N-1];return vt(this,U).has(fe)}cleanup(){for(let N=0,fe=this._pages.length;N<fe;N++)this._pages[N]&&this._pages[N].renderingState!==E.RenderingStates.FINISHED&&this._pages[N].reset()}_cancelRendering(){for(let N=0,fe=this._pages.length;N<fe;N++)this._pages[N]&&this._pages[N].cancelRendering()}forceRendering(N){const fe=N||this._getVisiblePages(),xe=Ln(this,De,AC).call(this,fe),Me=this.renderingQueue.getHighestPriority(fe,this._pages,xe,this._spreadMode!==E.SpreadMode.NONE&&this._scrollMode!==E.ScrollMode.HORIZONTAL);return Ln(this,Fe,CC).call(this,fe.ids),!!Me&&(Ln(this,_e,bC).call(this,Me).then(()=>{this.renderingQueue.renderView(Me)}),!0)}createTextLayerBuilder(N,fe,xe,Ae=!1,Me,Ve){return new H.TextLayerBuilder({textLayerDiv:N,eventBus:Me,pageIndex:fe,viewport:xe,enhanceTextSelection:!this.isInPresentationMode&&Ae,highlighter:Ve})}createTextHighlighter(N,fe){return new B.TextHighlighter({eventBus:fe,pageIndex:N,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(N,fe,xe=null,Ae="",Me=!0,Ve=Z.NullL10n,Xe=null,Je=null,mt=null,_t=null,et=null){var yt,ut,nt,Ft;return new D.AnnotationLayerBuilder({pageDiv:N,pdfPage:fe,annotationStorage:xe||(null==(yt=this.pdfDocument)?void 0:yt.annotationStorage),imageResourcesPath:Ae,renderForms:Me,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Ve,enableScripting:null!=Xe?Xe:this.enableScripting,hasJSActionsPromise:Je||(null==(ut=this.pdfDocument)?void 0:ut.hasJSActions()),fieldObjectsPromise:_t||(null==(nt=this.pdfDocument)?void 0:nt.getFieldObjects()),mouseState:mt||(null==(Ft=this._scriptingManager)?void 0:Ft.mouseState),annotationCanvasMap:et})}createXfaLayerBuilder(N,fe,xe=null){var Ae;return new m.XfaLayerBuilder({pageDiv:N,pdfPage:fe,annotationStorage:xe||(null==(Ae=this.pdfDocument)?void 0:Ae.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(N){return new de.StructTreeLayerBuilder({pdfPage:N})}get hasEqualPageSizes(){const N=this._pages[0];for(let fe=1,xe=this._pages.length;fe<xe;++fe){const Ae=this._pages[fe];if(Ae.width!==N.width||Ae.height!==N.height)return!1}return!0}getPagesOverview(){return this._pages.map(N=>{const fe=N.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,E.isPortraitOrientation)(fe)?{width:fe.width,height:fe.height,rotation:fe.rotation}:{width:fe.height,height:fe.width,rotation:(fe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(N){if(!(N instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${N}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=N;const fe={optionalContentConfigPromise:N};for(const xe of this._pages)xe.update(fe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:N})}get scrollMode(){return this._scrollMode}set scrollMode(N){if(this._scrollMode!==N){if(!(0,E.isValidScrollMode)(N))throw new Error(`Invalid scroll mode: ${N}`);this.pagesCount>O.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=N,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:N}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(N=null){const fe=this._scrollMode,xe=this.viewer;xe.classList.toggle("scrollHorizontal",fe===E.ScrollMode.HORIZONTAL),xe.classList.toggle("scrollWrapped",fe===E.ScrollMode.WRAPPED),this.pdfDocument&&N&&(fe===E.ScrollMode.PAGE?Ln(this,K,gl).call(this):this._previousScrollMode===E.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(N,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(N){if(this._spreadMode!==N){if(!(0,E.isValidSpreadMode)(N))throw new Error(`Invalid spread mode: ${N}`);this._spreadMode=N,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:N}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(N=null){if(!this.pdfDocument)return;const fe=this.viewer,xe=this._pages;if(this._scrollMode===E.ScrollMode.PAGE)Ln(this,K,gl).call(this);else if(fe.textContent="",this._spreadMode===E.SpreadMode.NONE)for(let Ae=0,Me=xe.length;Ae<Me;++Ae)fe.appendChild(xe[Ae].div);else{const Ae=this._spreadMode-1;let Me=null;for(let Ve=0,Xe=xe.length;Ve<Xe;++Ve)null===Me?(Me=document.createElement("div"),Me.className="spread",fe.appendChild(Me)):Ve%2===Ae&&(Me=Me.cloneNode(!1),fe.appendChild(Me)),Me.appendChild(xe[Ve].div)}!N||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(N,!0),this.update())}_getPageAdvance(N,fe=!1){switch(this._scrollMode){case E.ScrollMode.WRAPPED:{const{views:xe}=this._getVisiblePages(),Ae=new Map;for(const{id:Me,y:Ve,percent:Xe,widthPercent:Je}of xe){if(0===Xe||Je<100)continue;let mt=Ae.get(Ve);mt||Ae.set(Ve,mt||(mt=[])),mt.push(Me)}for(const Me of Ae.values()){const Ve=Me.indexOf(N);if(-1===Ve)continue;const Xe=Me.length;if(1===Xe)break;if(fe)for(let Je=Ve-1,mt=0;Je>=mt;Je--){const et=Me[Je+1]-1;if(Me[Je]<et)return N-et}else for(let Je=Ve+1,mt=Xe;Je<mt;Je++){const et=Me[Je-1]+1;if(Me[Je]>et)return et-N}if(fe){const Je=Me[0];if(Je<N)return N-Je+1}else{const Je=Me[Xe-1];if(Je>N)return Je-N+1}break}break}case E.ScrollMode.HORIZONTAL:break;case E.ScrollMode.PAGE:case E.ScrollMode.VERTICAL:{if(this._spreadMode===E.SpreadMode.NONE)break;const xe=this._spreadMode-1;if(fe&&N%2!==xe)break;if(!fe&&N%2===xe)break;const{views:Ae}=this._getVisiblePages(),Me=fe?N-1:N+1;for(const{id:Ve,percent:Xe,widthPercent:Je}of Ae)if(Ve===Me){if(Xe>0&&100===Je)return 2;break}break}}return 1}nextPage(){const N=this._currentPageNumber,fe=this.pagesCount;if(N>=fe)return!1;const xe=this._getPageAdvance(N,!1)||1;return this.currentPageNumber=Math.min(N+xe,fe),!0}previousPage(){const N=this._currentPageNumber;if(N<=1)return!1;const fe=this._getPageAdvance(N,!0)||1;return this.currentPageNumber=Math.max(N-fe,1),!0}increaseScale(N=1){let fe=this._currentScale;do{fe=(fe*E.DEFAULT_SCALE_DELTA).toFixed(2),fe=Math.ceil(10*fe)/10,fe=Math.min(E.MAX_SCALE,fe)}while(--N>0&&fe<E.MAX_SCALE);this.currentScaleValue=fe}decreaseScale(N=1){let fe=this._currentScale;do{fe=(fe/E.DEFAULT_SCALE_DELTA).toFixed(2),fe=Math.floor(10*fe)/10,fe=Math.max(E.MIN_SCALE,fe)}while(--N>0&&fe>E.MIN_SCALE);this.currentScaleValue=fe}};let he=He;U=new WeakMap,J=new WeakMap,q=new WeakMap,re=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakMap,z=new WeakSet,yC=function(N){!N||(N.includes(y.PermissionFlag.COPY)||this.viewer.classList.add(R),!N.includes(y.PermissionFlag.MODIFY_ANNOTATIONS)&&!N.includes(y.PermissionFlag.FILL_INTERACTIVE_FORMS)&&vt(this,J)===y.AnnotationMode.ENABLE_FORMS&&(An(this,q,vt(this,J)),An(this,J,y.AnnotationMode.ENABLE)))},ae=new WeakSet,_C=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const N=new Promise(fe=>{An(this,w,()=>{"hidden"===document.visibilityState&&(fe(),document.removeEventListener("visibilitychange",vt(this,w)),An(this,w,null))}),document.addEventListener("visibilitychange",vt(this,w))});return Promise.race([this._onePageRenderedCapability.promise,N])},K=new WeakSet,gl=function(){if(this._scrollMode!==E.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const N=this._currentPageNumber,fe=vt(this,M),xe=this.viewer;if(xe.textContent="",fe.pages.length=0,this._spreadMode===E.SpreadMode.NONE){const Ae=this._pages[N-1];if(this.isInPresentationMode){const Me=document.createElement("div");Me.className="spread";const Ve=document.createElement("div");Ve.className="dummyPage",Ve.style.height=`${this.container.clientHeight}px`,Me.appendChild(Ve),Me.appendChild(Ae.div),xe.appendChild(Me)}else xe.appendChild(Ae.div);fe.pages.push(Ae)}else{const Ae=new Set,Me=this._spreadMode-1;N%2!==Me?(Ae.add(N-1),Ae.add(N)):(Ae.add(N-2),Ae.add(N-1));let Ve=null;for(const Xe of Ae){const Je=this._pages[Xe];!Je||(null===Ve?(Ve=document.createElement("div"),Ve.className="spread",xe.appendChild(Ve)):Xe%2===Me&&(Ve=Ve.cloneNode(!1),xe.appendChild(Ve)),Ve.appendChild(Je.div),fe.pages.push(Je))}}fe.scrollDown=N>=fe.previousPageNumber,fe.previousPageNumber=N},me=new WeakSet,vC=function(N){return(!this.isInPresentationMode||this.container.clientHeight===vt(this,k))&&(N===this._currentScale||Math.abs(N-this._currentScale)<1e-15)},_e=new WeakSet,bC=function(N){var fe=this;return h(function*(){var xe,Ae;if(N.pdfPage)return N.pdfPage;try{const Me=yield fe.pdfDocument.getPage(N.id);return N.pdfPage||N.setPdfPage(Me),(null==(Ae=(xe=fe.linkService)._cachedPageNumber)?void 0:Ae.call(xe,Me.ref))||fe.linkService.cachePageRef(N.id,Me.ref),Me}catch(Me){return console.error("Unable to get page for page view",Me),null}})()},De=new WeakSet,AC=function(N){var fe,xe;if(1===(null==(fe=N.first)?void 0:fe.id))return!0;if((null==(xe=N.last)?void 0:xe.id)===this.pagesCount)return!1;switch(this._scrollMode){case E.ScrollMode.PAGE:return vt(this,M).scrollDown;case E.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Fe=new WeakSet,CC=function(N){for(const fe of N){const xe=this._pages[fe-1];null==xe||xe.toggleLoadingIconSpinner(!0)}for(const fe of vt(this,U))N.has(fe.id)||fe.toggleLoadingIconSpinner(!1)},f.BaseViewer=he},(se,f,T)=>{var W;Object.defineProperty(f,"__esModule",{value:!0}),f.PDFPageView=void 0;var y=T(3),E=T(6),D=T(13),Z=T(4);const I=D.compatibilityParams.maxCanvasPixels||16777216;W=new WeakMap,f.PDFPageView=class _{constructor(B){var R,O,L,he;Xt(this,W,y.AnnotationMode.ENABLE_FORMS);const H=B.container,m=B.defaultViewport;this.id=B.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=B.scale||E.DEFAULT_SCALE,this.viewport=m,this.pdfPageRotate=m.rotation,this._optionalContentConfigPromise=B.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(R=B.textLayerMode)?R:E.TextLayerMode.ENABLE,An(this,W,null!=(O=B.annotationMode)?O:y.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=B.imageResourcesPath||"",this.useOnlyCssZoom=B.useOnlyCssZoom||!1,this.maxCanvasPixels=B.maxCanvasPixels||I,this.eventBus=B.eventBus,this.renderingQueue=B.renderingQueue,this.textLayerFactory=B.textLayerFactory,this.annotationLayerFactory=B.annotationLayerFactory,this.xfaLayerFactory=B.xfaLayerFactory,this.textHighlighter=null==(L=B.textHighlighterFactory)?void 0:L.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=B.structTreeLayerFactory,this.renderer=B.renderer||E.RendererType.CANVAS,this.l10n=B.l10n||Z.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=E.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(he=this.renderingQueue)?void 0:he.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const v=document.createElement("div");v.className="page",v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px",v.setAttribute("data-page-number",this.id),v.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Q=>{v.setAttribute("aria-label",Q)}),this.div=v,null==H||H.appendChild(v)}setPdfPage(B){this.pdfPage=B,this.pdfPageRotate=B.rotate,this.viewport=B.getViewport({scale:this.scale*y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var B=this;return h(function*(){let H=null;try{yield B.annotationLayer.render(B.viewport,"display")}catch(m){H=m}finally{B.eventBus.dispatch("annotationlayerrendered",{source:B,pageNumber:B.id,error:H})}})()}_renderXfaLayer(){var B=this;return h(function*(){let H=null;try{const m=yield B.xfaLayer.render(B.viewport,"display");B.textHighlighter&&B._buildXfaTextContentItems(m.textDivs)}catch(m){H=m}finally{B.eventBus.dispatch("xfalayerrendered",{source:B,pageNumber:B.id,error:H})}})()}_buildXfaTextContentItems(B){var H=this;return h(function*(){const m=yield H.pdfPage.getTextContent(),v=[];for(const R of m.items)v.push(R.str);H.textHighlighter.setTextMapping(B,v),H.textHighlighter.enable()})()}_resetZoomLayer(B=!1){if(!this.zoomLayer)return;const H=this.zoomLayer.firstChild;this.paintedViewportMap.delete(H),H.width=0,H.height=0,B&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:B=!1,keepAnnotationLayer:H=!1,keepXfaLayer:m=!1}={}){var Q,Y;this.cancelRendering({keepAnnotationLayer:H,keepXfaLayer:m}),this.renderingState=E.RenderingStates.INITIAL;const v=this.div;v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px";const R=v.childNodes,O=B&&this.zoomLayer||null,L=H&&(null==(Q=this.annotationLayer)?void 0:Q.div)||null,he=m&&(null==(Y=this.xfaLayer)?void 0:Y.div)||null;for(let te=R.length-1;te>=0;te--){const F=R[te];switch(F){case O:case L:case he:continue}F.remove()}v.removeAttribute("data-loaded"),L&&this.annotationLayer.hide(),he&&this.xfaLayer.hide(),O||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(te=>{var F;null==(F=this.loadingIconDiv)||F.setAttribute("aria-label",te)}),v.appendChild(this.loadingIconDiv)}update({scale:B=0,rotation:H=null,optionalContentConfigPromise:m=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=B||this.scale,"number"==typeof H&&(this.rotation=H),m instanceof Promise&&(this._optionalContentConfigPromise=m);const R=this.scale*y.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:R,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:L}=document.documentElement;L.setProperty("--zoom-factor",this.scale),L.setProperty("--viewport-scale-factor",R)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let O=!1;if(this.canvas&&this.maxCanvasPixels>0){const L=this.outputScale;(Math.floor(this.viewport.width)*L.sx|0)*(Math.floor(this.viewport.height)*L.sy|0)>this.maxCanvasPixels&&(O=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&O)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:B=!1,keepXfaLayer:H=!1}={}){var m;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!B||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!H||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(m=this.textHighlighter)||m.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:B,redrawAnnotationLayer:H=!1,redrawXfaLayer:m=!1}){const v=this.viewport.width,R=this.viewport.height,O=this.div;B.style.width=B.parentNode.style.width=O.style.width=Math.floor(v)+"px",B.style.height=B.parentNode.style.height=O.style.height=Math.floor(R)+"px";const L=this.viewport.rotation-this.paintedViewportMap.get(B).rotation,he=Math.abs(L);let Q=1,Y=1;if((90===he||270===he)&&(Q=R/v,Y=v/R),B.style.transform=`rotate(${L}deg) scale(${Q}, ${Y})`,this.textLayer){const te=this.textLayer.viewport,U=Math.abs(this.viewport.rotation-te.rotation);let J=v/te.width;(90===U||270===U)&&(J=v/te.height);const q=this.textLayer.textLayerDiv;let re,k;switch(U){case 0:re=k=0;break;case 90:re=0,k="-"+q.style.height;break;case 180:re="-"+q.style.width,k="-"+q.style.height;break;case 270:re="-"+q.style.width,k=0;break;default:console.error("Bad rotation value.")}q.style.transform=`rotate(${U}deg) scale(${J}) translate(${re}, ${k})`,q.style.transformOrigin="0% 0%"}H&&this.annotationLayer&&this._renderAnnotationLayer(),m&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(B,H){return this.viewport.convertToPdfPoint(B,H)}toggleLoadingIconSpinner(B=!1){var H;null==(H=this.loadingIconDiv)||H.classList.toggle("notVisible",!B)}draw(){var Y,te,F,B=this;this.renderingState!==E.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:H,pdfPage:m}=this;if(!m)return this.renderingState=E.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=E.RenderingStates.RUNNING;const v=document.createElement("div");v.style.width=H.style.width,v.style.height=H.style.height,v.classList.add("canvasWrapper"),(null==(Y=this.annotationLayer)?void 0:Y.div)?H.insertBefore(v,this.annotationLayer.div):H.appendChild(v);let R=null;if(this.textLayerMode!==E.TextLayerMode.DISABLE&&this.textLayerFactory){const U=document.createElement("div");U.className="textLayer",U.style.width=v.style.width,U.style.height=v.style.height,(null==(te=this.annotationLayer)?void 0:te.div)?H.insertBefore(U,this.annotationLayer.div):H.appendChild(U),R=this.textLayerFactory.createTextLayerBuilder(U,this.id-1,this.viewport,this.textLayerMode===E.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=R,vt(this,W)!==y.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(H,m,null,this.imageResourcesPath,vt(this,W)===y.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(F=this.xfaLayer)?void 0:F.div)&&H.appendChild(this.xfaLayer.div);let O=null;this.renderingQueue&&(O=U=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=E.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=E.RenderingStates.RUNNING,U()});U()});const L=function(){var U=h(function*(J=null){if(he===B.paintTask&&(B.paintTask=null),J instanceof y.RenderingCancelledException)B._renderError=null;else if(B._renderError=J,B.renderingState=E.RenderingStates.FINISHED,B.loadingIconDiv&&(B.loadingIconDiv.remove(),delete B.loadingIconDiv),B._resetZoomLayer(!0),B.eventBus.dispatch("pagerendered",{source:B,pageNumber:B.id,cssTransform:!1,timestamp:performance.now(),error:B._renderError}),J)throw J});return function(){return U.apply(this,arguments)}}(),he=this.renderer===E.RendererType.SVG?this.paintOnSvg(v):this.paintOnCanvas(v);he.onRenderContinue=O,this.paintTask=he;const Q=he.promise.then(()=>L(null).then(()=>{if(R){const U=m.streamTextContent({includeMarkedContent:!0});R.setTextContentStream(U),R.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(U){return L(U)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(H,m,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=U=>{U.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(J=>{if(!J||!this.canvas)return;const q=this.structTreeLayer.render(J);q.classList.add("structTree"),this.canvas.appendChild(q)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(m)),H.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Q}paintOnCanvas(B){const H=(0,y.createPromiseCapability)(),m={promise:H.promise,onRenderContinue(q){q()},cancel(){J.cancel()}},v=this.viewport,R=document.createElement("canvas");R.hidden=!0;let O=!0;const L=function(){O&&(R.hidden=!1,O=!1)};B.appendChild(R),this.canvas=R,R.mozOpaque=!0;const he=R.getContext("2d",{alpha:!1}),Q=this.outputScale=new E.OutputScale;if(this.useOnlyCssZoom){const q=v.clone({scale:y.PixelsPerInch.PDF_TO_CSS_UNITS});Q.sx*=q.width/v.width,Q.sy*=q.height/v.height}if(this.maxCanvasPixels>0){const re=Math.sqrt(this.maxCanvasPixels/(v.width*v.height));Q.sx>re||Q.sy>re?(Q.sx=re,Q.sy=re,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Y=(0,E.approximateFraction)(Q.sx),te=(0,E.approximateFraction)(Q.sy);R.width=(0,E.roundToDivide)(v.width*Q.sx,Y[0]),R.height=(0,E.roundToDivide)(v.height*Q.sy,te[0]),R.style.width=(0,E.roundToDivide)(v.width,Y[1])+"px",R.style.height=(0,E.roundToDivide)(v.height,te[1])+"px",this.paintedViewportMap.set(R,v);const U={canvasContext:he,transform:Q.scaled?[Q.sx,0,0,Q.sy,0,0]:null,viewport:this.viewport,annotationMode:vt(this,W),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},J=this.pdfPage.render(U);return J.onContinue=function(q){L(),m.onRenderContinue?m.onRenderContinue(q):q()},J.promise.then(function(){L(),H.resolve()},function(q){L(),H.reject(q)}),m}paintOnSvg(B){let H=!1;const m=()=>{if(H)throw new y.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},v=this.pdfPage,R=this.viewport.clone({scale:y.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:v.getOperatorList({annotationMode:vt(this,W)}).then(L=>(m(),new y.SVGGraphics(v.commonObjs,v.objs).getSVG(L,R).then(Q=>{m(),this.svg=Q,this.paintedViewportMap.set(Q,R),Q.style.width=B.style.width,Q.style.height=B.style.height,this.renderingState=E.RenderingStates.FINISHED,B.appendChild(Q)}))),onRenderContinue(L){L()},cancel(){H=!0}}}setPageLabel(B){this.pageLabel="string"==typeof B?B:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.compatibilityParams=f.OptionKind=f.AppOptions=void 0;const T=Object.create(null);f.compatibilityParams=T;{const I=navigator.userAgent||"",_=navigator.platform||"",W=navigator.maxTouchPoints||1,de=/Android/.test(I);(/\b(iPad|iPhone|iPod)(?=;)/.test(I)||"MacIntel"===_&&W>1||de)&&(T.maxCanvasPixels=5242880)}const y={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};f.OptionKind=y;const E={annotationMode:{value:2,kind:y.VIEWER+y.PREFERENCE},cursorToolOnLoad:{value:0,kind:y.VIEWER+y.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:y.VIEWER},defaultZoomValue:{value:"",kind:y.VIEWER+y.PREFERENCE},disableHistory:{value:!1,kind:y.VIEWER},disablePageLabels:{value:!1,kind:y.VIEWER+y.PREFERENCE},enablePermissions:{value:!1,kind:y.VIEWER+y.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:y.VIEWER+y.PREFERENCE},enableScripting:{value:!0,kind:y.VIEWER+y.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:y.VIEWER},externalLinkTarget:{value:0,kind:y.VIEWER+y.PREFERENCE},historyUpdateUrl:{value:!1,kind:y.VIEWER+y.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:y.VIEWER+y.PREFERENCE},imageResourcesPath:{value:"./images/",kind:y.VIEWER},maxCanvasPixels:{value:16777216,compatibility:T.maxCanvasPixels,kind:y.VIEWER},pdfBugEnabled:{value:!1,kind:y.VIEWER+y.PREFERENCE},printResolution:{value:150,kind:y.VIEWER},renderer:{value:"canvas",kind:y.VIEWER},sidebarViewOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},scrollModeOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},spreadModeOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},textLayerMode:{value:1,kind:y.VIEWER+y.PREFERENCE},useOnlyCssZoom:{value:!1,kind:y.VIEWER+y.PREFERENCE},viewerCssTheme:{value:0,kind:y.VIEWER+y.PREFERENCE},viewOnLoad:{value:0,kind:y.VIEWER+y.PREFERENCE},cMapPacked:{value:!0,kind:y.API},cMapUrl:{value:"../web/cmaps/",kind:y.API},disableAutoFetch:{value:!1,kind:y.API+y.PREFERENCE},disableFontFace:{value:!1,kind:y.API+y.PREFERENCE},disableRange:{value:!1,kind:y.API+y.PREFERENCE},disableStream:{value:!1,kind:y.API+y.PREFERENCE},docBaseUrl:{value:"",kind:y.API},enableXfa:{value:!0,kind:y.API+y.PREFERENCE},fontExtraProperties:{value:!1,kind:y.API},isEvalSupported:{value:!0,kind:y.API},maxImageSize:{value:-1,kind:y.API},pdfBug:{value:!1,kind:y.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:y.API},verbosity:{value:1,kind:y.API},workerPort:{value:null,kind:y.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:y.WORKER}};E.disablePreferences={value:!1,kind:y.VIEWER},E.locale={value:navigator.language||"en-US",kind:y.VIEWER},E.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:y.VIEWER},E.renderer.kind+=y.PREFERENCE;const D=Object.create(null);f.AppOptions=class Z{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(_){var B;const W=D[_];if(void 0!==W)return W;const de=E[_];return void 0!==de?null!=(B=de.compatibility)?B:de.value:void 0}static getAll(_=null){var de;const W=Object.create(null);for(const B in E){const H=E[B];if(_){if(0==(_&H.kind))continue;if(_===y.PREFERENCE){const v=H.value,R=typeof v;if("boolean"===R||"string"===R||"number"===R&&Number.isInteger(v)){W[B]=v;continue}throw new Error(`Invalid type for preference: ${B}`)}}const m=D[B];W[B]=void 0!==m?m:null!=(de=H.compatibility)?de:H.value}return W}static set(_,W){D[_]=W}static setAll(_){for(const W in _)D[W]=_[W]}static remove(_){delete D[_]}static _hasUserOptions(){return Object.keys(D).length>0}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFRenderingQueue=void 0;var y=T(3),E=T(6);f.PDFRenderingQueue=class Z{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(_){this.pdfViewer=_}setThumbnailViewer(_){this.pdfThumbnailViewer=_}isHighestPriority(_){return this.highestPriorityPage===_.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(_){var W;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(_)&&(this.isThumbnailViewEnabled&&(null==(W=this.pdfThumbnailViewer)?void 0:W.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(_,W,de,B=!1){const H=_.views,m=H.length;if(0===m)return null;for(let he=0;he<m;he++){const Q=H[he].view;if(!this.isViewFinished(Q))return Q}const v=_.first.id,R=_.last.id;if(R-v+1>m){const he=_.ids;for(let Q=1,Y=R-v;Q<Y;Q++){const te=de?v+Q:R-Q;if(he.has(te))continue;const F=W[te-1];if(!this.isViewFinished(F))return F}}let O=de?R:v-2,L=W[O];return L&&!this.isViewFinished(L)||B&&(O+=de?1:-1,L=W[O],L&&!this.isViewFinished(L))?L:null}isViewFinished(_){return _.renderingState===E.RenderingStates.FINISHED}renderView(_){switch(_.renderingState){case E.RenderingStates.FINISHED:return!1;case E.RenderingStates.PAUSED:this.highestPriorityPage=_.renderingId,_.resume();break;case E.RenderingStates.RUNNING:this.highestPriorityPage=_.renderingId;break;case E.RenderingStates.INITIAL:this.highestPriorityPage=_.renderingId,_.draw().finally(()=>{this.renderHighestPriority()}).catch(W=>{W instanceof y.RenderingCancelledException||console.error(`renderView: "${W}"`)})}return!0}}},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextHighlighter=void 0;f.TextHighlighter=class T{constructor({findController:E,eventBus:D,pageIndex:Z}){this.findController=E,this.matches=[],this.eventBus=D,this.pageIdx=Z,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(E,D){this.textDivs=E,this.textContentItemsStr=D}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=E=>{(E.pageIndex===this.pageIdx||-1===E.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(E,D){if(!E)return[];const{textContentItemsStr:Z}=this;let I=0,_=0;const W=Z.length-1,de=[];for(let B=0,H=E.length;B<H;B++){let m=E[B];for(;I!==W&&m>=_+Z[I].length;)_+=Z[I].length,I++;I===Z.length&&console.error("Could not find a matching mapping");const v={begin:{divIdx:I,offset:m-_}};for(m+=D[B];I!==W&&m>_+Z[I].length;)_+=Z[I].length,I++;v.end={divIdx:I,offset:m-_},de.push(v)}return de}_renderMatches(E){if(0===E.length)return;const{findController:D,pageIdx:Z}=this,{textContentItemsStr:I,textDivs:_}=this,W=Z===D.selected.pageIdx,de=D.selected.matchIdx;let H=null;const m_offset=void 0;function v(he,Q){const Y=he.divIdx;return _[Y].textContent="",R(Y,0,he.offset,Q)}function R(he,Q,Y,te){let F=_[he];if(F.nodeType===Node.TEXT_NODE){const q=document.createElement("span");F.parentNode.insertBefore(q,F),q.appendChild(F),_[he]=q,F=q}const U=I[he].substring(Q,Y),J=document.createTextNode(U);if(te){const q=document.createElement("span");return q.className=`${te} appended`,q.appendChild(J),F.appendChild(q),te.includes("selected")?q.offsetLeft:0}return F.appendChild(J),0}let O=de,L=O+1;if(D.state.highlightAll)O=0,L=E.length;else if(!W)return;for(let he=O;he<L;he++){const Q=E[he],Y=Q.begin,te=Q.end,F=W&&he===de,U=F?" selected":"";let J=0;if(H&&Y.divIdx===H.divIdx?R(H.divIdx,H.offset,Y.offset):(null!==H&&R(H.divIdx,H.offset,m_offset),v(Y)),Y.divIdx===te.divIdx)J=R(Y.divIdx,Y.offset,te.offset,"highlight"+U);else{J=R(Y.divIdx,Y.offset,m_offset,"highlight begin"+U);for(let q=Y.divIdx+1,re=te.divIdx;q<re;q++)_[q].className="highlight middle"+U;v(te,"highlight end"+U)}H=te,F&&D.scrollMatchIntoView({element:_[Y.divIdx],selectedLeft:J,pageIndex:Z,matchIndex:de})}H&&R(H.divIdx,H.offset,m_offset)}_updateMatches(){if(!this.enabled)return;const{findController:E,matches:D,pageIdx:Z}=this,{textContentItemsStr:I,textDivs:_}=this;let W=-1;for(let H=0,m=D.length;H<m;H++){const v=D[H];for(let O=Math.max(W,v.begin.divIdx),L=v.end.divIdx;O<=L;O++){const he=_[O];he.textContent=I[O],he.className=""}W=v.end.divIdx+1}(null==E?void 0:E.highlightMatches)&&(this.matches=this._convertMatches(E.pageMatches[Z]||null,E.pageMatchesLength[Z]||null),this._renderMatches(this.matches))}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DownloadManager=void 0;var y=T(3);function E(Z,I){const _=document.createElement("a");if(!_.click)throw new Error('DownloadManager: "a.click()" is not supported.');_.href=Z,_.target="_parent","download"in _&&(_.download=I),(document.body||document.documentElement).appendChild(_),_.click(),_.remove()}f.DownloadManager=class D{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(I,_){(0,y.createValidAbsoluteUrl)(I,"http://example.com")?E(I+"#pdfjs.action=download",_):console.error(`downloadUrl - not a valid URL: ${I}`)}downloadData(I,_,W){E(URL.createObjectURL(new Blob([I],{type:W})),_)}openOrDownloadData(I,_,W){const de=(0,y.isPdfFile)(W),B=de?"application/pdf":"";if(de){let m,H=this._openBlobUrls.get(I);H||(H=URL.createObjectURL(new Blob([_],{type:B})),this._openBlobUrls.set(I,H)),m="?file="+encodeURIComponent(H+"#"+W);try{return window.open(m),!0}catch(v){console.error(`openOrDownloadData: ${v}`),URL.revokeObjectURL(H),this._openBlobUrls.delete(I)}}return this.downloadData(_,W,B),!1}download(I,_,W,de="download"){E(URL.createObjectURL(I),W)}}},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WaitOnType=f.EventBus=f.AutomationEventBus=void 0,f.waitOnEventOrTimeout=function y({target:Z,name:I,delay:_=0}){return new Promise(function(W,de){if("object"!=typeof Z||!I||"string"!=typeof I||!(Number.isInteger(_)&&_>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function B(R){Z instanceof E?Z._off(I,H):Z.removeEventListener(I,H),v&&clearTimeout(v),W(R)}const H=B.bind(null,T.EVENT);Z instanceof E?Z._on(I,H):Z.addEventListener(I,H);const m=B.bind(null,T.TIMEOUT),v=setTimeout(m,_)})};const T={EVENT:"event",TIMEOUT:"timeout"};f.WaitOnType=T;class E{constructor(){this._listeners=Object.create(null)}on(I,_,W=null){this._on(I,_,{external:!0,once:null==W?void 0:W.once})}off(I,_,W=null){this._off(I,_,{external:!0,once:null==W?void 0:W.once})}dispatch(I,_){const W=this._listeners[I];if(!W||0===W.length)return;let de;for(const{listener:B,external:H,once:m}of W.slice(0))m&&this._off(I,B),H?(de||(de=[])).push(B):B(_);if(de){for(const B of de)B(_);de=null}}_on(I,_,W=null){var B;((B=this._listeners)[I]||(B[I]=[])).push({listener:_,external:!0===(null==W?void 0:W.external),once:!0===(null==W?void 0:W.once)})}_off(I,_,W=null){const de=this._listeners[I];if(de)for(let B=0,H=de.length;B<H;B++)if(de[B].listener===_)return void de.splice(B,1)}}f.EventBus=E;f.AutomationEventBus=class D extends E{dispatch(I,_){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericL10n=void 0,T(19);var y=T(4);const E=document.webL10n;f.GenericL10n=class D{constructor(I){this._lang=I,this._ready=new Promise((_,W)=>{E.setLanguage((0,y.fixupLangCode)(I),()=>{_(E)})})}getLanguage(){var I=this;return h(function*(){return(yield I._ready).getLanguage()})()}getDirection(){var I=this;return h(function*(){return(yield I._ready).getDirection()})()}get(I,_=null,W=(0,y.getL10nFallback)(I,_)){var de=this;return h(function*(){return(yield de._ready).get(I,_,W)})()}translate(I){var _=this;return h(function*(){return(yield _._ready).translate(I)})()}}},()=>{document.webL10n=function(se,f,T){var y={},E="",D="textContent",Z="",I={},_="loading";function v(q,re,k){re=re||function(z){},k=k||function(){};var M=new XMLHttpRequest;M.open("GET",q,true),M.overrideMimeType&&M.overrideMimeType("text/plain; charset=utf-8"),M.onreadystatechange=function(){4==M.readyState&&(200==M.status||0===M.status?re(M.responseText):k())},M.onerror=k,M.ontimeout=k;try{M.send(null)}catch(w){k()}}function R(q,re,k,M){var w=q.replace(/[^\/]*$/,"")||"./";function z(ae){return ae.lastIndexOf("\\")<0?ae:ae.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}v(q,function(ae){E+=ae,function V(ae,A){var K={},ee=/^\s*|\s*$/,me=/^\s*#|^\s*$/,G=/^\s*\[(.*)\]\s*$/,_e=/^\s*@import\s+url\((.*)\)\s*$/i,we=/^([^=\s]*)\s*=\s*(.+)$/;function De(Fe,ze,He){var Ze=Fe.replace(ee,"").split(/[\r\n]+/),N="*",fe=re.split("-",1)[0],xe=!1,Ae="";!function Me(){for(;;){if(!Ze.length)return void He();var Ve=Ze.shift();if(!me.test(Ve)){if(ze){if(Ae=G.exec(Ve)){N=Ae[1].toLowerCase(),xe="*"!==N&&N!==re&&N!==fe;continue}if(xe)continue;if(Ae=_e.exec(Ve))return void Ie(w+Ae[1],Me)}var Xe=Ve.match(we);Xe&&3==Xe.length&&(K[Xe[1]]=z(Xe[2]))}}}()}function Ie(Fe,ze){v(Fe,function(He){De(He,!1,ze)},function(){console.warn(Fe+" not found."),ze()})}De(ae,!0,function(){A(K)})}(ae,function(A){for(var K in A){var ee,me,G=K.lastIndexOf(".");G>0?(ee=K.substring(0,G),me=K.substring(G+1)):(ee=K,me=D),y[ee]||(y[ee]={}),y[ee][me]=A[K]}k&&k()})},M)}function O(q,re){q&&(q=q.toLowerCase()),re=re||function(){},function L(){y={},E="",Z=""}(),Z=q;var k=function de(){return f.querySelectorAll('link[type="application/l10n"]')}(),M=k.length;if(0!==M){var ae,A=0;ae=function(){++A>=M&&(re(),_="complete")};for(var ee=0;ee<M;ee++)new K(k[ee]).load(q,ae)}else{var w=function B(){var q=f.querySelector('script[type="application/l10n"]');return q?JSON.parse(q.innerHTML):null}();if(w&&w.locales&&w.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(y=w.locales[q])){var z=w.default_locale.toLowerCase();for(var V in w.locales){if((V=V.toLowerCase())===q){y=w.locales[q];break}V===z&&(y=w.locales[z])}}re()}else console.log("no resource to load, early way out");_="complete"}function K(G){var _e=G.href;this.load=function(we,De){R(_e,we,De,function(){console.warn(_e+" not found."),console.warn('"'+we+'" resource not found'),Z="",De()})}}}function Q(q,re,k){var M=y[q];if(!M){if(console.warn("#"+q+" is undefined."),!k)return null;M=k}var w={};for(var z in M){var V=M[z];V=te(V=Y(V,re,q,z),re,q),w[z]=V}return w}function Y(q,re,k,M){var z=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(q);if(!z||!z.length)return q;var A,V=z[1],ae=z[2];return re&&ae in re?A=re[ae]:ae in y&&(A=y[ae]),V in I&&(q=(0,I[V])(q,A,k,M)),q}function te(q,re,k){return q.replace(/\{\{\s*(.+?)\s*\}\}/g,function(w,z){return re&&z in re?re[z]:z in y?y[z]:(console.log("argument {{"+z+"}} for #"+k+" is undefined."),w)})}function F(q){var re=function m(q){if(!q)return{};var re=q.getAttribute("data-l10n-id"),k=q.getAttribute("data-l10n-args"),M={};if(k)try{M=JSON.parse(k)}catch(w){console.warn("could not parse arguments for #"+re)}return{id:re,args:M}}(q);if(re.id){var k=Q(re.id,re.args);if(!k)return void console.warn("#"+re.id+" is undefined.");if(k[D]){if(0===function U(q){if(q.children)return q.children.length;if(void 0!==q.childElementCount)return q.childElementCount;for(var re=0,k=0;k<q.childNodes.length;k++)re+=1===q.nodeType?1:0;return re}(q))q[D]=k[D];else{for(var M=q.childNodes,w=!1,z=0,V=M.length;z<V;z++)3===M[z].nodeType&&/\S/.test(M[z].nodeValue)&&(w?M[z].nodeValue="":(M[z].nodeValue=k[D],w=!0));if(!w){var ae=f.createTextNode(k[D]);q.insertBefore(ae,q.firstChild)}}delete k[D]}for(var A in k)q[A]=k[A]}}return I.plural=function(q,re,k,M){var w=parseFloat(re);if(isNaN(w)||M!=D)return q;I._pluralRules||(I._pluralRules=function he(q){function k(V,ae){return-1!==ae.indexOf(V)}function M(V,ae,A){return ae<=V&&V<=A}var w={0:function(V){return"other"},1:function(V){return M(V%100,3,10)?"few":0===V?"zero":M(V%100,11,99)?"many":2==V?"two":1==V?"one":"other"},2:function(V){return 0!==V&&V%10==0?"many":2==V?"two":1==V?"one":"other"},3:function(V){return 1==V?"one":"other"},4:function(V){return M(V,0,1)?"one":"other"},5:function(V){return M(V,0,2)&&2!=V?"one":"other"},6:function(V){return 0===V?"zero":V%10==1&&V%100!=11?"one":"other"},7:function(V){return 2==V?"two":1==V?"one":"other"},8:function(V){return M(V,3,6)?"few":M(V,7,10)?"many":2==V?"two":1==V?"one":"other"},9:function(V){return 0===V||1!=V&&M(V%100,1,19)?"few":1==V?"one":"other"},10:function(V){return M(V%10,2,9)&&!M(V%100,11,19)?"few":V%10!=1||M(V%100,11,19)?"other":"one"},11:function(V){return M(V%10,2,4)&&!M(V%100,12,14)?"few":V%10==0||M(V%10,5,9)||M(V%100,11,14)?"many":V%10==1&&V%100!=11?"one":"other"},12:function(V){return M(V,2,4)?"few":1==V?"one":"other"},13:function(V){return M(V%10,2,4)&&!M(V%100,12,14)?"few":1!=V&&M(V%10,0,1)||M(V%10,5,9)||M(V%100,12,14)?"many":1==V?"one":"other"},14:function(V){return M(V%100,3,4)?"few":V%100==2?"two":V%100==1?"one":"other"},15:function(V){return 0===V||M(V%100,2,10)?"few":M(V%100,11,19)?"many":1==V?"one":"other"},16:function(V){return V%10==1&&11!=V?"one":"other"},17:function(V){return 3==V?"few":0===V?"zero":6==V?"many":2==V?"two":1==V?"one":"other"},18:function(V){return 0===V?"zero":M(V,0,2)&&0!==V&&2!=V?"one":"other"},19:function(V){return M(V,2,10)?"few":M(V,0,1)?"one":"other"},20:function(V){return!M(V%10,3,4)&&V%10!=9||M(V%100,10,19)||M(V%100,70,79)||M(V%100,90,99)?V%1e6==0&&0!==V?"many":V%10!=2||k(V%100,[12,72,92])?V%10!=1||k(V%100,[11,71,91])?"other":"one":"two":"few"},21:function(V){return 0===V?"zero":1==V?"one":"other"},22:function(V){return M(V,0,1)||M(V,11,99)?"one":"other"},23:function(V){return M(V%10,1,2)||V%20==0?"one":"other"},24:function(V){return M(V,3,10)||M(V,13,19)?"few":k(V,[2,12])?"two":k(V,[1,11])?"one":"other"}},z={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[q.replace(/-.*$/,"")];return z in w?w[z]:(console.warn("plural form unknown for ["+q+"]"),function(){return"other"})}(Z));var z="["+I._pluralRules(w)+"]";return 0===w&&k+"[zero]"in y?q=y[k+"[zero]"][M]:1==w&&k+"[one]"in y?q=y[k+"[one]"][M]:2==w&&k+"[two]"in y?q=y[k+"[two]"][M]:k+z in y?q=y[k+z][M]:k+"[other]"in y&&(q=y[k+"[other]"][M]),q},{get:function(q,re,k){var z,M=q.lastIndexOf("."),w=D;M>0&&(w=q.substring(M+1),q=q.substring(0,M)),k&&((z={})[w]=k);var V=Q(q,re,z);return V&&w in V?V[w]:"{{"+q+"}}"},getData:function(){return y},getText:function(){return E},getLanguage:function(){return Z},setLanguage:function(q,re){O(q,function(){re&&re()})},getDirection:function(){var re=Z.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(re)>=0?"rtl":"ltr"},translate:function J(q){for(var re=function H(q){return q?q.querySelectorAll("*[data-l10n-id]"):[]}(q=q||f.documentElement),k=re.length,M=0;M<k;M++)F(re[M]);F(q)},getReadyState:function(){return _},ready:function(q){q&&("complete"==_||"interactive"==_?se.setTimeout(function(){q()}):f.addEventListener&&f.addEventListener("localized",function re(){f.removeEventListener("localized",re),q()}))}}}(window,document)},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFFindController=f.FindState=void 0;var y=T(6),E=T(3),D=T(21);const Z={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};f.FindState=Z;const de={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},B=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),H=[...B.values()].map(te=>String.fromCharCode(te)).join(""),m=/\p{M}+/gu,v=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,R=/([^\p{M}])\p{M}*$/u,O=/^\p{M}*([^\p{M}])/u;let L=null;function he(te){if(!L){const V=Object.keys(de).join("");L=new RegExp(`([${V}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const F=[];let U;for(;null!==(U=m.exec(te));)F.push([U[0].length,U.index]);let J=te.normalize("NFD");const q=[[0,0]];let re=0,k=0,M=0,w=0,z=!1;return J=J.replace(L,(V,ae,A,K,ee,me)=>{var G;if(me-=M,ae){const _e=de[V],we=_e.length;for(let De=1;De<we;De++)q.push([me-k+De,k-De]);return k-=we-1,_e}if(A){const _e=A.endsWith("\n"),we=_e?A.length-2:A.length;z=!0;let De=we;me+w===(null==(G=F[re])?void 0:G[1])&&(De-=F[re][0],++re);for(let Ie=1;Ie<De+1;Ie++)q.push([me-1-k+Ie,k-Ie]);return k-=De,M+=De,_e?(q.push([(me+=we-1)-k+1,1+k]),k+=1,M+=1,w+=1,A.slice(0,we)):A}return K?(q.push([me-k+1,1+k]),k+=1,M+=1,w+=1,K.charAt(0)):(q.push([me-k+1,k-1]),k-=1,M+=1,w+=1," ")}),q.push([J.length,k]),[J,q,z]}function Q(te,F,U){if(!te)return[F,U];const J=F,q=F+U;let re=(0,y.binarySearchFirstItem)(te,M=>M[0]>=J);te[re][0]>J&&--re;let k=(0,y.binarySearchFirstItem)(te,M=>M[0]>=q,re);return te[k][0]>q&&--k,[J+te[re][1],U+te[k][1]-te[re][1]]}f.PDFFindController=class Y{constructor({linkService:F,eventBus:U}){this._linkService=F,this._eventBus=U,this._reset(),U._on("find",this._onFind.bind(this)),U._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(J,q)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const re=Object.assign(Object.create(null),q,{type:J.substring(4)});this._onFind(re)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(F){this._pdfDocument&&this._reset(),F&&(this._pdfDocument=F,this._firstPageCapability.resolve())}_onFind(F){if(!F)return;const U=this._pdfDocument,{type:J}=F;(null===this._state||this._shouldDirtyMatch(F))&&(this._dirtyMatch=!0),this._state=F,"highlightallchange"!==J&&this._updateUIState(Z.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||U&&this._pdfDocument!==U)return;this._extractText();const q=!this._highlightMatches,re=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),J?this._dirtyMatch?this._nextMatch():"again"===J?(this._nextMatch(),q&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===J?(re?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:F=null,selectedLeft:U=0,pageIndex:J=-1,matchIndex:q=-1}){this._scrollMatches&&F&&-1!==q&&q===this._selected.matchIdx&&-1!==J&&J===this._selected.pageIdx&&(this._scrollMatches=!1,(0,y.scrollIntoView)(F,{top:-50,left:U+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,E.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=he(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(F){if(F.query!==this._state.query)return!0;switch(F.type){case"again":const U=this._selected.pageIdx+1,J=this._linkService;return U>=1&&U<=J.pagesCount&&U!==J.page&&!J.isPageVisible(U);case"highlightallchange":return!1}return!0}_isEntireWord(F,U,J){let q=F.slice(0,U).match(R);if(q){const re=F.charCodeAt(U),k=q[1].charCodeAt(0);if((0,D.getCharacterType)(re)===(0,D.getCharacterType)(k))return!1}if(q=F.slice(U+J).match(O),q){const re=F.charCodeAt(U+J-1),k=q[1].charCodeAt(0);if((0,D.getCharacterType)(re)===(0,D.getCharacterType)(k))return!1}return!0}_calculateRegExpMatch(F,U,J,q){const re=[],k=[],M=this._pageDiffs[J];let w;for(;null!==(w=F.exec(q));){if(U&&!this._isEntireWord(q,w.index,w[0].length))continue;const[z,V]=Q(M,w.index,w[0].length);V&&(re.push(z),k.push(V))}this._pageMatches[J]=re,this._pageMatchesLength[J]=k}_convertToRegExpString(F,U){const{matchDiacritics:J}=this._state;let q=!1;return(F=F.replace(v,(k,M,w,z,V,ae)=>M?`[ ]*\\${M}[ ]*`:w?`[ ]*${w}[ ]*`:z?"[ ]+":J?V||ae:V?B.has(V.charCodeAt(0))?V:"":U?(q=!0,`${ae}\\p{M}*`):ae)).endsWith("[ ]*")&&(F=F.slice(0,F.length-"[ ]*".length)),J&&U&&(q=!0,F=`${F}(?=[${H}]|[^\\p{M}]|$)`),[q,F]}_calculateMatch(F){let U=this._query;if(0===U.length)return;const{caseSensitive:J,entireWord:q,phraseSearch:re}=this._state,k=this._pageContents[F],M=this._hasDiacritics[F];let w=!1;if(re)[w,U]=this._convertToRegExpString(U,M);else{const ae=U.match(/\S+/g);ae&&(U=ae.sort().reverse().map(A=>{const[K,ee]=this._convertToRegExpString(A,M);return w||(w=K),`(${ee})`}).join("|"))}U=new RegExp(U,`g${w?"u":""}${J?"":"i"}`),this._calculateRegExpMatch(U,q,F,k),this._state.highlightAll&&this._updatePage(F),this._resumePageIdx===F&&(this._resumePageIdx=null,this._nextPageMatch());const V=this._pageMatches[F].length;V>0&&(this._matchesCountTotal+=V,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let F=Promise.resolve();for(let U=0,J=this._linkService.pagesCount;U<J;U++){const q=(0,E.createPromiseCapability)();this._extractTextPromises[U]=q.promise,F=F.then(()=>this._pdfDocument.getPage(U+1).then(re=>re.getTextContent()).then(re=>{const k=re.items,M=[];for(let w=0,z=k.length;w<z;w++)M.push(k[w].str),k[w].hasEOL&&M.push("\n");[this._pageContents[U],this._pageDiffs[U],this._hasDiacritics[U]]=he(M.join("")),q.resolve(U)},re=>{console.error(`Unable to get text content for page ${U+1}`,re),this._pageContents[U]="",this._pageDiffs[U]=null,this._hasDiacritics[U]=!1,q.resolve(U)}))}}_updatePage(F){this._scrollMatches&&this._selected.pageIdx===F&&(this._linkService.page=F+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:F})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const F=this._state.findPrevious,U=this._linkService.page-1,J=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=U,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let re=0;re<J;re++)this._pendingFindMatches.has(re)||(this._pendingFindMatches.add(re),this._extractTextPromises[re].then(k=>{this._pendingFindMatches.delete(k),this._calculateMatch(k)}))}if(""===this._query)return void this._updateUIState(Z.FOUND);if(this._resumePageIdx)return;const q=this._offset;if(this._pagesToSearch=J,null!==q.matchIdx){const re=this._pageMatches[q.pageIdx].length;if(!F&&q.matchIdx+1<re||F&&q.matchIdx>0)return q.matchIdx=F?q.matchIdx-1:q.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(F)}this._nextPageMatch()}_matchesReady(F){const U=this._offset,J=F.length,q=this._state.findPrevious;return J?(U.matchIdx=q?J-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(q),!!(U.wrapped&&(U.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let F=null;do{const U=this._offset.pageIdx;if(F=this._pageMatches[U],!F){this._resumePageIdx=U;break}}while(!this._matchesReady(F))}_advanceOffsetPage(F){const U=this._offset,J=this._linkService.pagesCount;U.pageIdx=F?U.pageIdx-1:U.pageIdx+1,U.matchIdx=null,this._pagesToSearch--,(U.pageIdx>=J||U.pageIdx<0)&&(U.pageIdx=F?J-1:0,U.wrapped=!0)}_updateMatch(F=!1){let U=Z.NOT_FOUND;const J=this._offset.wrapped;if(this._offset.wrapped=!1,F){const q=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,U=J?Z.WRAPPED:Z.FOUND,-1!==q&&q!==this._selected.pageIdx&&this._updatePage(q)}this._updateUIState(U,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(F){const U=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||U&&this._pdfDocument!==U||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(Z.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var re;const{pageIdx:F,matchIdx:U}=this._selected;let J=0,q=this._matchesCountTotal;if(-1!==U){for(let k=0;k<F;k++)J+=(null==(re=this._pageMatches[k])?void 0:re.length)||0;J+=U+1}return(J<1||J>q)&&(J=q=0),{current:J,total:q}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(F,U=!1){var J,q;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:F,previous:U,matchesCount:this._requestMatchesCount(),rawQuery:null!=(q=null==(J=this._state)?void 0:J.query)?q:null})}}},(se,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterType=void 0,f.getCharacterType=function m(v){return function y(v){return v<11904}(v)?function E(v){return 0==(65408&v)}(v)?function I(v){return 32===v||9===v||13===v||10===v}(v)?T.SPACE:function D(v){return v>=97&&v<=122||v>=65&&v<=90}(v)||function Z(v){return v>=48&&v<=57}(v)||95===v?T.ALPHA_LETTER:T.PUNCT:function H(v){return 3584==(65408&v)}(v)?T.THAI_LETTER:160===v?T.SPACE:T.ALPHA_LETTER:function _(v){return v>=13312&&v<=40959||v>=63744&&v<=64255}(v)?T.HAN_LETTER:function W(v){return v>=12448&&v<=12543}(v)?T.KATAKANA_LETTER:function de(v){return v>=12352&&v<=12447}(v)?T.HIRAGANA_LETTER:function B(v){return v>=65376&&v<=65439}(v)?T.HALFWIDTH_KATAKANA_LETTER:T.ALPHA_LETTER};const T={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};f.CharacterType=T},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFHistory=void 0,f.isDestArraysEqual=B,f.isDestHashesEqual=de;var y=T(6),E=T(17);function _(){return document.location.hash}function de(H,m){return"string"==typeof H&&"string"==typeof m&&(H===m||(0,y.parseQueryString)(H).get("nameddest")===m)}function B(H,m){function v(R,O){if(typeof R!=typeof O||Array.isArray(R)||Array.isArray(O))return!1;if(null!==R&&"object"==typeof R&&null!==O){if(Object.keys(R).length!==Object.keys(O).length)return!1;for(const L in R)if(!v(R[L],O[L]))return!1;return!0}return R===O||Number.isNaN(R)&&Number.isNaN(O)}if(!Array.isArray(H)||!Array.isArray(m)||H.length!==m.length)return!1;for(let R=0,O=H.length;R<O;R++)if(!v(H[R],m[R]))return!1;return!0}f.PDFHistory=class W{constructor({linkService:m,eventBus:v}){this.linkService=m,this.eventBus=v,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",R=>{this._isViewerInPresentationMode=R.state!==y.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",R=>{this._isPagesLoaded=!!R.pagesCount},{once:!0})})}initialize({fingerprint:m,resetHistory:v=!1,updateUrl:R=!1}){if(!m||"string"!=typeof m)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const O=""!==this._fingerprint&&this._fingerprint!==m;this._fingerprint=m,this._updateUrl=!0===R,this._initialized=!0,this._bindEvents();const L=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=_(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(L,!0)||v){const{hash:Q,page:Y,rotation:te}=this._parseCurrentHash(!0);return!Q||O||v?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Q,page:Y,rotation:te},!0)}const he=L.destination;this._updateInternalState(he,L.uid,!0),void 0!==he.rotation&&(this._initialRotation=he.rotation),he.dest?(this._initialBookmark=JSON.stringify(he.dest),this._destination.page=null):he.hash?this._initialBookmark=he.hash:he.page&&(this._initialBookmark=`page=${he.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:m=null,explicitDest:v,pageNumber:R}){if(!this._initialized)return;if(m&&"string"!=typeof m)return void console.error(`PDFHistory.push: "${m}" is not a valid namedDest parameter.`);if(!Array.isArray(v))return void console.error(`PDFHistory.push: "${v}" is not a valid explicitDest parameter.`);if(!this._isValidPage(R)&&(null!==R||this._destination))return void console.error(`PDFHistory.push: "${R}" is not a valid pageNumber parameter.`);const O=m||JSON.stringify(v);if(!O)return;let L=!1;if(this._destination&&(de(this._destination.hash,O)||B(this._destination.dest,v))){if(this._destination.page)return;L=!0}this._popStateInProgress&&!L||(this._pushOrReplaceState({dest:v,hash:O,page:R,rotation:this.linkService.rotation},L),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(m){var v;if(this._initialized){if(!this._isValidPage(m))return void console.error(`PDFHistory.pushPage: "${m}" is not a valid page number.`);(null==(v=this._destination)?void 0:v.page)!==m&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${m}`,page:m,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const m=window.history.state;this._isValidState(m)&&m.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const m=window.history.state;this._isValidState(m)&&m.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(m,v=!1){const R=v||!this._destination,O={fingerprint:this._fingerprint,uid:R?this._uid:this._uid+1,destination:m};let L;if(this._updateInternalState(m,O.uid),this._updateUrl&&(null==m?void 0:m.hash)){const he=document.location.href.split("#")[0];he.startsWith("file://")||(L=`${he}#${m.hash}`)}R?window.history.replaceState(O,"",L):window.history.pushState(O,"",L)}_tryPushCurrentPosition(m=!1){if(!this._position)return;let v=this._position;if(m&&(v=Object.assign(Object.create(null),this._position),v.temporary=!0),!this._destination)return void this._pushOrReplaceState(v);if(this._destination.temporary)return void this._pushOrReplaceState(v,!0);if(this._destination.hash===v.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let R=!1;if(this._destination.page>=v.first&&this._destination.page<=v.page){if(void 0!==this._destination.dest||!this._destination.first)return;R=!0}this._pushOrReplaceState(v,R)}_isValidPage(m){return Number.isInteger(m)&&m>0&&m<=this.linkService.pagesCount}_isValidState(m,v=!1){if(!m)return!1;if(m.fingerprint!==this._fingerprint){if(!v)return!1;{if("string"!=typeof m.fingerprint||m.fingerprint.length!==this._fingerprint.length)return!1;const[R]=performance.getEntriesByType("navigation");if("reload"!==(null==R?void 0:R.type))return!1}}return!(!Number.isInteger(m.uid)||m.uid<0||null===m.destination||"object"!=typeof m.destination)}_updateInternalState(m,v,R=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),R&&(null==m?void 0:m.temporary)&&delete m.temporary,this._destination=m,this._uid=v,this._maxUid=Math.max(this._maxUid,v),this._numPositionUpdates=0}_parseCurrentHash(m=!1){const v=unescape(_()).substring(1),R=(0,y.parseQueryString)(v),O=R.get("nameddest")||"";let L=0|R.get("page");return(!this._isValidPage(L)||m&&O.length>0)&&(L=null),{hash:v,page:L,rotation:this.linkService.rotation}}_updateViewarea({location:m}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${m.pageNumber}`:m.pdfOpenParams.substring(1),page:this.linkService.page,first:m.pageNumber,rotation:m.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:m}){const v=_(),R=this._currentHash!==v;if(this._currentHash=v,!m){this._uid++;const{hash:L,page:he,rotation:Q}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:L,page:he,rotation:Q},!0)}if(!this._isValidState(m))return;this._popStateInProgress=!0,R&&(this._blockHashChange++,(0,E.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const O=m.destination;this._updateInternalState(O,m.uid,!0),(0,y.isValidRotation)(O.rotation)&&(this.linkService.rotation=O.rotation),O.dest?this.linkService.goToDestination(O.dest):O.hash?this.linkService.setHash(O.hash):O.page&&(this.linkService.page=O.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFScriptingManager=void 0;var y=T(6),E=T(3);f.PDFScriptingManager=class D{constructor({eventBus:I,sandboxBundleSrc:_=null,scriptingFactory:W=null,docPropertiesLookup:de=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=I,this._sandboxBundleSrc=_,this._scriptingFactory=W,this._docPropertiesLookup=de,this._scriptingFactory||window.addEventListener("updatefromsandbox",B=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:B.detail})})}setViewer(I){this._pdfViewer=I}setDocument(I){var _=this;return h(function*(){var H;if(_._pdfDocument&&(yield _._destroyScripting()),_._pdfDocument=I,!I)return;const[W,de,B]=yield Promise.all([I.getFieldObjects(),I.getCalculationOrderIds(),I.getJSActions()]);if(W||B){if(I===_._pdfDocument){try{_._scripting=_._createScripting()}catch(m){return console.error(`PDFScriptingManager.setDocument: "${null==m?void 0:m.message}".`),void(yield _._destroyScripting())}_._internalEvents.set("updatefromsandbox",m=>{(null==m?void 0:m.source)===window&&_._updateFromSandbox(m.detail)}),_._internalEvents.set("dispatcheventinsandbox",m=>{var v;null==(v=_._scripting)||v.dispatchEventInSandbox(m.detail)}),_._internalEvents.set("pagechanging",({pageNumber:m,previous:v})=>{m!==v&&(_._dispatchPageClose(v),_._dispatchPageOpen(m))}),_._internalEvents.set("pagerendered",({pageNumber:m})=>{!_._pageOpenPending.has(m)||m===_._pdfViewer.currentPageNumber&&_._dispatchPageOpen(m)}),_._internalEvents.set("pagesdestroy",function(){var m=h(function*(v){var R,O;yield _._dispatchPageClose(_._pdfViewer.currentPageNumber),yield null==(R=_._scripting)?void 0:R.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(O=_._closeCapability)||O.resolve()});return function(v){return m.apply(this,arguments)}}()),_._domEvents.set("mousedown",m=>{_._mouseState.isDown=!0}),_._domEvents.set("mouseup",m=>{_._mouseState.isDown=!1});for(const[m,v]of _._internalEvents)_._eventBus._on(m,v);for(const[m,v]of _._domEvents)window.addEventListener(m,v);try{const m=yield _._getDocProperties();if(I!==_._pdfDocument)return;yield _._scripting.createSandbox({objects:W,calculationOrder:de,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Rc(Ic({},m),{actions:B})}),_._eventBus.dispatch("sandboxcreated",{source:_})}catch(m){return console.error(`PDFScriptingManager.setDocument: "${null==m?void 0:m.message}".`),void(yield _._destroyScripting())}yield null==(H=_._scripting)?void 0:H.dispatchEventInSandbox({id:"doc",name:"Open"}),yield _._dispatchPageOpen(_._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{I===_._pdfDocument&&(_._ready=!0)})}}else yield _._destroyScripting()})()}dispatchWillSave(I){var _=this;return h(function*(){var W;return null==(W=_._scripting)?void 0:W.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(I){var _=this;return h(function*(){var W;return null==(W=_._scripting)?void 0:W.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(I){var _=this;return h(function*(){var W;return null==(W=_._scripting)?void 0:W.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(I){var _=this;return h(function*(){var W;return null==(W=_._scripting)?void 0:W.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var I;return(null==(I=this._destroyCapability)?void 0:I.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,E.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,E.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,E.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,E.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(I){var _=this;return h(function*(){var R;const W=_._pdfViewer.isInPresentationMode||_._pdfViewer.isChangingPresentationMode,{id:de,siblings:B,command:H,value:m}=I;if(!de){switch(H){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(W)return;const O=(0,y.apiPageLayoutToViewerModes)(m);_._pdfViewer.spreadMode=O.spreadMode;break;case"page-num":_._pdfViewer.currentPageNumber=m+1;break;case"print":yield _._pdfViewer.pagesPromise,_._eventBus.dispatch("print",{source:_});break;case"println":console.log(m);break;case"zoom":if(W)return;_._pdfViewer.currentScaleValue=m;break;case"SaveAs":_._eventBus.dispatch("save",{source:_});break;case"FirstPage":_._pdfViewer.currentPageNumber=1;break;case"LastPage":_._pdfViewer.currentPageNumber=_._pdfViewer.pagesCount;break;case"NextPage":_._pdfViewer.nextPage();break;case"PrevPage":_._pdfViewer.previousPage();break;case"ZoomViewIn":if(W)return;_._pdfViewer.increaseScale();break;case"ZoomViewOut":if(W)return;_._pdfViewer.decreaseScale()}return}if(W&&I.focus)return;delete I.id,delete I.siblings;const v=B?[de,...B]:[de];for(const O of v){const L=document.getElementById(O);L?L.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:I})):null==(R=_._pdfDocument)||R.annotationStorage.setValue(O,I)}})()}_dispatchPageOpen(I,_=!1){var W=this;return h(function*(){const de=W._pdfDocument,B=W._visitedPages;if(_&&(W._closeCapability=(0,E.createPromiseCapability)()),!W._closeCapability)return;const H=W._pdfViewer.getPageView(I-1);if((null==H?void 0:H.renderingState)!==y.RenderingStates.FINISHED)return void W._pageOpenPending.add(I);W._pageOpenPending.delete(I);const m=h(function*(){var R,O;const v=yield B.has(I)?null:null==(R=H.pdfPage)?void 0:R.getJSActions();de===W._pdfDocument&&(yield null==(O=W._scripting)?void 0:O.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:I,actions:v}))})();B.set(I,m)})()}_dispatchPageClose(I){var _=this;return h(function*(){var H;const W=_._pdfDocument,de=_._visitedPages;if(!_._closeCapability||_._pageOpenPending.has(I))return;const B=de.get(I);!B||(de.set(I,null),yield B,W===_._pdfDocument&&(yield null==(H=_._scripting)?void 0:H.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:I})))})()}_getDocProperties(){var I=this;return h(function*(){if(I._docPropertiesLookup)return I._docPropertiesLookup(I._pdfDocument);const{docPropertiesLookup:_}=T(24);return _(I._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,E.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:I}=T(24);return new I(this._sandboxBundleSrc)}_destroyScripting(){var I=this;return h(function*(){var _,W;if(!I._scripting)return I._pdfDocument=null,void(null==(_=I._destroyCapability)||_.resolve());I._closeCapability&&(yield Promise.race([I._closeCapability.promise,new Promise(de=>{setTimeout(de,1e3)})]).catch(de=>{}),I._closeCapability=null),I._pdfDocument=null;try{yield I._scripting.destroySandbox()}catch(de){}for(const[de,B]of I._internalEvents)I._eventBus._off(de,B);I._internalEvents.clear();for(const[de,B]of I._domEvents)window.removeEventListener(de,B);I._domEvents.clear(),I._pageOpenPending.clear(),I._visitedPages.clear(),I._scripting=null,delete I._mouseState.isDown,I._ready=!1,null==(W=I._destroyCapability)||W.resolve()})()}}},(se,f,T)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GenericScripting=void 0,f.docPropertiesLookup=function E(I){return D.apply(this,arguments)};var y=T(3);function D(){return(D=h(function*(I){const W="".split("#")[0];let{info:de,metadata:B,contentDispositionFilename:H,contentLength:m}=yield I.getMetadata();if(!m){const{length:v}=yield I.getDownloadInfo();m=v}return Rc(Ic({},de),{baseURL:W,filesize:m,filename:H||(0,y.getPdfFilenameFromUrl)(""),metadata:null==B?void 0:B.getRaw(),authors:null==B?void 0:B.get("dc:creator"),numPages:I.numPages,URL:""})})).apply(this,arguments)}f.GenericScripting=class Z{constructor(_){this._ready=(0,y.loadScript)(_,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(_){var W=this;return h(function*(){(yield W._ready).create(_)})()}dispatchEventInSandbox(_){var W=this;return h(function*(){const de=yield W._ready;setTimeout(()=>de.dispatchEvent(_),0)})()}destroySandbox(){var _=this;return h(function*(){(yield _._ready).nukeSandbox()})()}}}],ge={};function be(se){var f=ge[se];if(void 0!==f)return f.exports;var T=ge[se]={exports:{}};return ie[se](T,T.exports,be),T.exports}var ye={};return(()=>{var se=ye;Object.defineProperty(se,"__esModule",{value:!0}),Object.defineProperty(se,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return D.AnnotationLayerBuilder}}),Object.defineProperty(se,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return f.DefaultAnnotationLayerFactory}}),Object.defineProperty(se,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return f.DefaultStructTreeLayerFactory}}),Object.defineProperty(se,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return f.DefaultTextLayerFactory}}),Object.defineProperty(se,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return f.DefaultXfaLayerFactory}}),Object.defineProperty(se,"DownloadManager",{enumerable:!0,get:function(){return Z.DownloadManager}}),Object.defineProperty(se,"EventBus",{enumerable:!0,get:function(){return I.EventBus}}),Object.defineProperty(se,"GenericL10n",{enumerable:!0,get:function(){return _.GenericL10n}}),Object.defineProperty(se,"LinkTarget",{enumerable:!0,get:function(){return T.LinkTarget}}),Object.defineProperty(se,"NullL10n",{enumerable:!0,get:function(){return W.NullL10n}}),Object.defineProperty(se,"PDFFindController",{enumerable:!0,get:function(){return de.PDFFindController}}),Object.defineProperty(se,"PDFHistory",{enumerable:!0,get:function(){return B.PDFHistory}}),Object.defineProperty(se,"PDFLinkService",{enumerable:!0,get:function(){return T.PDFLinkService}}),Object.defineProperty(se,"PDFPageView",{enumerable:!0,get:function(){return H.PDFPageView}}),Object.defineProperty(se,"PDFScriptingManager",{enumerable:!0,get:function(){return m.PDFScriptingManager}}),Object.defineProperty(se,"PDFSinglePageViewer",{enumerable:!0,get:function(){return E.PDFSinglePageViewer}}),Object.defineProperty(se,"PDFViewer",{enumerable:!0,get:function(){return E.PDFViewer}}),Object.defineProperty(se,"ProgressBar",{enumerable:!0,get:function(){return y.ProgressBar}}),Object.defineProperty(se,"SimpleLinkService",{enumerable:!0,get:function(){return T.SimpleLinkService}}),Object.defineProperty(se,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return v.StructTreeLayerBuilder}}),Object.defineProperty(se,"TextLayerBuilder",{enumerable:!0,get:function(){return R.TextLayerBuilder}}),Object.defineProperty(se,"XfaLayerBuilder",{enumerable:!0,get:function(){return O.XfaLayerBuilder}}),Object.defineProperty(se,"parseQueryString",{enumerable:!0,get:function(){return y.parseQueryString}});var f=be(1),T=be(5),y=be(6),E=be(10),D=be(2),Z=be(16),I=be(17),_=be(18),W=be(4),de=be(20),B=be(22),H=be(12),m=be(23),v=be(7),R=be(8),O=be(9)})(),ye})()},8306:(Ue,ne,le)=>{"use strict";le.d(ne,{y:()=>E});var h=le(930),ie=le(727),ge=le(8822),be=le(4671);var f=le(2416),T=le(576),y=le(2806);let E=(()=>{class _{constructor(de){de&&(this._subscribe=de)}lift(de){const B=new _;return B.source=this,B.operator=de,B}subscribe(de,B,H){const m=function I(_){return _&&_ instanceof h.Lv||function Z(_){return _&&(0,T.m)(_.next)&&(0,T.m)(_.error)&&(0,T.m)(_.complete)}(_)&&(0,ie.Nn)(_)}(de)?de:new h.Hp(de,B,H);return(0,y.x)(()=>{const{operator:v,source:R}=this;m.add(v?v.call(m,R):R?this._subscribe(m):this._trySubscribe(m))}),m}_trySubscribe(de){try{return this._subscribe(de)}catch(B){de.error(B)}}forEach(de,B){return new(B=D(B))((H,m)=>{const v=new h.Hp({next:R=>{try{de(R)}catch(O){m(O),v.unsubscribe()}},error:m,complete:H});this.subscribe(v)})}_subscribe(de){var B;return null===(B=this.source)||void 0===B?void 0:B.subscribe(de)}[ge.L](){return this}pipe(...de){return function se(_){return 0===_.length?be.y:1===_.length?_[0]:function(de){return _.reduce((B,H)=>H(B),de)}}(de)(this)}toPromise(de){return new(de=D(de))((B,H)=>{let m;this.subscribe(v=>m=v,v=>H(v),()=>B(m))})}}return _.create=W=>new _(W),_})();function D(_){var W;return null!==(W=null!=_?_:f.v.Promise)&&void 0!==W?W:Promise}},7579:(Ue,ne,le)=>{"use strict";le.d(ne,{x:()=>f});var h=le(8306),ie=le(727);const be=(0,le(3888).d)(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=le(8737),se=le(2806);let f=(()=>{class y extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(D){const Z=new T(this,this);return Z.operator=D,Z}_throwIfClosed(){if(this.closed)throw new be}next(D){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(D)}})}error(D){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=D;const{observers:Z}=this;for(;Z.length;)Z.shift().error(D)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:D}=this;for(;D.length;)D.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var D;return(null===(D=this.observers)||void 0===D?void 0:D.length)>0}_trySubscribe(D){return this._throwIfClosed(),super._trySubscribe(D)}_subscribe(D){return this._throwIfClosed(),this._checkFinalizedStatuses(D),this._innerSubscribe(D)}_innerSubscribe(D){const{hasError:Z,isStopped:I,observers:_}=this;return Z||I?ie.Lc:(this.currentObservers=null,_.push(D),new ie.w0(()=>{this.currentObservers=null,(0,ye.P)(_,D)}))}_checkFinalizedStatuses(D){const{hasError:Z,thrownError:I,isStopped:_}=this;Z?D.error(I):_&&D.complete()}asObservable(){const D=new h.y;return D.source=this,D}}return y.create=(E,D)=>new T(E,D),y})();class T extends f{constructor(E,D){super(),this.destination=E,this.source=D}next(E){var D,Z;null===(Z=null===(D=this.destination)||void 0===D?void 0:D.next)||void 0===Z||Z.call(D,E)}error(E){var D,Z;null===(Z=null===(D=this.destination)||void 0===D?void 0:D.error)||void 0===Z||Z.call(D,E)}complete(){var E,D;null===(D=null===(E=this.destination)||void 0===E?void 0:E.complete)||void 0===D||D.call(E)}_subscribe(E){var D,Z;return null!==(Z=null===(D=this.source)||void 0===D?void 0:D.subscribe(E))&&void 0!==Z?Z:ie.Lc}}},930:(Ue,ne,le)=>{"use strict";le.d(ne,{Hp:()=>de,Lv:()=>Z});var h=le(576),ie=le(727),ge=le(2416),be=le(7849),ye=le(5032);const se=y("C",void 0,void 0);function y(R,O,L){return{kind:R,value:O,error:L}}var E=le(3410),D=le(2806);class Z extends ie.w0{constructor(O){super(),this.isStopped=!1,O?(this.destination=O,(0,ie.Nn)(O)&&O.add(this)):this.destination=v}static create(O,L,he){return new de(O,L,he)}next(O){this.isStopped?m(function T(R){return y("N",R,void 0)}(O),this):this._next(O)}error(O){this.isStopped?m(function f(R){return y("E",void 0,R)}(O),this):(this.isStopped=!0,this._error(O))}complete(){this.isStopped?m(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(O){this.destination.next(O)}_error(O){try{this.destination.error(O)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function _(R,O){return I.call(R,O)}class W{constructor(O){this.partialObserver=O}next(O){const{partialObserver:L}=this;if(L.next)try{L.next(O)}catch(he){B(he)}}error(O){const{partialObserver:L}=this;if(L.error)try{L.error(O)}catch(he){B(he)}else B(O)}complete(){const{partialObserver:O}=this;if(O.complete)try{O.complete()}catch(L){B(L)}}}class de extends Z{constructor(O,L,he){let Q;if(super(),(0,h.m)(O)||!O)Q={next:null!=O?O:void 0,error:null!=L?L:void 0,complete:null!=he?he:void 0};else{let Y;this&&ge.v.useDeprecatedNextContext?(Y=Object.create(O),Y.unsubscribe=()=>this.unsubscribe(),Q={next:O.next&&_(O.next,Y),error:O.error&&_(O.error,Y),complete:O.complete&&_(O.complete,Y)}):Q=O}this.destination=new W(Q)}}function B(R){ge.v.useDeprecatedSynchronousErrorHandling?(0,D.O)(R):(0,be.h)(R)}function m(R,O){const{onStoppedNotification:L}=ge.v;L&&E.z.setTimeout(()=>L(R,O))}const v={closed:!0,next:ye.Z,error:function H(R){throw R},complete:ye.Z}},727:(Ue,ne,le)=>{"use strict";le.d(ne,{Lc:()=>se,w0:()=>ye,Nn:()=>f});var h=le(576);const ge=(0,le(3888).d)(y=>function(D){y(this),this.message=D?`${D.length} errors occurred during unsubscription:\n${D.map((Z,I)=>`${I+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=D});var be=le(8737);class ye{constructor(E){this.initialTeardown=E,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let E;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const _ of D)_.remove(this);else D.remove(this);const{initialTeardown:Z}=this;if((0,h.m)(Z))try{Z()}catch(_){E=_ instanceof ge?_.errors:[_]}const{_finalizers:I}=this;if(I){this._finalizers=null;for(const _ of I)try{T(_)}catch(W){E=null!=E?E:[],W instanceof ge?E=[...E,...W.errors]:E.push(W)}}if(E)throw new ge(E)}}add(E){var D;if(E&&E!==this)if(this.closed)T(E);else{if(E instanceof ye){if(E.closed||E._hasParent(this))return;E._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(E)}}_hasParent(E){const{_parentage:D}=this;return D===E||Array.isArray(D)&&D.includes(E)}_addParent(E){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(E),D):D?[D,E]:E}_removeParent(E){const{_parentage:D}=this;D===E?this._parentage=null:Array.isArray(D)&&(0,be.P)(D,E)}remove(E){const{_finalizers:D}=this;D&&(0,be.P)(D,E),E instanceof ye&&E._removeParent(this)}}ye.EMPTY=(()=>{const y=new ye;return y.closed=!0,y})();const se=ye.EMPTY;function f(y){return y instanceof ye||y&&"closed"in y&&(0,h.m)(y.remove)&&(0,h.m)(y.add)&&(0,h.m)(y.unsubscribe)}function T(y){(0,h.m)(y)?y():y.unsubscribe()}},2416:(Ue,ne,le)=>{"use strict";le.d(ne,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ue,ne,le)=>{"use strict";le.d(ne,{E:()=>ie});const ie=new(le(8306).y)(ye=>ye.complete())},2076:(Ue,ne,le)=>{"use strict";le.d(ne,{D:()=>he});var h=le(8421),ie=le(9672),ge=le(4482),be=le(5403);function ye(Q,Y=0){return(0,ge.e)((te,F)=>{te.subscribe((0,be.x)(F,U=>(0,ie.f)(F,Q,()=>F.next(U),Y),()=>(0,ie.f)(F,Q,()=>F.complete(),Y),U=>(0,ie.f)(F,Q,()=>F.error(U),Y)))})}function se(Q,Y=0){return(0,ge.e)((te,F)=>{F.add(Q.schedule(()=>te.subscribe(F),Y))})}var y=le(8306),D=le(2202),Z=le(576);function _(Q,Y){if(!Q)throw new Error("Iterable cannot be null");return new y.y(te=>{(0,ie.f)(te,Y,()=>{const F=Q[Symbol.asyncIterator]();(0,ie.f)(te,Y,()=>{F.next().then(U=>{U.done?te.complete():te.next(U.value)})},0,!0)})})}var W=le(3670),de=le(8239),B=le(1144),H=le(6495),m=le(2206),v=le(4532),R=le(3260);function he(Q,Y){return Y?function L(Q,Y){if(null!=Q){if((0,W.c)(Q))return function f(Q,Y){return(0,h.Xf)(Q).pipe(se(Y),ye(Y))}(Q,Y);if((0,B.z)(Q))return function E(Q,Y){return new y.y(te=>{let F=0;return Y.schedule(function(){F===Q.length?te.complete():(te.next(Q[F++]),te.closed||this.schedule())})})}(Q,Y);if((0,de.t)(Q))return function T(Q,Y){return(0,h.Xf)(Q).pipe(se(Y),ye(Y))}(Q,Y);if((0,m.D)(Q))return _(Q,Y);if((0,H.T)(Q))return function I(Q,Y){return new y.y(te=>{let F;return(0,ie.f)(te,Y,()=>{F=Q[D.h](),(0,ie.f)(te,Y,()=>{let U,J;try{({value:U,done:J}=F.next())}catch(q){return void te.error(q)}J?te.complete():te.next(U)},0,!0)}),()=>(0,Z.m)(null==F?void 0:F.return)&&F.return()})}(Q,Y);if((0,R.L)(Q))return function O(Q,Y){return _((0,R.Q)(Q),Y)}(Q,Y)}throw(0,v.z)(Q)}(Q,Y):(0,h.Xf)(Q)}},8421:(Ue,ne,le)=>{"use strict";le.d(ne,{Xf:()=>I});var h=le(655),ie=le(1144),ge=le(8239),be=le(8306),ye=le(3670),se=le(2206),f=le(4532),T=le(6495),y=le(3260),E=le(576),D=le(7849),Z=le(8822);function I(R){if(R instanceof be.y)return R;if(null!=R){if((0,ye.c)(R))return function _(R){return new be.y(O=>{const L=R[Z.L]();if((0,E.m)(L.subscribe))return L.subscribe(O);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(R);if((0,ie.z)(R))return function W(R){return new be.y(O=>{for(let L=0;L<R.length&&!O.closed;L++)O.next(R[L]);O.complete()})}(R);if((0,ge.t)(R))return function de(R){return new be.y(O=>{R.then(L=>{O.closed||(O.next(L),O.complete())},L=>O.error(L)).then(null,D.h)})}(R);if((0,se.D)(R))return H(R);if((0,T.T)(R))return function B(R){return new be.y(O=>{for(const L of R)if(O.next(L),O.closed)return;O.complete()})}(R);if((0,y.L)(R))return function m(R){return H((0,y.Q)(R))}(R)}throw(0,f.z)(R)}function H(R){return new be.y(O=>{(function v(R,O){var L,he,Q,Y;return(0,h.mG)(this,void 0,void 0,function*(){try{for(L=(0,h.KL)(R);!(he=yield L.next()).done;)if(O.next(he.value),O.closed)return}catch(te){Q={error:te}}finally{try{he&&!he.done&&(Y=L.return)&&(yield Y.call(L))}finally{if(Q)throw Q.error}}O.complete()})})(R,O).catch(L=>O.error(L))})}},5403:(Ue,ne,le)=>{"use strict";le.d(ne,{x:()=>ie});var h=le(930);function ie(be,ye,se,f,T){return new ge(be,ye,se,f,T)}class ge extends h.Lv{constructor(ye,se,f,T,y,E){super(ye),this.onFinalize=y,this.shouldUnsubscribe=E,this._next=se?function(D){try{se(D)}catch(Z){ye.error(Z)}}:super._next,this._error=T?function(D){try{T(D)}catch(Z){ye.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(D){ye.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},9300:(Ue,ne,le)=>{"use strict";le.d(ne,{h:()=>ge});var h=le(4482),ie=le(5403);function ge(be,ye){return(0,h.e)((se,f)=>{let T=0;se.subscribe((0,ie.x)(f,y=>be.call(ye,y,T++)&&f.next(y)))})}},4004:(Ue,ne,le)=>{"use strict";le.d(ne,{U:()=>ge});var h=le(4482),ie=le(5403);function ge(be,ye){return(0,h.e)((se,f)=>{let T=0;se.subscribe((0,ie.x)(f,y=>{f.next(be.call(ye,y,T++))}))})}},8189:(Ue,ne,le)=>{"use strict";le.d(ne,{J:()=>ge});var h=le(5577),ie=le(4671);function ge(be=1/0){return(0,h.z)(ie.y,be)}},5577:(Ue,ne,le)=>{"use strict";le.d(ne,{z:()=>T});var h=le(4004),ie=le(8421),ge=le(4482),be=le(9672),ye=le(5403),f=le(576);function T(y,E,D=1/0){return(0,f.m)(E)?T((Z,I)=>(0,h.U)((_,W)=>E(Z,_,I,W))((0,ie.Xf)(y(Z,I))),D):("number"==typeof E&&(D=E),(0,ge.e)((Z,I)=>function se(y,E,D,Z,I,_,W,de){const B=[];let H=0,m=0,v=!1;const R=()=>{v&&!B.length&&!H&&E.complete()},O=he=>H<Z?L(he):B.push(he),L=he=>{_&&E.next(he),H++;let Q=!1;(0,ie.Xf)(D(he,m++)).subscribe((0,ye.x)(E,Y=>{null==I||I(Y),_?O(Y):E.next(Y)},()=>{Q=!0},void 0,()=>{if(Q)try{for(H--;B.length&&H<Z;){const Y=B.shift();W?(0,be.f)(E,W,()=>L(Y)):L(Y)}R()}catch(Y){E.error(Y)}}))};return y.subscribe((0,ye.x)(E,O,()=>{v=!0,R()})),()=>{null==de||de()}}(Z,I,y,D)))}},5698:(Ue,ne,le)=>{"use strict";le.d(ne,{q:()=>be});var h=le(515),ie=le(4482),ge=le(5403);function be(ye){return ye<=0?()=>h.E:(0,ie.e)((se,f)=>{let T=0;se.subscribe((0,ge.x)(f,y=>{++T<=ye&&(f.next(y),ye<=T&&f.complete())}))})}},3410:(Ue,ne,le)=>{"use strict";le.d(ne,{z:()=>h});const h={setTimeout(ie,ge,...be){const{delegate:ye}=h;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(ie,ge,...be):setTimeout(ie,ge,...be)},clearTimeout(ie){const{delegate:ge}=h;return((null==ge?void 0:ge.clearTimeout)||clearTimeout)(ie)},delegate:void 0}},2202:(Ue,ne,le)=>{"use strict";le.d(ne,{h:()=>ie});const ie=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ue,ne,le)=>{"use strict";le.d(ne,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ue,ne,le)=>{"use strict";le.d(ne,{_6:()=>se,jO:()=>be,yG:()=>ye});var h=le(576);function ge(f){return f[f.length-1]}function be(f){return(0,h.m)(ge(f))?f.pop():void 0}function ye(f){return function ie(f){return f&&(0,h.m)(f.schedule)}(ge(f))?f.pop():void 0}function se(f,T){return"number"==typeof ge(f)?f.pop():T}},8737:(Ue,ne,le)=>{"use strict";function h(ie,ge){if(ie){const be=ie.indexOf(ge);0<=be&&ie.splice(be,1)}}le.d(ne,{P:()=>h})},3888:(Ue,ne,le)=>{"use strict";function h(ie){const be=ie(ye=>{Error.call(ye),ye.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}le.d(ne,{d:()=>h})},2806:(Ue,ne,le)=>{"use strict";le.d(ne,{O:()=>be,x:()=>ge});var h=le(2416);let ie=null;function ge(ye){if(h.v.useDeprecatedSynchronousErrorHandling){const se=!ie;if(se&&(ie={errorThrown:!1,error:null}),ye(),se){const{errorThrown:f,error:T}=ie;if(ie=null,f)throw T}}else ye()}function be(ye){h.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=ye)}},9672:(Ue,ne,le)=>{"use strict";function h(ie,ge,be,ye=0,se=!1){const f=ge.schedule(function(){be(),se?ie.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(ie.add(f),!se)return f}le.d(ne,{f:()=>h})},4671:(Ue,ne,le)=>{"use strict";function h(ie){return ie}le.d(ne,{y:()=>h})},1144:(Ue,ne,le)=>{"use strict";le.d(ne,{z:()=>h});const h=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(Ue,ne,le)=>{"use strict";le.d(ne,{D:()=>ie});var h=le(576);function ie(ge){return Symbol.asyncIterator&&(0,h.m)(null==ge?void 0:ge[Symbol.asyncIterator])}},576:(Ue,ne,le)=>{"use strict";function h(ie){return"function"==typeof ie}le.d(ne,{m:()=>h})},3670:(Ue,ne,le)=>{"use strict";le.d(ne,{c:()=>ge});var h=le(8822),ie=le(576);function ge(be){return(0,ie.m)(be[h.L])}},6495:(Ue,ne,le)=>{"use strict";le.d(ne,{T:()=>ge});var h=le(2202),ie=le(576);function ge(be){return(0,ie.m)(null==be?void 0:be[h.h])}},8239:(Ue,ne,le)=>{"use strict";le.d(ne,{t:()=>ie});var h=le(576);function ie(ge){return(0,h.m)(null==ge?void 0:ge.then)}},3260:(Ue,ne,le)=>{"use strict";le.d(ne,{L:()=>be,Q:()=>ge});var h=le(655),ie=le(576);function ge(ye){return(0,h.FC)(this,arguments,function*(){const f=ye.getReader();try{for(;;){const{value:T,done:y}=yield(0,h.qq)(f.read());if(y)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(T)}}finally{f.releaseLock()}})}function be(ye){return(0,ie.m)(null==ye?void 0:ye.getReader)}},4482:(Ue,ne,le)=>{"use strict";le.d(ne,{A:()=>ie,e:()=>ge});var h=le(576);function ie(be){return(0,h.m)(null==be?void 0:be.lift)}function ge(be){return ye=>{if(ie(ye))return ye.lift(function(se){try{return be(se,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ue,ne,le)=>{"use strict";le.d(ne,{Z:()=>be});var h=le(4004);const{isArray:ie}=Array;function be(ye){return(0,h.U)(se=>function ge(ye,se){return ie(se)?ye(...se):ye(se)}(ye,se))}},5032:(Ue,ne,le)=>{"use strict";function h(){}le.d(ne,{Z:()=>h})},7849:(Ue,ne,le)=>{"use strict";le.d(ne,{h:()=>ge});var h=le(2416),ie=le(3410);function ge(be){ie.z.setTimeout(()=>{const{onUnhandledError:ye}=h.v;if(!ye)throw be;ye(be)})}},4532:(Ue,ne,le)=>{"use strict";function h(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}le.d(ne,{z:()=>h})},8926:Ue=>{function ne(h,ie,ge,be,ye,se,f){try{var T=h[se](f),y=T.value}catch(E){return void ge(E)}T.done?ie(y):Promise.resolve(y).then(be,ye)}Ue.exports=function le(h){return function(){var ie=this,ge=arguments;return new Promise(function(be,ye){var se=h.apply(ie,ge);function f(y){ne(se,be,ye,f,T,"next",y)}function T(y){ne(se,be,ye,f,T,"throw",y)}f(void 0)})}},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},655:(Ue,ne,le)=>{"use strict";function T(F,U,J,q){return new(J||(J=Promise))(function(k,M){function w(ae){try{V(q.next(ae))}catch(A){M(A)}}function z(ae){try{V(q.throw(ae))}catch(A){M(A)}}function V(ae){ae.done?k(ae.value):function re(k){return k instanceof J?k:new J(function(M){M(k)})}(ae.value).then(w,z)}V((q=q.apply(F,U||[])).next())})}function B(F){return this instanceof B?(this.v=F,this):new B(F)}function H(F,U,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,q=J.apply(F,U||[]),k=[];return re={},M("next"),M("throw"),M("return"),re[Symbol.asyncIterator]=function(){return this},re;function M(K){q[K]&&(re[K]=function(ee){return new Promise(function(me,G){k.push([K,ee,me,G])>1||w(K,ee)})})}function w(K,ee){try{!function z(K){K.value instanceof B?Promise.resolve(K.value.v).then(V,ae):A(k[0][2],K)}(q[K](ee))}catch(me){A(k[0][3],me)}}function V(K){w("next",K)}function ae(K){w("throw",K)}function A(K,ee){K(ee),k.shift(),k.length&&w(k[0][0],k[0][1])}}function v(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,U=F[Symbol.asyncIterator];return U?U.call(F):(F=function Z(F){var U="function"==typeof Symbol&&Symbol.iterator,J=U&&F[U],q=0;if(J)return J.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&q>=F.length&&(F=void 0),{value:F&&F[q++],done:!F}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),J={},q("next"),q("throw"),q("return"),J[Symbol.asyncIterator]=function(){return this},J);function q(k){J[k]=F[k]&&function(M){return new Promise(function(w,z){!function re(k,M,w,z){Promise.resolve(z).then(function(V){k({value:V,done:w})},M)}(w,z,(M=F[k](M)).done,M.value)})}}}le.d(ne,{FC:()=>H,KL:()=>v,mG:()=>T,qq:()=>B})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},9808:(Ue,ne,le)=>{"use strict";le.d(ne,{Do:()=>R,EM:()=>mr,HT:()=>ye,JF:()=>Fr,K0:()=>f,Mx:()=>Yt,S$:()=>B,V_:()=>E,Ye:()=>O,b0:()=>v,bD:()=>os,ez:()=>vi,lw:()=>T,mr:()=>m,q:()=>ge,w_:()=>se});var h=le(1223);let ie=null;function ge(){return ie}function ye(P){ie||(ie=P)}class se{}const f=new h.OlP("DocumentToken");let T=(()=>{class P{historyGo(x){throw new Error("Not implemented")}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=h.Yz7({token:P,factory:function(){return function y(){return(0,h.LFG)(D)}()},providedIn:"platform"}),P})();const E=new h.OlP("Location Initialized");let D=(()=>{class P extends T{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(x){const ce=ge().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",x,!1),()=>ce.removeEventListener("popstate",x)}onHashChange(x){const ce=ge().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",x,!1),()=>ce.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,ce,Se){Z()?this._history.pushState(x,ce,Se):this.location.hash=Se}replaceState(x,ce,Se){Z()?this._history.replaceState(x,ce,Se):this.location.hash=Se}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return P.\u0275fac=function(x){return new(x||P)(h.LFG(f))},P.\u0275prov=h.Yz7({token:P,factory:function(){return function I(){return new D((0,h.LFG)(f))}()},providedIn:"platform"}),P})();function Z(){return!!window.history.pushState}function _(P,oe){if(0==P.length)return oe;if(0==oe.length)return P;let x=0;return P.endsWith("/")&&x++,oe.startsWith("/")&&x++,2==x?P+oe.substring(1):1==x?P+oe:P+"/"+oe}function W(P){const oe=P.match(/#|\?|$/),x=oe&&oe.index||P.length;return P.slice(0,x-("/"===P[x-1]?1:0))+P.slice(x)}function de(P){return P&&"?"!==P[0]?"?"+P:P}let B=(()=>{class P{historyGo(x){throw new Error("Not implemented")}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=h.Yz7({token:P,factory:function(){return function H(P){const oe=(0,h.LFG)(f).location;return new v((0,h.LFG)(T),oe&&oe.origin||"")}()},providedIn:"root"}),P})();const m=new h.OlP("appBaseHref");let v=(()=>{class P extends B{constructor(x,ce){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return _(this._baseHref,x)}path(x=!1){const ce=this._platformLocation.pathname+de(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&x?`${ce}${Se}`:ce}pushState(x,ce,Se,$e){const Ke=this.prepareExternalUrl(Se+de($e));this._platformLocation.pushState(x,ce,Ke)}replaceState(x,ce,Se,$e){const Ke=this.prepareExternalUrl(Se+de($e));this._platformLocation.replaceState(x,ce,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var ce,Se;null===(Se=(ce=this._platformLocation).historyGo)||void 0===Se||Se.call(ce,x)}}return P.\u0275fac=function(x){return new(x||P)(h.LFG(T),h.LFG(m,8))},P.\u0275prov=h.Yz7({token:P,factory:P.\u0275fac}),P})(),R=(()=>{class P extends B{constructor(x,ce){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(x){const ce=_(this._baseHref,x);return ce.length>0?"#"+ce:ce}pushState(x,ce,Se,$e){let Ke=this.prepareExternalUrl(Se+de($e));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.pushState(x,ce,Ke)}replaceState(x,ce,Se,$e){let Ke=this.prepareExternalUrl(Se+de($e));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.replaceState(x,ce,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var ce,Se;null===(Se=(ce=this._platformLocation).historyGo)||void 0===Se||Se.call(ce,x)}}return P.\u0275fac=function(x){return new(x||P)(h.LFG(T),h.LFG(m,8))},P.\u0275prov=h.Yz7({token:P,factory:P.\u0275fac}),P})(),O=(()=>{class P{constructor(x,ce){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const Se=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=W(Q(Se)),this._platformStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,ce=""){return this.path()==this.normalize(x+de(ce))}normalize(x){return P.stripTrailingSlash(function he(P,oe){return P&&oe.startsWith(P)?oe.substring(P.length):oe}(this._baseHref,Q(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,ce="",Se=null){this._platformStrategy.pushState(Se,"",x,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+de(ce)),Se)}replaceState(x,ce="",Se=null){this._platformStrategy.replaceState(Se,"",x,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+de(ce)),Se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var ce,Se;null===(Se=(ce=this._platformStrategy).historyGo)||void 0===Se||Se.call(ce,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(x="",ce){this._urlChangeListeners.forEach(Se=>Se(x,ce))}subscribe(x,ce,Se){return this._subject.subscribe({next:x,error:ce,complete:Se})}}return P.normalizeQueryParams=de,P.joinWithSlash=_,P.stripTrailingSlash=W,P.\u0275fac=function(x){return new(x||P)(h.LFG(B),h.LFG(T))},P.\u0275prov=h.Yz7({token:P,factory:function(){return function L(){return new O((0,h.LFG)(B),(0,h.LFG)(T))}()},providedIn:"root"}),P})();function Q(P){return P.replace(/\/index.html$/,"")}function Yt(P,oe){oe=encodeURIComponent(oe);for(const x of P.split(";")){const ce=x.indexOf("="),[Se,$e]=-1==ce?[x,""]:[x.slice(0,ce),x.slice(ce+1)];if(Se.trim()===oe)return decodeURIComponent($e)}return null}let vi=(()=>{class P{}return P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=h.oAB({type:P}),P.\u0275inj=h.cJS({}),P})();const os="browser";let mr=(()=>{class P{}return P.\u0275prov=(0,h.Yz7)({token:P,providedIn:"root",factory:()=>new Ci((0,h.LFG)(f),window)}),P})();class Ci{constructor(oe,x){this.document=oe,this.window=x,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const x=function Ms(P,oe){const x=P.getElementById(oe)||P.getElementsByName(oe)[0];if(x)return x;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const ce=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Se=ce.currentNode;for(;Se;){const $e=Se.shadowRoot;if($e){const Ke=$e.getElementById(oe)||$e.querySelector(`[name="${oe}"]`);if(Ke)return Ke}Se=ce.nextNode()}}return null}(this.document,oe);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(oe){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=oe)}}scrollToElement(oe){const x=oe.getBoundingClientRect(),ce=x.left+this.window.pageXOffset,Se=x.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(ce-$e[0],Se-$e[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const oe=Or(this.window.history)||Or(Object.getPrototypeOf(this.window.history));return!(!oe||!oe.writable&&!oe.set)}catch(oe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(oe){return!1}}}function Or(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Fr{}},1223:(Ue,ne,le)=>{"use strict";le.d(ne,{deG:()=>Gs,tb:()=>mg,AFp:()=>fg,ip1:()=>hg,CZH:()=>sc,hGG:()=>uC,z2F:()=>fc,sBO:()=>qA,Sil:()=>DA,_Vd:()=>sl,EJc:()=>SA,SBq:()=>ba,qLn:()=>Na,vpe:()=>zi,tBr:()=>Ia,XFs:()=>et,OlP:()=>gn,zs3:()=>Ui,ZZ4:()=>vc,aQg:()=>bc,soG:()=>ac,YKP:()=>Mp,h0i:()=>Bo,PXZ:()=>VA,R0b:()=>mi,FiY:()=>ea,Lbi:()=>AA,g9A:()=>gg,Qsj:()=>pb,FYo:()=>wp,JOm:()=>Vi,tp0:()=>ta,Rgc:()=>Sa,dDg:()=>vg,GfV:()=>Dp,s_b:()=>ll,ifc:()=>Be,eFA:()=>Cg,G48:()=>WA,_c5:()=>lC,VLi:()=>kA,c2e:()=>CA,zSh:()=>pu,wAp:()=>St,vHH:()=>he,cg1:()=>ku,kL8:()=>Qf,dqk:()=>Rt,sIi:()=>ha,CqO:()=>ef,QGY:()=>Iu,F4k:()=>Jh,RDi:()=>$e,AaK:()=>B,TTD:()=>Ai,xp6:()=>Fd,uIk:()=>Au,Suo:()=>zp,Xpm:()=>ve,lG2:()=>tr,Yz7:()=>He,cJS:()=>N,oAB:()=>rn,Yjl:()=>xt,Y36:()=>pa,_UZ:()=>Tu,qZA:()=>Xa,TgZ:()=>Qa,LFG:()=>er,$8M:()=>ln,$Z:()=>Xh,NdJ:()=>Ru,CRH:()=>Wp,Q6J:()=>Du,iGM:()=>$p,Jf7:()=>ld,LSH:()=>Ml,_uU:()=>Mf,hij:()=>Ja,Gf:()=>Gp});var h=le(8189),ie=le(8421),ge=le(515),be=le(7669),ye=le(2076),f=le(7579),T=le(727),y=le(8306),E=le(5698),D=le(930),Z=le(4482);function _(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe((0,E.q)(1)).subscribe(()=>e())}function W(e){for(let t in e)if(e[t]===W)return t;throw Error("Could not find renamed property on target object.")}function B(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(B).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function H(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const m=W({__forward_ref__:W});function v(e){return e.__forward_ref__=v,e.toString=function(){return B(this())},e}function R(e){return function O(e){return"function"==typeof e&&e.hasOwnProperty(m)&&e.__forward_ref__===v}(e)?e():e}class he extends Error{constructor(t,n){super(function Q(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Y(e){return"string"==typeof e?e:null==e?"":String(e)}function te(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Y(e)}function q(e,t){const n=t?` in ${t}`:"";throw new he(-201,`No provider for ${te(e)} found${n}`)}function we(e,t){null==e&&function De(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function He(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function N(e){return{providers:e.providers||[],imports:e.imports||[]}}function fe(e){return xe(e,Xe)||xe(e,mt)}function xe(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ve(e){return e&&(e.hasOwnProperty(Je)||e.hasOwnProperty(_t))?e[Je]:null}const Xe=W({\u0275prov:W}),Je=W({\u0275inj:W}),mt=W({ngInjectableDef:W}),_t=W({ngInjectorDef:W});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let yt;function nt(e){const t=yt;return yt=e,t}function Ft(e,t,n){const r=fe(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&et.Optional?null:void 0!==t?t:void q(B(e),"Injector")}function Lt(e){return{toString:e}.toString()}var ke=(()=>((ke=ke||{})[ke.OnPush=0]="OnPush",ke[ke.Default=1]="Default",ke))(),Be=(()=>{return(e=Be||(Be={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Be;var e})();const ft="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,lt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt=ft||"undefined"!=typeof global&&global||ct||lt,zt={},Pt=[],En=W({\u0275cmp:W}),Ut=W({\u0275dir:W}),br=W({\u0275pipe:W}),Wt=W({\u0275mod:W}),tn=W({\u0275fac:W}),Le=W({__NG_ELEMENT_ID__:W});let Pe=0;function ve(e){return Lt(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Pt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Be.Emulated,id:"c",styles:e.styles||Pt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,l=e.features,d=e.pipes;return r.id+=Pe++,r.inputs=Ar(e.inputs,n),r.outputs=Ar(e.outputs),l&&l.forEach(g=>g(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(qe):null,r.pipeDefs=d?()=>("function"==typeof d?d():d).map(bt):null,r})}function qe(e){return an(e)||function nr(e){return e[Ut]||null}(e)}function bt(e){return function kn(e){return e[br]||null}(e)}const Ot={};function rn(e){return Lt(()=>{const t={type:e.type,bootstrap:e.bootstrap||Pt,declarations:e.declarations||Pt,imports:e.imports||Pt,exports:e.exports||Pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ot[e.id]=e.type),t})}function Ar(e,t){if(null==e)return zt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),n[s]=r,t&&(t[s]=l)}return n}const tr=ve;function xt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function an(e){return e[En]||null}function zn(e,t){const n=e[Wt]||null;if(!n&&!0===t)throw new Error(`Type ${B(e)} does not have '\u0275mod' property.`);return n}function sn(e){return Array.isArray(e)&&"object"==typeof e[1]}function ir(e){return Array.isArray(e)&&!0===e[1]}function xr(e){return 0!=(8&e.flags)}function Ir(e){return 2==(2&e.flags)}function Xr(e){return 1==(1&e.flags)}function Vn(e){return null!==e.template}function Wi(e){return 0!=(512&e[2])}function Qn(e,t){return e.hasOwnProperty(tn)?e[tn]:null}class Ps{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ai(){return Ts}function Ts(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rr),as}function as(){const e=mr(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===zt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Rr(e,t,n,r){const s=mr(e)||function Ci(e,t){return e[jn]=t}(e,{previous:zt,current:null}),l=s.current||(s.current={}),d=s.previous,g=this.declaredInputs[n],b=d[g];l[g]=new Ps(b&&b.currentValue,t,d===zt),e[r]=t}Ai.ngInherit=!0;const jn="__ngSimpleChanges__";function mr(e){return e[jn]||null}let Se;function $e(e){Se=e}function Et(e){return!!e.listen}const $t={createRenderer:(e,t)=>function Ke(){return void 0!==Se?Se:"undefined"!=typeof document?document:void 0}()};function gt(e){for(;Array.isArray(e);)e=e[0];return e}function Dn(e,t){return gt(t[e.index])}function ei(e,t){return e.data[t]}function Sn(e,t){const n=t[e];return sn(n)?n:n[0]}function Zn(e){return 4==(4&e[2])}function kr(e){return 128==(128&e[2])}function sr(e,t){return null==t?null:e[t]}function Si(e){e[18]=0}function ls(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const wt={lFrame:hs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ai(){return wt.bindingsEnabled}function Ye(){return wt.lFrame.lView}function Bt(){return wt.lFrame.tView}function fn(){let e=us();for(;null!==e&&64===e.type;)e=e.parent;return e}function us(){return wt.lFrame.currentTNode}function Er(e,t){const n=wt.lFrame;n.currentTNode=e,n.isParent=t}function Rs(){return wt.lFrame.isParent}function Ki(){return wt.isInCheckNoChangesMode}function cs(e){wt.isInCheckNoChangesMode=e}function wi(){return wt.lFrame.bindingIndex++}function eo(e,t){const n=wt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qi(t)}function Qi(e){wt.lFrame.currentDirectiveIndex=e}function Ls(){return wt.lFrame.currentQueryIndex}function to(e){wt.lFrame.currentQueryIndex=e}function no(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ds(e,t,n){if(n&et.SkipSelf){let s=t,l=e;for(;!(s=s.parent,null!==s||n&et.Host||(s=no(l),null===s||(l=l[15],10&s.type))););if(null===s)return!1;t=s,e=l}const r=wt.lFrame=qn();return r.currentTNode=t,r.lView=e,!0}function Xi(e){const t=qn(),n=e[1];wt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qn(){const e=wt.lFrame,t=null===e?null:e.child;return null===t?hs(e):t}function hs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Di(){const e=wt.lFrame;return wt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const fs=Di;function ps(){const e=Di();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Mn(){return wt.lFrame.selectedIndex}function ni(e){wt.lFrame.selectedIndex=e}function nn(){const e=wt.lFrame;return ei(e.tView,e.selectedIndex)}function ms(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:g,ngAfterViewInit:b,ngAfterViewChecked:j,ngOnDestroy:X}=l;d&&(e.contentHooks||(e.contentHooks=[])).push(-n,d),g&&((e.contentHooks||(e.contentHooks=[])).push(n,g),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,g)),b&&(e.viewHooks||(e.viewHooks=[])).push(-n,b),j&&((e.viewHooks||(e.viewHooks=[])).push(n,j),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,j)),null!=X&&(e.destroyHooks||(e.destroyHooks=[])).push(n,X)}}function Zi(e,t,n){On(e,t,3,n)}function Ji(e,t,n,r){(3&e[2])===n&&On(e,t,n,r)}function Bs(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function On(e,t,n,r){const l=null!=r?r:-1,d=t.length-1;let g=0;for(let b=void 0!==r?65535&e[18]:0;b<d;b++)if("number"==typeof t[b+1]){if(g=t[b],null!=r&&g>=r)break}else t[b]<0&&(e[18]+=65536),(g<l||-1==l)&&(ys(e,n,t,b),e[18]=(4294901760&e[18])+b+2),b++}function ys(e,t,n,r){const s=n[r]<0,l=n[r+1],g=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{l.call(g)}finally{}}}else try{l.call(g)}finally{}}class ui{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Vr(e,t,n){const r=Et(e);let s=0;for(;s<n.length;){const l=n[s];if("number"==typeof l){if(0!==l)break;s++;const d=n[s++],g=n[s++],b=n[s++];r?e.setAttribute(t,g,b,d):t.setAttributeNS(d,g,b)}else{const d=l,g=n[++s];jr(d)?r&&e.setProperty(t,d,g):r?e.setAttribute(t,d,g):t.setAttribute(d,g),s++}}return s}function ao(e){return 3===e||4===e||6===e}function jr(e){return 64===e.charCodeAt(0)}function Ii(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||lo(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function lo(e,t,n,r,s){let l=0,d=e.length;if(-1===t)d=-1;else for(;l<e.length;){const g=e[l++];if("number"==typeof g){if(g===t){d=-1;break}if(g>t){d=l-1;break}}}for(;l<e.length;){const g=e[l];if("number"==typeof g)break;if(g===n){if(null===r)return void(null!==s&&(e[l+1]=s));if(r===e[l+1])return void(e[l+2]=s)}l++,null!==r&&l++,null!==s&&l++}-1!==d&&(e.splice(d,0,t),l=d+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==s&&e.splice(l++,0,s)}function uo(e){return-1!==e}function Ri(e){return 32767&e}function Oi(e,t){let n=function Ko(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let js=!0;function Fi(e){const t=js;return js=e,t}let Hs=0;function es(e,t){const n=S(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,$s(r.data,e),$s(t,null),$s(r.blueprint,null));const s=u(e,t),l=e.injectorIndex;if(uo(s)){const d=Ri(s),g=Oi(s,t),b=g[1].data;for(let j=0;j<8;j++)t[l+j]=g[d+j]|b[d+j]}return t[l+8]=s,l}function $s(e,t){e.push(0,0,0,0,0,0,0,0,t)}function S(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function u(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){const l=s[1],d=l.type;if(r=2===d?l.declTNode:1===d?s[6]:null,null===r)return-1;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function i(e,t,n){!function Pa(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Le)&&(r=n[Le]),null==r&&(r=n[Le]=Hs++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function a(e,t,n){if(n&et.Optional)return e;q(t,"NodeInjector")}function c(e,t,n,r){if(n&et.Optional&&void 0===r&&(r=null),0==(n&(et.Self|et.Host))){const s=e[9],l=nt(void 0);try{return s?s.get(t,r,n&et.Optional):Ft(t,r,n&et.Optional)}finally{nt(l)}}return a(r,t,n)}function p(e,t,n,r=et.Default,s){if(null!==e){const l=function rt(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Le)?e[Le]:void 0;return"number"==typeof t?t>=0?255&t:$:t}(n);if("function"==typeof l){if(!ds(t,e,r))return r&et.Host?a(s,n,r):c(t,n,r,s);try{const d=l(r);if(null!=d||r&et.Optional)return d;q(n)}finally{fs()}}else if("number"==typeof l){let d=null,g=S(e,t),b=-1,j=r&et.Host?t[16][6]:null;for((-1===g||r&et.SkipSelf)&&(b=-1===g?u(e,t):t[g+8],-1!==b&&it(r,!1)?(d=t[1],g=Ri(b),t=Oi(b,t)):g=-1);-1!==g;){const X=t[1];if(Qe(l,g,X.data)){const pe=ue(g,t,n,d,r,j);if(pe!==C)return pe}b=t[g+8],-1!==b&&it(r,t[1].data[g+8]===j)&&Qe(l,g,t)?(d=X,g=Ri(b),t=Oi(b,t)):g=-1}}}return c(t,n,r,s)}const C={};function $(){return new at(fn(),Ye())}function ue(e,t,n,r,s,l){const d=t[1],g=d.data[e+8],X=Ce(g,d,n,null==r?Ir(g)&&js:r!=d&&0!=(3&g.type),s&et.Host&&l===g);return null!==X?je(t,d,X,g):C}function Ce(e,t,n,r,s){const l=e.providerIndexes,d=t.data,g=1048575&l,b=e.directiveStart,X=l>>20,Ee=s?g+X:e.directiveEnd;for(let Oe=r?g:g+X;Oe<Ee;Oe++){const Ge=d[Oe];if(Oe<b&&n===Ge||Oe>=b&&Ge.type===n)return Oe}if(s){const Oe=d[b];if(Oe&&Vn(Oe)&&Oe.type===n)return b}return null}function je(e,t,n,r){let s=e[n];const l=t.data;if(function Ti(e){return e instanceof ui}(s)){const d=s;d.resolving&&function F(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new he(-200,`Circular dependency in DI detected for ${e}${n}`)}(te(l[n]));const g=Fi(d.canSeeViewProviders);d.resolving=!0;const b=d.injectImpl?nt(d.injectImpl):null;ds(e,r,et.Default);try{s=e[n]=d.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Pi(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(r){const d=Ts(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}(n,l[n],t)}finally{null!==b&&nt(b),Fi(g),d.resolving=!1,fs()}}return s}function Qe(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function it(e,t){return!(e&et.Self||e&et.Host&&t)}class at{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return p(this._tNode,this._lView,t,r,n)}}function ln(e){return function o(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const l=n[s];if(ao(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(l===t)return n[s+1];s+=2}}}return null}(fn(),e)}const Zt="__parameters__";function ar(e,t,n){return Lt(()=>{const r=function Hn(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...l){if(this instanceof s)return r.apply(this,l),this;const d=new s(...l);return g.annotation=d,g;function g(b,j,X){const pe=b.hasOwnProperty(Zt)?b[Zt]:Object.defineProperty(b,Zt,{value:[]})[Zt];for(;pe.length<=X;)pe.push(null);return(pe[X]=pe[X]||[]).push(d),b}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class gn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=He({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gs=new gn("AnalyzeForEntryComponents");function Dr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Dr(r,t)):t!==e&&t.push(r)}return t}function un(e,t){e.forEach(n=>Array.isArray(n)?un(n,t):t(n))}function ki(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Hr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Xo={},bl="__NG_DI_FLAG__",xa="ngTempTokenPath",Qg=/\n/gm,Nc="__source",Zg=W({provide:String,useValue:W});let Zo;function Bc(e){const t=Zo;return Zo=e,t}function Jg(e,t=et.Default){if(void 0===Zo)throw new he(203,"");return null===Zo?Ft(e,void 0,t):Zo.get(e,t&et.Optional?null:void 0,t)}function er(e,t=et.Default){return(function ut(){return yt}()||Jg)(R(e),t)}const em=er;function Al(e){const t=[];for(let n=0;n<e.length;n++){const r=R(e[n]);if(Array.isArray(r)){if(0===r.length)throw new he(900,"");let s,l=et.Default;for(let d=0;d<r.length;d++){const g=r[d],b=tm(g);"number"==typeof b?-1===b?s=g.token:l|=b:s=g}t.push(er(s,l))}else t.push(er(r))}return t}function Jo(e,t){return e[bl]=t,e.prototype[bl]=t,e}function tm(e){return e[bl]}const Ia=Jo(ar("Inject",e=>({token:e})),-1),ea=Jo(ar("Optional"),8),ta=Jo(ar("SkipSelf"),4);class qc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Em=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Ml(e){const t=function sa(){const e=Ye();return e&&e[12]}();return t?t.sanitize(Fn.URL,e)||"":function ra(e,t){const n=function vm(e){return e instanceof qc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?function vs(e){return e instanceof qc?e.changingThisBreaksApplicationSecurity:e}(e):function La(e){return(e=String(e)).match(Em)||e.match(Sm)?e:"unsafe:"+e}(Y(e))}const rd="__ngContext__";function lr(e,t){e[rd]=t}function Il(e){const t=function oa(e){return e[rd]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ol(e){return e.ngOriginalError}function qm(e,...t){e.error(...t)}class Na{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function Wm(e){return e&&e.ngErrorLogger||qm}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ol(t);for(;n&&Ol(n);)n=Ol(n);return n||null}}const ry=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt))();function ld(e){return e.ownerDocument.defaultView}function Bi(e){return e instanceof Function?e():e}var Vi=(()=>((Vi=Vi||{})[Vi.Important=1]="Important",Vi[Vi.DashCase=2]="DashCase",Vi))();function Ll(e,t){return undefined(e,t)}function aa(e){const t=e[3];return ir(t)?t[3]:t}function kl(e){return fd(e[13])}function Nl(e){return fd(e[4])}function fd(e){for(;null!==e&&!ir(e);)e=e[4];return e}function yo(e,t,n,r,s){if(null!=r){let l,d=!1;ir(r)?l=r:sn(r)&&(d=!0,r=r[0]);const g=gt(r);0===e&&null!==n?null==s?vd(t,n,g):zs(t,n,g,s||null,!0):1===e&&null!==n?zs(t,n,g,s||null,!0):2===e?function Dd(e,t,n){const r=Ba(e,t);r&&function my(e,t,n,r){Et(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,g,d):3===e&&t.destroyNode(g),null!=l&&function vy(e,t,n,r,s){const l=n[7];l!==gt(n)&&yo(t,e,r,l,s);for(let g=10;g<n.length;g++){const b=n[g];la(b[1],b,e,t,r,l)}}(t,e,l,n,s)}}function Vl(e,t,n){if(Et(e))return e.createElement(t,n);{const r=null!==n?function ce(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function gd(e,t){const n=e[9],r=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,ls(s,-1)),n.splice(r,1)}function jl(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&gd(s,r),t>0&&(e[n-1][4]=r[4]);const l=Hr(e,10+t);!function ly(e,t){la(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const d=l[19];null!==d&&d.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function md(e,t){if(!(256&t[2])){const n=t[11];Et(n)&&n.destroyNode&&la(e,t,n,3,null,null),function dy(e){let t=e[13];if(!t)return Ul(e[1],e);for(;t;){let n=null;if(sn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)sn(t)&&Ul(t[1],t),t=t[3];null===t&&(t=e),sn(t)&&Ul(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ul(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function gy(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof ui)){const l=n[r+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){const g=s[l[d]],b=l[d+1];try{b.call(g)}finally{}}else try{l.call(s)}finally{}}}}(e,t),function py(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const d=n[l+1],g="function"==typeof d?d(t):gt(t[d]),b=r[s=n[l+2]],j=n[l+3];"boolean"==typeof j?g.removeEventListener(n[l],b,j):j>=0?r[s=j]():r[s=-j].unsubscribe(),l+=2}else{const d=r[s=n[l+1]];n[l].call(d)}if(null!==r){for(let l=s+1;l<r.length;l++)r[l]();t[7]=null}}(e,t),1===t[1].type&&Et(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ir(t[3])){n!==t[3]&&gd(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function yd(e,t,n){return function _d(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===Be.None||s===Be.Emulated)return null}return Dn(r,n)}(e,t.parent,n)}function zs(e,t,n,r,s){Et(e)?e.insertBefore(t,n,r,s):t.insertBefore(n,r,s)}function vd(e,t,n){Et(e)?e.appendChild(t,n):t.appendChild(n)}function bd(e,t,n,r,s){null!==r?zs(e,t,n,r,s):vd(e,t,n)}function Ba(e,t){return Et(e)?e.parentNode(t):t.parentNode}let Ed=function Cd(e,t,n){return 40&e.type?Dn(e,n):null};function Va(e,t,n,r){const s=yd(e,r,t),l=t[11],g=function Ad(e,t,n){return Ed(e,t,n)}(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let b=0;b<n.length;b++)bd(l,s,n[b],g,!1);else bd(l,s,n,g,!1)}function ja(e,t){if(null!==t){const n=t.type;if(3&n)return Dn(t,e);if(4&n)return $l(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ja(e,r);{const s=e[t.index];return ir(s)?$l(-1,s):gt(s)}}if(32&n)return Ll(t,e)()||gt(e[t.index]);{const r=wd(e,t);return null!==r?Array.isArray(r)?r[0]:ja(aa(e[16]),r):ja(e,t.next)}}return null}function wd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function $l(e,t){const n=10+e+1;if(n<t.length){const r=t[n],s=r[1].firstChild;if(null!==s)return ja(r,s)}return t[7]}function Gl(e,t,n,r,s,l,d){for(;null!=n;){const g=r[n.index],b=n.type;if(d&&0===t&&(g&&lr(gt(g),r),n.flags|=4),64!=(64&n.flags))if(8&b)Gl(e,t,n.child,r,s,l,!1),yo(t,e,s,g,l);else if(32&b){const j=Ll(n,r);let X;for(;X=j();)yo(t,e,s,X,l);yo(t,e,s,g,l)}else 16&b?Pd(e,t,r,n,s,l):yo(t,e,s,g,l);n=d?n.projectionNext:n.next}}function la(e,t,n,r,s,l){Gl(n,r,e.firstChild,t,s,l,!1)}function Pd(e,t,n,r,s,l){const d=n[16],b=d[6].projection[r.projection];if(Array.isArray(b))for(let j=0;j<b.length;j++)yo(t,e,s,b[j],l);else Gl(e,t,b,d[3],s,l,!0)}function Td(e,t,n){Et(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function zl(e,t,n){Et(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Md(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=t.length;if(s+l===r||e.charCodeAt(s+l)<=32)return s}n=s+1}}const xd="ng-template";function Ay(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==Md(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Id(e){return 4===e.type&&e.value!==xd}function Cy(e,t,n){return t===(4!==e.type||n?e.value:xd)}function Ey(e,t,n){let r=4;const s=e.attrs||[],l=function Dy(e){for(let t=0;t<e.length;t++)if(ao(e[t]))return t;return e.length}(s);let d=!1;for(let g=0;g<t.length;g++){const b=t[g];if("number"!=typeof b){if(!d)if(4&r){if(r=2|1&r,""!==b&&!Cy(e,b,n)||""===b&&1===t.length){if(di(r))return!1;d=!0}}else{const j=8&r?b:t[++g];if(8&r&&null!==e.attrs){if(!Ay(e.attrs,j,n)){if(di(r))return!1;d=!0}continue}const pe=Sy(8&r?"class":b,s,Id(e),n);if(-1===pe){if(di(r))return!1;d=!0;continue}if(""!==j){let Ee;Ee=pe>l?"":s[pe+1].toLowerCase();const Oe=8&r?Ee:null;if(Oe&&-1!==Md(Oe,j,0)||2&r&&j!==Ee){if(di(r))return!1;d=!0}}}}else{if(!d&&!di(r)&&!di(b))return!1;if(d&&di(b))continue;d=!1,r=b|1&r}}return di(r)||d}function di(e){return 0==(1&e)}function Sy(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let l=!1;for(;s<t.length;){const d=t[s];if(d===e)return s;if(3===d||6===d)l=!0;else{if(1===d||2===d){let g=t[++s];for(;"string"==typeof g;)g=t[++s];continue}if(4===d)break;if(0===d){s+=4;continue}}s+=l?1:2}return-1}return function Py(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Rd(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ey(e,t[r],n))return!0;return!1}function Od(e,t){return e?":not("+t.trim()+")":t}function My(e){let t=e[0],n=1,r=2,s="",l=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const g=e[++n];s+="["+d+(g.length>0?'="'+g+'"':"")+"]"}else 8&r?s+="."+d:4&r&&(s+=" "+d);else""!==s&&!di(d)&&(t+=Od(l,s),s=""),r=d,l=l||!di(r);n++}return""!==s&&(t+=Od(l,s)),t}const It={};function Fd(e){Ld(Bt(),Ye(),Mn()+e,Ki())}function Ld(e,t,n,r){if(!r)if(3==(3&t[2])){const l=e.preOrderCheckHooks;null!==l&&Zi(t,l,n)}else{const l=e.preOrderHooks;null!==l&&Ji(t,l,0,n)}ni(n)}function Wd(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],l=n[r+1];if(-1!==l){const d=e.data[l];to(s),d.contentQueries(2,t[l],l)}}}function ua(e,t,n,r,s,l,d,g,b,j){const X=t.blueprint.slice();return X[0]=s,X[2]=140|r,Si(X),X[3]=X[15]=e,X[8]=n,X[10]=d||e&&e[10],X[11]=g||e&&e[11],X[12]=b||e&&e[12]||null,X[9]=j||e&&e[9]||null,X[6]=l,X[16]=2==t.type?e[16]:X,X}function _o(e,t,n,r,s){let l=e.data[t];if(null===l)l=function ru(e,t,n,r,s){const l=us(),d=Rs(),b=e.data[t]=function qy(e,t,n,r,s,l){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?l:l&&l.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=b),null!==l&&(d?null==l.child&&null!==b.parent&&(l.child=b):null===l.next&&(l.next=b)),b}(e,t,n,r,s),function Zs(){return wt.lFrame.inI18n}()&&(l.flags|=64);else if(64&l.type){l.type=n,l.value=r,l.attrs=s;const d=function ti(){const e=wt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===d?-1:d.injectorIndex}return Er(l,!0),l}function vo(e,t,n,r){if(0===n)return-1;const s=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function ca(e,t,n){Xi(t);try{const r=e.viewQuery;null!==r&&hu(1,r,n);const s=e.template;null!==s&&qd(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Wd(e,t),e.staticViewQueries&&hu(2,e.viewQuery,n);const l=e.components;null!==l&&function Gy(e,t){for(let n=0;n<t.length;n++)d_(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,ps()}}function bo(e,t,n,r){const s=t[2];if(256==(256&s))return;Xi(t);const l=Ki();try{Si(t),function Xs(e){return wt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&qd(e,t,n,2,r);const d=3==(3&s);if(!l)if(d){const j=e.preOrderCheckHooks;null!==j&&Zi(t,j,null)}else{const j=e.preOrderHooks;null!==j&&Ji(t,j,0,null),Bs(t,0)}if(function u_(e){for(let t=kl(e);null!==t;t=Nl(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const s=n[r],l=s[3];0==(1024&s[2])&&ls(l,1),s[2]|=1024}}}(t),function l_(e){for(let t=kl(e);null!==t;t=Nl(t))for(let n=10;n<t.length;n++){const r=t[n],s=r[1];kr(r)&&bo(s,r,s.template,r[8])}}(t),null!==e.contentQueries&&Wd(e,t),!l)if(d){const j=e.contentCheckHooks;null!==j&&Zi(t,j)}else{const j=e.contentHooks;null!==j&&Ji(t,j,1),Bs(t,1)}!function Hy(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)ni(~s);else{const l=s,d=n[++r],g=n[++r];eo(d,l),g(2,t[l])}}}finally{ni(-1)}}(e,t);const g=e.components;null!==g&&function $y(e,t){for(let n=0;n<t.length;n++)c_(e,t[n])}(t,g);const b=e.viewQuery;if(null!==b&&hu(2,b,r),!l)if(d){const j=e.viewCheckHooks;null!==j&&Zi(t,j)}else{const j=e.viewHooks;null!==j&&Ji(t,j,2),Bs(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ls(t[3],-1))}finally{ps()}}function zy(e,t,n,r){const s=t[10],l=!Ki(),d=Zn(t);try{l&&!d&&s.begin&&s.begin(),d&&ca(e,t,r),bo(e,t,n,r)}finally{l&&!d&&s.end&&s.end()}}function qd(e,t,n,r,s){const l=Mn(),d=2&r;try{ni(-1),d&&t.length>20&&Ld(e,t,20,Ki()),n(r,s)}finally{ni(l)}}function Kd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ga(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ga(e,t,n,r,s,l,d,g,b,j){const X=20+r,pe=X+s,Ee=function Wy(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:It);return n}(X,pe),Oe="function"==typeof j?j():j;return Ee[1]={type:e,blueprint:Ee,template:n,queries:null,viewQuery:g,declTNode:t,data:Ee.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:b,consts:Oe,incompleteFirstPass:!1}}function Zd(e,t,n,r){const s=lh(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&uh(e).push(r,s.length-1))}function Jd(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function th(e,t,n,r,s,l){const d=l.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const b=~t.index;(function Jy(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=b&&g.push(b),g.push(r,s,d)}}function nh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function rh(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function i_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Vn(t)&&(n[""]=e)}}function ih(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function sh(e,t,n,r,s){e.data[r]=s;const l=s.factory||(s.factory=Qn(s.type)),d=new ui(l,Vn(s),null);e.blueprint[r]=d,n[r]=d,th(e,t,0,r,vo(e,n,s.hostVars,It),s)}function s_(e,t,n){const r=Dn(t,e),s=Kd(n),l=e[10],d=za(e,ua(e,s,null,n.onPush?64:16,r,t,l,l.createRenderer(r,n),null,null));e[t.index]=d}function ji(e,t,n,r,s,l){const d=Dn(e,t);!function au(e,t,n,r,s,l,d){if(null==l)Et(e)?e.removeAttribute(t,s,n):t.removeAttribute(s);else{const g=null==d?Y(l):d(l,r||"",s);Et(e)?e.setAttribute(t,s,g,n):n?t.setAttributeNS(n,s,g):t.setAttribute(s,g)}}(t[11],d,l,e.value,n,r,s)}function o_(e,t,n,r,s,l){const d=l[t];if(null!==d){const g=r.setInput;for(let b=0;b<d.length;){const j=d[b++],X=d[b++],pe=d[b++];null!==g?r.setInput(n,pe,j,X):n[X]=pe}}}function a_(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function c_(e,t){const n=Sn(t,e);if(kr(n)){const r=n[1];80&n[2]?bo(r,n,r.template,n[8]):n[5]>0&&lu(n)}}function lu(e){for(let r=kl(e);null!==r;r=Nl(r))for(let s=10;s<r.length;s++){const l=r[s];if(1024&l[2]){const d=l[1];bo(d,l,d.template,l[8])}else l[5]>0&&lu(l)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const s=Sn(n[r],e);kr(s)&&s[5]>0&&lu(s)}}function d_(e,t){const n=Sn(t,e),r=n[1];(function h_(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),ca(r,n,n[8])}function za(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function uu(e){for(;e;){e[2]|=64;const t=aa(e);if(Wi(e)&&!t)return e;e=t}return null}function du(e,t,n){const r=t[10];r.begin&&r.begin();try{bo(e,t,e.template,n)}catch(s){throw dh(t,s),s}finally{r.end&&r.end()}}function ah(e){!function cu(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Il(n),s=r[1];zy(s,r,s.template,n)}}(e[8])}function hu(e,t,n){to(0),t(e,n)}const m_=(()=>Promise.resolve(null))();function lh(e){return e[7]||(e[7]=[])}function uh(e){return e.cleanup||(e.cleanup=[])}function dh(e,t){const n=e[9],r=n?n.get(Na,null):null;r&&r.handleError(t)}function hh(e,t,n,r,s){for(let l=0;l<n.length;){const d=n[l++],g=n[l++],b=t[d],j=e.data[d];null!==j.setInput?j.setInput(b,s,r,g):b[g]=s}}function ns(e,t,n){const r=function on(e,t){return gt(t[e])}(t,e);!function pd(e,t,n){Et(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Wa(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,l=0;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?l=g:1==l?s=H(s,g):2==l&&(r=H(r,g+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}const fu=new gn("INJECTOR",-1);class fh{get(t,n=Xo){if(n===Xo){const r=new Error(`NullInjectorError: No provider for ${B(t)}!`);throw r.name="NullInjectorError",r}return n}}const pu=new gn("Set Injector scope."),da={},v_={};let gu;function ph(){return void 0===gu&&(gu=new fh),gu}function gh(e,t=null,n=null,r){const s=mh(e,t,n,r);return s._resolveInjectorDefTypes(),s}function mh(e,t=null,n=null,r){return new b_(e,n,t||ph(),r)}class b_{constructor(t,n,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];n&&un(n,g=>this.processProvider(g,t,n)),un([t],g=>this.processInjectorType(g,[],l)),this.records.set(fu,Ao(void 0,this));const d=this.records.get(pu);this.scope=null!=d?d.value:null,this.source=s||("object"==typeof t?null:B(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Xo,r=et.Default){this.assertNotDestroyed();const s=Bc(this),l=nt(void 0);try{if(!(r&et.SkipSelf)){let g=this.records.get(t);if(void 0===g){const b=function T_(e){return"function"==typeof e||"object"==typeof e&&e instanceof gn}(t)&&fe(t);g=b&&this.injectableDefInScope(b)?Ao(mu(t),da):null,this.records.set(t,g)}if(null!=g)return this.hydrate(t,g)}return(r&et.Self?ph():this.parent).get(t,n=r&et.Optional&&n===Xo?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[xa]=d[xa]||[]).unshift(B(t)),s)throw d;return function nm(e,t,n,r){const s=e[xa];throw t[Nc]&&s.unshift(t[Nc]),e.message=function rm(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=B(t);if(Array.isArray(t))s=t.map(B).join(" -> ");else if("object"==typeof t){let l=[];for(let d in t)if(t.hasOwnProperty(d)){let g=t[d];l.push(d+":"+("string"==typeof g?JSON.stringify(g):B(g)))}s=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Qg,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[xa]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{nt(l),Bc(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,s)=>t.push(B(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processInjectorType(t,n,r){if(!(t=R(t)))return!1;let s=Ve(t);const l=null==s&&t.ngModule||void 0,d=void 0===l?t:l,g=-1!==r.indexOf(d);if(void 0!==l&&(s=Ve(l)),null==s)return!1;if(null!=s.imports&&!g){let X;r.push(d);try{un(s.imports,pe=>{this.processInjectorType(pe,n,r)&&(void 0===X&&(X=[]),X.push(pe))})}finally{}if(void 0!==X)for(let pe=0;pe<X.length;pe++){const{ngModule:Ee,providers:Oe}=X[pe];un(Oe,Ge=>this.processProvider(Ge,Ee,Oe||Pt))}}this.injectorDefTypes.add(d);const b=Qn(d)||(()=>new d);this.records.set(d,Ao(b,da));const j=s.providers;if(null!=j&&!g){const X=t;un(j,pe=>this.processProvider(pe,X,j))}return void 0!==l&&void 0!==t.providers}processProvider(t,n,r){let s=Co(t=R(t))?t:R(t&&t.provide);const l=function C_(e,t,n){return _h(e)?Ao(void 0,e.useValue):Ao(function yh(e,t,n){let r;if(Co(e)){const s=R(e);return Qn(s)||mu(s)}if(_h(e))r=()=>R(e.useValue);else if(function S_(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Al(e.deps||[]));else if(function E_(e){return!(!e||!e.useExisting)}(e))r=()=>er(R(e.useExisting));else{const s=R(e&&(e.useClass||e.provide));if(!function D_(e){return!!e.deps}(e))return Qn(s)||mu(s);r=()=>new s(...Al(e.deps))}return r}(e),da)}(t);if(Co(t)||!0!==t.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Ao(void 0,da,!0),d.factory=()=>Al(d.multi),this.records.set(s,d)),s=t,d.multi.push(t)}this.records.set(s,l)}hydrate(t,n){return n.value===da&&(n.value=v_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function P_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=R(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function mu(e){const t=fe(e),n=null!==t?t.factory:Qn(e);if(null!==n)return n;if(e instanceof gn)throw new he(204,!1);if(e instanceof Function)return function A_(e){const t=e.length;if(t>0)throw function $r(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new he(204,!1);const n=function Ae(e){const t=e&&(e[Xe]||e[mt]);if(t){const n=function Me(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new he(204,!1)}function Ao(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _h(e){return null!==e&&"object"==typeof e&&Zg in e}function Co(e){return"function"==typeof e}let Ui=(()=>{class e{static create(n,r){var s;if(Array.isArray(n))return gh({name:""},r,n,"");{const l=null!==(s=n.name)&&void 0!==s?s:"";return gh({name:l},n.parent,n.providers,l)}}}return e.THROW_IF_NOT_FOUND=Xo,e.NULL=new fh,e.\u0275prov=He({token:e,providedIn:"any",factory:()=>er(fu)}),e.__NG_ELEMENT_ID__=-1,e})();function k_(e,t){ms(Il(e)[1],fn())}let qa=null;function Eo(){if(!qa){const e=Rt.Symbol;if(e&&e.iterator)qa=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(qa=r)}}}return qa}function ha(e){return!!bu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Eo()in e)}function bu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ur(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Au(e,t,n,r){const s=Ye();return ur(s,wi(),t)&&(Bt(),ji(nn(),s,e,t,n,r)),Au}function pa(e,t=et.Default){const n=Ye();return null===n?er(e,t):p(fn(),n,R(e),t)}function Xh(){throw new Error("invalid")}function Du(e,t,n){const r=Ye();return ur(r,wi(),t)&&function zr(e,t,n,r,s,l,d,g){const b=Dn(t,n);let X,j=t.inputs;!g&&null!=j&&(X=j[r])?(hh(e,n,X,r,s),Ir(t)&&function Qy(e,t){const n=Sn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function Ky(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=d?d(s,t.value||"",r):s,Et(l)?l.setProperty(b,r,s):jr(r)||(b.setProperty?b.setProperty(r,s):b[r]=s))}(Bt(),nn(),r,e,t,r[11],n,!1),Du}function Pu(e,t,n,r,s){const d=s?"class":"style";hh(e,n,t.inputs[d],d,r)}function Qa(e,t,n,r){const s=Ye(),l=Bt(),d=20+e,g=s[11],b=s[d]=Vl(g,t,function or(){return wt.lFrame.currentNamespace}()),j=l.firstCreatePass?function mv(e,t,n,r,s,l,d){const g=t.consts,j=_o(t,e,2,s,sr(g,l));return function ou(e,t,n,r){let s=!1;if(ai()){const l=function n_(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let l=0;l<r.length;l++){const d=r[l];Rd(n,d.selectors,!1)&&(s||(s=[]),i(es(n,t),e,d.type),Vn(d)?(rh(e,n),s.unshift(d)):s.push(d))}return s}(e,t,n),d=null===r?null:{"":-1};if(null!==l){s=!0,ih(n,e.data.length,l.length);for(let X=0;X<l.length;X++){const pe=l[X];pe.providersResolver&&pe.providersResolver(pe)}let g=!1,b=!1,j=vo(e,t,l.length,null);for(let X=0;X<l.length;X++){const pe=l[X];n.mergedAttrs=Ii(n.mergedAttrs,pe.hostAttrs),sh(e,n,t,j,pe),i_(j,pe,d),null!==pe.contentQueries&&(n.flags|=8),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(n.flags|=128);const Ee=pe.type.prototype;!g&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),g=!0),!b&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),b=!0),j++}!function Yy(e,t){const r=t.directiveEnd,s=e.data,l=t.attrs,d=[];let g=null,b=null;for(let j=t.directiveStart;j<r;j++){const X=s[j],pe=X.inputs,Ee=null===l||Id(t)?null:a_(pe,l);d.push(Ee),g=Jd(pe,j,g),b=Jd(X.outputs,j,b)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=16),g.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=d,t.inputs=g,t.outputs=b}(e,n)}d&&function r_(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const l=n[t[s+1]];if(null==l)throw new he(-301,!1);r.push(t[s],l)}}}(n,r,d)}return n.mergedAttrs=Ii(n.mergedAttrs,n.attrs),s}(t,n,j,sr(g,d)),null!==j.attrs&&Wa(j,j.attrs,!1),null!==j.mergedAttrs&&Wa(j,j.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,j),j}(d,l,s,0,t,n,r):l.data[d];Er(j,!0);const X=j.mergedAttrs;null!==X&&Vr(g,b,X);const pe=j.classes;null!==pe&&zl(g,b,pe);const Ee=j.styles;return null!==Ee&&Td(g,b,Ee),64!=(64&j.flags)&&Va(l,s,b,j),0===function Uo(){return wt.lFrame.elementDepthCount}()&&lr(b,s),function xs(){wt.lFrame.elementDepthCount++}(),Xr(j)&&(function iu(e,t,n){!ai()||(function e_(e,t,n,r){const s=n.directiveStart,l=n.directiveEnd;e.firstCreatePass||es(n,t),lr(r,t);const d=n.initialInputs;for(let g=s;g<l;g++){const b=e.data[g],j=Vn(b);j&&s_(t,n,b);const X=je(t,e,g,n);lr(X,t),null!==d&&o_(0,g-s,X,b,0,d),j&&(Sn(n.index,t)[8]=X)}}(e,t,n,Dn(n,t)),128==(128&n.flags)&&function t_(e,t,n){const r=n.directiveStart,s=n.directiveEnd,d=n.index,g=function zo(){return wt.lFrame.currentDirectiveIndex}();try{ni(d);for(let b=r;b<s;b++){const j=e.data[b],X=t[b];Qi(b),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&nh(j,X)}}finally{ni(-1),Qi(g)}}(e,t,n))}(l,s,j),function Yd(e,t,n){if(xr(t)){const s=t.directiveEnd;for(let l=t.directiveStart;l<s;l++){const d=e.data[l];d.contentQueries&&d.contentQueries(1,n[l],l)}}}(l,j,s)),null!==r&&function su(e,t,n=Dn){const r=t.localNames;if(null!==r){let s=t.index+1;for(let l=0;l<r.length;l+=2){const d=r[l+1],g=-1===d?n(t,e):e[d];e[s++]=g}}}(s,j),Qa}function Xa(){let e=fn();Rs()?function li(){wt.lFrame.isParent=!1}():(e=e.parent,Er(e,!1));const t=e;!function Ho(){wt.lFrame.elementDepthCount--}();const n=Bt();return n.firstCreatePass&&(ms(n,e),xr(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function so(e){return 0!=(16&e.flags)}(t)&&Pu(n,t,Ye(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qo(e){return 0!=(32&e.flags)}(t)&&Pu(n,t,Ye(),t.stylesWithoutHost,!1),Xa}function Tu(e,t,n,r){return Qa(e,t,n,r),Xa(),Tu}function Iu(e){return!!e&&"function"==typeof e.then}function Jh(e){return!!e&&"function"==typeof e.subscribe}const ef=Jh;function Ru(e,t,n,r){const s=Ye(),l=Bt(),d=fn();return function nf(e,t,n,r,s,l,d,g){const b=Xr(r),X=e.firstCreatePass&&uh(e),pe=t[8],Ee=lh(t);let Oe=!0;if(3&r.type||g){const st=Dn(r,t),dt=g?g(st):st,We=Ee.length,At=g?jt=>g(gt(jt[r.index])):r.index;if(Et(n)){let jt=null;if(!g&&b&&(jt=function vv(e,t,n,r){const s=e.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const d=s[l];if(d===n&&s[l+1]===r){const g=t[7],b=s[l+2];return g.length>b?g[b]:null}"string"==typeof d&&(l+=2)}return null}(e,t,s,r.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=l,jt.__ngLastListenerFn__=l,Oe=!1;else{l=Ou(r,t,pe,l,!1);const en=n.listen(dt,s,l);Ee.push(l,en),X&&X.push(s,At,We,We+1)}}else l=Ou(r,t,pe,l,!0),dt.addEventListener(s,l,d),Ee.push(l),X&&X.push(s,At,We,d)}else l=Ou(r,t,pe,l,!1);const Ge=r.outputs;let tt;if(Oe&&null!==Ge&&(tt=Ge[s])){const st=tt.length;if(st)for(let dt=0;dt<st;dt+=2){const Wr=t[tt[dt]][tt[dt+1]].subscribe(l),Qs=Ee.length;Ee.push(l,Wr),X&&X.push(s,r.index,Qs,-(Qs+1))}}}(l,s,s[11],d,e,t,!!n,r),Ru}function rf(e,t,n,r){try{return!1!==n(r)}catch(s){return dh(e,s),!1}}function Ou(e,t,n,r,s){return function l(d){if(d===Function)return r;const g=2&e.flags?Sn(e.index,t):t;0==(32&t[2])&&uu(g);let b=rf(t,0,r,d),j=l.__ngNextListenerFn__;for(;j;)b=rf(t,0,j,d)&&b,j=j.__ngNextListenerFn__;return s&&!1===b&&(d.preventDefault(),d.returnValue=!1),b}}function Mf(e,t=""){const n=Ye(),r=Bt(),s=e+20,l=r.firstCreatePass?_o(r,s,1,t,null):r.data[s],d=n[s]=function Bl(e,t){return Et(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Va(r,n,d,l),Er(l,!1)}function Ja(e,t,n){const r=Ye(),s=function wo(e,t,n,r){return ur(e,wi(),n)?t+Y(n)+r:It}(r,e,t,n);return s!==It&&ns(r,Mn(),s),Ja}const qs=void 0;var l0=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function a0(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Lo={};function ku(e){const t=function u0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Xf(t);if(n)return n;const r=t.split("-")[0];if(n=Xf(r),n)return n;if("en"===r)return l0;throw new Error(`Missing locale data for the locale "${e}".`)}function Qf(e){return ku(e)[St.PluralCase]}function Xf(e){return e in Lo||(Lo[e]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[e]),Lo[e]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const el="en-US";let Zf=el;class Ep{}class db{resolveComponentFactory(t){throw function cb(e){const t=Error(`No component factory found for ${B(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let sl=(()=>{class e{}return e.NULL=new db,e})();function hb(){return No(fn(),Ye())}function No(e,t){return new ba(Dn(e,t))}let ba=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=hb,e})();function fb(e){return e instanceof ba?e.nativeElement:e}class wp{}let pb=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function mb(){const e=Ye(),n=Sn(fn().index,e);return function gb(e){return e[11]}(sn(n)?n:e)}(),e})(),yb=(()=>{class e{}return e.\u0275prov=He({token:e,providedIn:"root",factory:()=>null}),e})();class Dp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _b=new Dp("13.3.6"),$u={};function ol(e,t,n,r,s=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&r.push(gt(l)),ir(l))for(let g=10;g<l.length;g++){const b=l[g],j=b[1].firstChild;null!==j&&ol(b[1],b,j,r)}const d=n.type;if(8&d)ol(e,t,n.child,r);else if(32&d){const g=Ll(n,t);let b;for(;b=g();)r.push(b)}else if(16&d){const g=wd(t,n);if(Array.isArray(g))r.push(...g);else{const b=aa(t[16]);ol(b[1],b,g,r,!0)}}n=s?n.projectionNext:n.next}return r}class Aa{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return ol(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ir(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(jl(t,r),Hr(n,r))}this._attachedToViewContainer=!1}md(this._lView[1],this._lView)}onDestroy(t){Zd(this._lView[1],this._lView,null,t)}markForCheck(){uu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){du(this._lView[1],this._lView,this.context)}checkNoChanges(){!function p_(e,t,n){cs(!0);try{du(e,t,n)}finally{cs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new he(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cy(e,t){la(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,"");this._appRef=t}}class vb extends Aa{constructor(t){super(t),this._view=t}detectChanges(){ah(this._view)}checkNoChanges(){!function g_(e){cs(!0);try{ah(e)}finally{cs(!1)}}(this._view)}get context(){return null}}class Pp extends sl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=an(t);return new Gu(n,this.ngModule)}}function Tp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Gu extends Ep{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function xy(e){return e.map(My).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Tp(this.componentDef.inputs)}get outputs(){return Tp(this.componentDef.outputs)}create(t,n,r,s){const l=(s=s||this.ngModule)?function Ab(e,t){return{get:(n,r,s)=>{const l=e.get(n,$u,s);return l!==$u||r===$u?l:t.get(n,r,s)}}}(t,s.injector):t,d=l.get(wp,$t),g=l.get(yb,null),b=d.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",X=r?function Xd(e,t,n){if(Et(e))return e.selectRootElement(t,n===Be.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(b,r,this.componentDef.encapsulation):Vl(d.createRenderer(null,this.componentDef),j,function bb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(j)),pe=this.componentDef.onPush?576:528,Ee=function Mh(e,t){return{components:[],scheduler:e||ry,clean:m_,playerHandler:t||null,flags:0}}(),Oe=Ga(0,null,null,1,0,null,null,null,null,null),Ge=ua(null,Oe,Ee,pe,null,null,d,b,g,l);let tt,st;Xi(Ge);try{const dt=function Ph(e,t,n,r,s,l){const d=n[1];n[20]=e;const b=_o(d,20,2,"#host",null),j=b.mergedAttrs=t.hostAttrs;null!==j&&(Wa(b,j,!0),null!==e&&(Vr(s,e,j),null!==b.classes&&zl(s,e,b.classes),null!==b.styles&&Td(s,e,b.styles)));const X=r.createRenderer(e,t),pe=ua(n,Kd(t),null,t.onPush?64:16,n[20],b,r,X,l||null,null);return d.firstCreatePass&&(i(es(b,n),d,t.type),rh(d,b),ih(b,n.length,1)),za(n,pe),n[20]=pe}(X,this.componentDef,Ge,d,b);if(X)if(r)Vr(b,X,["ng-version",_b.full]);else{const{attrs:We,classes:At}=function Iy(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===s?""!==l&&t.push(l,e[++r]):8===s&&n.push(l);else{if(!di(s))break;s=l}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);We&&Vr(b,X,We),At&&At.length>0&&zl(b,X,At.join(" "))}if(st=ei(Oe,20),void 0!==n){const We=st.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const jt=n[At];We.push(null!=jt?Array.from(jt):null)}}tt=function Th(e,t,n,r,s){const l=n[1],d=function Zy(e,t,n){const r=fn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),sh(e,r,t,vo(e,t,1,null),n));const s=je(t,e,r.directiveStart,r);lr(s,t);const l=Dn(r,t);return l&&lr(l,t),s}(l,n,t);if(r.components.push(d),e[8]=d,s&&s.forEach(b=>b(d,t)),t.contentQueries){const b=fn();t.contentQueries(1,d,b.directiveStart)}const g=fn();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ni(g.index),th(n[1],g,0,g.directiveStart,g.directiveEnd,t),nh(t,d)),d}(dt,this.componentDef,Ge,Ee,[k_]),ca(Oe,Ge,null)}finally{ps()}return new Eb(this.componentType,tt,No(st,Ge),Ge,st)}}class Eb extends class ub{}{constructor(t,n,r,s,l){super(),this.location=r,this._rootLView=s,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new vb(s),this.componentType=t}get injector(){return new at(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Bo{}class Mp{}const Vo=new Map;class Rp extends Bo{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pp(this);const r=zn(t);this._bootstrapComponents=Bi(r.bootstrap),this._r3Injector=mh(t,n,[{provide:Bo,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],B(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Ui.THROW_IF_NOT_FOUND,r=et.Default){return t===Ui||t===Bo||t===fu?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zu extends Mp{constructor(t){super(),this.moduleType=t,null!==zn(t)&&function wb(e){const t=new Set;!function n(r){const s=zn(r,!0),l=s.id;null!==l&&(function xp(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${B(t)} vs ${B(t.name)}`)}(l,Vo.get(l),r),Vo.set(l,r));const d=Bi(s.imports);for(const g of d)t.has(g)||(t.add(g),n(g))}(e)}(t)}create(t){return new Rp(this.moduleType,t)}}function Wu(e){return t=>{setTimeout(e,void 0,t)}}const zi=class $b extends f.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var s,l,d;let g=t,b=n||(()=>null),j=r;if(t&&"object"==typeof t){const pe=t;g=null===(s=pe.next)||void 0===s?void 0:s.bind(pe),b=null===(l=pe.error)||void 0===l?void 0:l.bind(pe),j=null===(d=pe.complete)||void 0===d?void 0:d.bind(pe)}this.__isAsync&&(b=Wu(b),g&&(g=Wu(g)),j&&(j=Wu(j)));const X=super.subscribe({next:g,error:b,complete:j});return t instanceof T.w0&&t.add(X),X}};function Gb(){return this._results[Eo()]()}class qu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Eo(),r=qu.prototype;r[n]||(r[n]=Gb)}get changes(){return this._changes||(this._changes=new zi)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=Dr(t);(this._changesDetected=!function Ta(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Sa=(()=>{class e{}return e.__NG_ELEMENT_ID__=qb,e})();const zb=Sa,Wb=class extends zb{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=ua(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(r[19]=l.createEmbeddedView(n)),ca(n,r,t),new Aa(r)}};function qb(){return al(fn(),Ye())}function al(e,t){return 4&e.type?new Wb(t,e,No(e,t)):null}let ll=(()=>{class e{}return e.__NG_ELEMENT_ID__=Yb,e})();function Yb(){return jp(fn(),Ye())}const Kb=ll,Bp=class extends Kb{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new at(this._hostTNode,this._hostLView)}get parentInjector(){const t=u(this._hostTNode,this._hostLView);if(uo(t)){const n=Oi(t,this._hostLView),r=Ri(t);return new at(n[1].data[r+8],n)}return new at(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Vp(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const s=t.createEmbeddedView(n||{});return this.insert(s,r),s}createComponent(t,n,r,s,l){const d=t&&!function wr(e){return"function"==typeof e}(t);let g;if(d)g=n;else{const pe=n||{};g=pe.index,r=pe.injector,s=pe.projectableNodes,l=pe.ngModuleRef}const b=d?t:new Gu(an(t)),j=r||this.parentInjector;if(!l&&null==b.ngModule){const Ee=(d?j:this.parentInjector).get(Bo,null);Ee&&(l=Ee)}const X=b.create(j,s,void 0,l);return this.insert(X.hostView,g),X}insert(t,n){const r=t._lView,s=r[1];if(function Ei(e){return ir(e[3])}(r)){const X=this.indexOf(t);if(-1!==X)this.detach(X);else{const pe=r[3],Ee=new Bp(pe,pe[6],pe[3]);Ee.detach(Ee.indexOf(t))}}const l=this._adjustIndex(n),d=this._lContainer;!function hy(e,t,n,r){const s=10+r,l=n.length;r>0&&(n[s-1][4]=t),r<l-10?(t[4]=n[s],ki(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const d=t[17];null!==d&&n!==d&&function fy(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(d,t);const g=t[19];null!==g&&g.insertView(e),t[2]|=128}(s,r,d,l);const g=$l(l,d),b=r[11],j=Ba(b,d[7]);return null!==j&&function uy(e,t,n,r,s,l){r[0]=s,r[6]=t,la(e,r,n,1,s,l)}(s,d[6],b,r,j,g),t.attachToViewContainerRef(),ki(Yu(d),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Vp(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=jl(this._lContainer,n);r&&(Hr(Yu(this._lContainer),n),md(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=jl(this._lContainer,n);return r&&null!=Hr(Yu(this._lContainer),n)?new Aa(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function Vp(e){return e[8]}function Yu(e){return e[8]||(e[8]=[])}function jp(e,t){let n;const r=t[e.index];if(ir(r))n=r;else{let s;if(8&e.type)s=gt(r);else{const l=t[11];s=l.createComment("");const d=Dn(e,t);zs(l,Ba(l,d),s,function yy(e,t){return Et(e)?e.nextSibling(t):t.nextSibling}(l,d),!1)}t[e.index]=n=function oh(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,s,e),za(t,n)}return new Bp(n,e,t)}class Ku{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ku(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let l=0;l<r;l++){const d=n.getByIndex(l);s.push(this.queries[d.indexInDeclarationView].clone())}return new Qu(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Kp(t,n).matches&&this.queries[n].setDirty()}}class Up{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Xu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,s);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new Xu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const l=r[s];this.matchTNodeWithReadOption(t,n,Zb(n,l)),this.matchTNodeWithReadOption(t,n,Ce(n,t,l,!1,!1))}else r===Sa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ce(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===ba||s===ll||s===Sa&&4&n.type)this.addMatch(n.index,-2);else{const l=Ce(n,t,s,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Zb(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eA(e,t,n,r){return-1===n?function Jb(e,t){return 11&e.type?No(e,t):4&e.type?al(e,t):null}(t,e):-2===n?function tA(e,t,n){return n===ba?No(t,e):n===Sa?al(t,e):n===ll?jp(t,e):void 0}(e,t,r):je(e,e[1],n,t)}function Hp(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const l=e.data,d=n.matches,g=[];for(let b=0;b<d.length;b+=2){const j=d[b];g.push(j<0?null:eA(t,l[j],d[b+1],n.metadata.read))}s.matches=g}return s.matches}function Ju(e,t,n,r){const s=e.queries.getByIndex(n),l=s.matches;if(null!==l){const d=Hp(e,t,s,n);for(let g=0;g<l.length;g+=2){const b=l[g];if(b>0)r.push(d[g/2]);else{const j=l[g+1],X=t[-b];for(let pe=10;pe<X.length;pe++){const Ee=X[pe];Ee[17]===Ee[3]&&Ju(Ee[1],Ee,j,r)}if(null!==X[9]){const pe=X[9];for(let Ee=0;Ee<pe.length;Ee++){const Oe=pe[Ee];Ju(Oe[1],Oe,j,r)}}}}}return r}function $p(e){const t=Ye(),n=Bt(),r=Ls();to(r+1);const s=Kp(n,r);if(e.dirty&&Zn(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=s.crossesNgTemplate?Ju(n,t,r,[]):Hp(n,t,s,r);e.reset(l,fb),e.notifyOnChanges()}return!0}return!1}function Gp(e,t,n){const r=Bt();r.firstCreatePass&&(Yp(r,new Up(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),qp(r,Ye(),t)}function zp(e,t,n,r){const s=Bt();if(s.firstCreatePass){const l=fn();Yp(s,new Up(t,n,r),l.index),function rA(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}qp(s,Ye(),n)}function Wp(){return function nA(e,t){return e[19].queries[t].queryList}(Ye(),Ls())}function qp(e,t,n){const r=new qu(4==(4&n));Zd(e,t,r,r.destroy),null===t[19]&&(t[19]=new Qu),t[19].queries.push(new Ku(r))}function Yp(e,t,n){null===e.queries&&(e.queries=new Xu),e.queries.track(new Zu(t,n))}function Kp(e,t){return e.queries.getByIndex(t)}function dl(...e){}const hg=new gn("Application Initializer");let sc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=dl,this.reject=dl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const l=this.appInits[s]();if(Iu(l))n.push(l);else if(ef(l)){const d=new Promise((g,b)=>{l.subscribe({complete:g,error:b})});n.push(d)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(er(hg,8))},e.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const fg=new gn("AppId",{providedIn:"root",factory:function pg(){return`${oc()}${oc()}${oc()}`}});function oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gg=new gn("Platform Initializer"),AA=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mg=new gn("appBootstrapListener");let CA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const ac=new gn("LocaleId",{providedIn:"root",factory:()=>em(ac,et.Optional|et.SkipSelf)||function EA(){return"undefined"!=typeof $localize&&$localize.locale||el}()}),SA=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let DA=(()=>{class e{compileModuleSync(n){return new zu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),l=Bi(zn(n).declarations).reduce((d,g)=>{const b=an(g);return b&&d.push(new Gu(b)),d},[]);return new wA(r,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const TA=(()=>Promise.resolve(0))();function lc(e){"undefined"==typeof Zone?TA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zi(!1),this.onMicrotaskEmpty=new zi(!1),this.onStable=new zi(!1),this.onError=new zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function MA(){let e=Rt.requestAnimationFrame,t=Rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function RA(e){const t=()=>{!function IA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Rt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,cc(e),e.isCheckStableRunning=!0,uc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),cc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,l,d,g)=>{try{return yg(e),n.invokeTask(s,l,d,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),_g(e)}},onInvoke:(n,r,s,l,d,g,b)=>{try{return yg(e),n.invoke(s,l,d,g,b)}finally{e.shouldCoalesceRunChangeDetection&&t(),_g(e)}},onHasTask:(n,r,s,l)=>{n.hasTask(s,l),r===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,cc(e),uc(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,s,l)=>(n.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+s,t,xA,dl,dl);try{return l.runTask(d,n,r)}finally{l.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const xA={};function uc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function yg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _g(e){e._nesting--,uc(e)}class OA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zi,this.onMicrotaskEmpty=new zi,this.onStable=new zi,this.onError=new zi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}let vg=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mi.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(er(mi))},e.\u0275prov=He({token:e,factory:e.\u0275fac}),e})(),FA=(()=>{class e{constructor(){this._applications=new Map,dc.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dc.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class LA{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function kA(e){dc=e}let dc=new LA,Ys=null;const bg=new gn("AllowMultipleToken"),Ag=new gn("PlatformOnDestroy");class VA{constructor(t,n){this.name=t,this.token=n}}function Cg(e,t,n=[]){const r=`Platform: ${t}`,s=new gn(r);return(l=[])=>{let d=hc();if(!d||d.injector.get(bg,!1)){const g=[...n,...l,{provide:s,useValue:!0}];e?e(g):function jA(e){if(Ys&&!Ys.get(bg,!1))throw new he(400,"");Ys=e;const t=e.get(Eg),n=e.get(gg,null);n&&n.forEach(r=>r())}(function HA(e=[],t){return Ui.create({name:t,providers:[{provide:pu,useValue:"platform"},{provide:Ag,useValue:()=>Ys=null},...e]})}(g,r))}return function UA(e){const t=hc();if(!t)throw new he(401,"");return t}()}}function hc(){var e;return null!==(e=null==Ys?void 0:Ys.get(Eg))&&void 0!==e?e:null}let Eg=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const g=function $A(e,t){let n;return n="noop"===e?new OA:("zone.js"===e?void 0:e)||new mi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),b=[{provide:mi,useValue:g}];return g.run(()=>{const j=Ui.create({providers:b,parent:this.injector,name:n.moduleType.name}),X=n.create(j),pe=X.injector.get(Na,null);if(!pe)throw new he(402,"");return g.runOutsideAngular(()=>{const Ee=g.onError.subscribe({next:Oe=>{pe.handleError(Oe)}});X.onDestroy(()=>{pc(this._modules,X),Ee.unsubscribe()})}),function GA(e,t,n){try{const r=n();return Iu(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(pe,g,()=>{const Ee=X.injector.get(sc);return Ee.runInitializers(),Ee.donePromise.then(()=>(function f0(e){we(e,"Expected localeId to be defined"),"string"==typeof e&&(Zf=e.toLowerCase().replace(/_/g,"-"))}(X.injector.get(ac,el)||el),this._moduleDoBootstrap(X),X))})})}bootstrapModule(n,r=[]){const s=Sg({},r);return function NA(e,t,n){const r=new zu(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(n){const r=n.injector.get(fc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new he(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ag,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(er(Ui))},e.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Sg(e,t){return Array.isArray(t)?t.reduce(Sg,e):Object.assign(Object.assign({},e),t)}let fc=(()=>{class e{constructor(n,r,s,l){this._zone=n,this._injector=r,this._exceptionHandler=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new y.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),g=new y.y(b=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{mi.assertNotInAngularZone(),lc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{j.unsubscribe(),X.unsubscribe()}});this.isStable=function se(...e){const t=(0,be.yG)(e),n=(0,be._6)(e,1/0),r=e;return r.length?1===r.length?(0,ie.Xf)(r[0]):(0,h.J)(n)((0,ye.D)(r,t)):ge.E}(d,g.pipe(function I(e={}){const{connector:t=(()=>new f.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return l=>{let d=null,g=null,b=null,j=0,X=!1,pe=!1;const Ee=()=>{null==g||g.unsubscribe(),g=null},Oe=()=>{Ee(),d=b=null,X=pe=!1},Ge=()=>{const tt=d;Oe(),null==tt||tt.unsubscribe()};return(0,Z.e)((tt,st)=>{j++,!pe&&!X&&Ee();const dt=b=null!=b?b:t();st.add(()=>{j--,0===j&&!pe&&!X&&(g=_(Ge,s))}),dt.subscribe(st),d||(d=new D.Hp({next:We=>dt.next(We),error:We=>{pe=!0,Ee(),g=_(Oe,n,We),dt.error(We)},complete:()=>{X=!0,Ee(),g=_(Oe,r),dt.complete()}}),(0,ye.D)(tt).subscribe(d))})(l)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new he(405,"");let s;s=n instanceof Ep?n:this._injector.get(sl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const l=function BA(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Bo),g=s.create(Ui.NULL,[],r||s.selector,l),b=g.location.nativeElement,j=g.injector.get(vg,null),X=j&&g.injector.get(FA);return j&&X&&X.registerApplication(b,j),g.onDestroy(()=>{this.detachView(g.hostView),pc(this.components,g),X&&X.unregisterApplication(b)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new he(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;pc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(mg,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(er(mi),er(Ui),er(Na),er(sc))},e.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Dg=!0;function WA(){Dg=!1}let qA=(()=>{class e{}return e.__NG_ELEMENT_ID__=YA,e})();function YA(e){return function KA(e,t,n){if(Ir(e)&&!n){const r=Sn(e.index,t);return new Aa(r,r)}return 47&e.type?new Aa(t[16],t):null}(fn(),Ye(),16==(16&e))}class Ig{constructor(){}supports(t){return ha(t)}create(t){return new tC(t)}}const eC=(e,t)=>t;class tC{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||eC}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,l=null;for(;n||r;){const d=!r||n&&n.currentIndex<Og(r,s,l)?n:r,g=Og(d,s,l),b=d.currentIndex;if(d===r)s--,r=r._nextRemoved;else if(n=n._next,null==d.previousIndex)s++;else{l||(l=[]);const j=g-s,X=b-s;if(j!=X){for(let Ee=0;Ee<j;Ee++){const Oe=Ee<l.length?l[Ee]:l[Ee]=0,Ge=Oe+Ee;X<=Ge&&Ge<j&&(l[Ee]=Oe+1)}l[d.previousIndex]=X-j}}g!==b&&t(d,g,b)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ha(t))throw new he(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,l,d,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let g=0;g<this.length;g++)l=t[g],d=this._trackByFn(g,l),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,l,d,g)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,d,g),r=!0),n=n._next}else s=0,function W_(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Eo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,g=>{d=this._trackByFn(s,g),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,g,d,s)),Object.is(n.item,g)||this._addIdentityChange(n,g)):(n=this._mismatch(n,g,d,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,s)):t=this._addAfter(new nC(n,r),l,s),t}_verifyReinsertion(t,n,r,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rg),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class nC{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rC{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Rg{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new rC,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Og(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Fg{constructor(){}supports(t){return t instanceof Map||bu(t)}create(){return new iC}}class iC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||bu(t)))throw new he(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const l=s._prev,d=s._next;return l&&(l._next=d),d&&(d._prev=l),s._next=null,s._prev=null,s}const r=new sC(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class sC{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lg(){return new vc([new Ig])}let vc=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Lg()),deps:[[e,new ta,new ea]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new he(901,"")}}return e.\u0275prov=He({token:e,providedIn:"root",factory:Lg}),e})();function kg(){return new bc([new Fg])}let bc=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||kg()),deps:[[e,new ta,new ea]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(r)return r;throw new he(901,"")}}return e.\u0275prov=He({token:e,providedIn:"root",factory:kg}),e})();const lC=Cg(null,"core",[]);let uC=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(er(fc))},e.\u0275mod=rn({type:e}),e.\u0275inj=N({}),e})()},2313:(Ue,ne,le)=>{"use strict";le.d(ne,{b2:()=>Ze,q6:()=>ze,se:()=>q});var h=le(9808),ie=le(1223);class ge extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends ge{static makeCurrent(){(0,h.HT)(new be)}onAndCancel(Pe,ve,Ne){return Pe.addEventListener(ve,Ne,!1),()=>{Pe.removeEventListener(ve,Ne,!1)}}dispatchEvent(Pe,ve){Pe.dispatchEvent(ve)}remove(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)}createElement(Pe,ve){return(ve=ve||this.getDefaultDocument()).createElement(Pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pe){return Pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pe){return Pe instanceof DocumentFragment}getGlobalEventTarget(Pe,ve){return"window"===ve?window:"document"===ve?Pe:"body"===ve?Pe.body:null}getBaseHref(Pe){const ve=function se(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==ve?null:function T(Le){f=f||document.createElement("a"),f.setAttribute("href",Le);const Pe=f.pathname;return"/"===Pe.charAt(0)?Pe:`/${Pe}`}(ve)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pe){return(0,h.Mx)(document.cookie,Pe)}}let f,ye=null;const y=new ie.OlP("TRANSITION_ID"),D=[{provide:ie.ip1,useFactory:function E(Le,Pe,ve){return()=>{ve.get(ie.CZH).donePromise.then(()=>{const Ne=(0,h.q)(),qe=Pe.querySelectorAll(`style[ng-transition="${Le}"]`);for(let bt=0;bt<qe.length;bt++)Ne.remove(qe[bt])})}},deps:[y,h.K0,ie.zs3],multi:!0}];class Z{static init(){(0,ie.VLi)(new Z)}addToWindow(Pe){ie.dqk.getAngularTestability=(Ne,qe=!0)=>{const bt=Pe.findTestabilityInTree(Ne,qe);if(null==bt)throw new Error("Could not find testability for element.");return bt},ie.dqk.getAllAngularTestabilities=()=>Pe.getAllTestabilities(),ie.dqk.getAllAngularRootElements=()=>Pe.getAllRootElements(),ie.dqk.frameworkStabilizers||(ie.dqk.frameworkStabilizers=[]),ie.dqk.frameworkStabilizers.push(Ne=>{const qe=ie.dqk.getAllAngularTestabilities();let bt=qe.length,Ot=!1;const rn=function(xn){Ot=Ot||xn,bt--,0==bt&&Ne(Ot)};qe.forEach(function(xn){xn.whenStable(rn)})})}findTestabilityInTree(Pe,ve,Ne){if(null==ve)return null;const qe=Pe.getTestability(ve);return null!=qe?qe:Ne?(0,h.q)().isShadowRoot(ve)?this.findTestabilityInTree(Pe,ve.host,!0):this.findTestabilityInTree(Pe,ve.parentElement,!0):null}}let I=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const _=new ie.OlP("EventManagerPlugins");let W=(()=>{class Le{constructor(ve,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,ve.forEach(qe=>qe.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,Ne,qe){return this._findPluginFor(Ne).addEventListener(ve,Ne,qe)}addGlobalEventListener(ve,Ne,qe){return this._findPluginFor(Ne).addGlobalEventListener(ve,Ne,qe)}getZone(){return this._zone}_findPluginFor(ve){const Ne=this._eventNameToPlugin.get(ve);if(Ne)return Ne;const qe=this._plugins;for(let bt=0;bt<qe.length;bt++){const Ot=qe[bt];if(Ot.supports(ve))return this._eventNameToPlugin.set(ve,Ot),Ot}throw new Error(`No event manager plugin found for event ${ve}`)}}return Le.\u0275fac=function(ve){return new(ve||Le)(ie.LFG(_),ie.LFG(ie.R0b))},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class de{constructor(Pe){this._doc=Pe}addGlobalEventListener(Pe,ve,Ne){const qe=(0,h.q)().getGlobalEventTarget(this._doc,Pe);if(!qe)throw new Error(`Unsupported event target ${qe} for event ${ve}`);return this.addEventListener(qe,ve,Ne)}}let B=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(ve){const Ne=new Set;ve.forEach(qe=>{this._stylesSet.has(qe)||(this._stylesSet.add(qe),Ne.add(qe))}),this.onStylesAdded(Ne)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),H=(()=>{class Le extends B{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,Ne,qe){ve.forEach(bt=>{const Ot=this._doc.createElement("style");Ot.textContent=bt,qe.push(Ne.appendChild(Ot))})}addHost(ve){const Ne=[];this._addStylesToHost(this._stylesSet,ve,Ne),this._hostNodes.set(ve,Ne)}removeHost(ve){const Ne=this._hostNodes.get(ve);Ne&&Ne.forEach(m),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((Ne,qe)=>{this._addStylesToHost(ve,qe,Ne)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(m))}}return Le.\u0275fac=function(ve){return new(ve||Le)(ie.LFG(h.K0))},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function m(Le){(0,h.q)().remove(Le)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R=/%COMP%/g,L="%COMP%",he=`_nghost-${L}`,Q=`_ngcontent-${L}`;function F(Le,Pe,ve){for(let Ne=0;Ne<Pe.length;Ne++){let qe=Pe[Ne];Array.isArray(qe)?F(Le,qe,ve):(qe=qe.replace(R,Le),ve.push(qe))}return ve}function U(Le){return Pe=>{if("__ngUnwrap__"===Pe)return Le;!1===Le(Pe)&&(Pe.preventDefault(),Pe.returnValue=!1)}}let q=(()=>{class Le{constructor(ve,Ne,qe){this.eventManager=ve,this.sharedStylesHost=Ne,this.appId=qe,this.rendererByCompId=new Map,this.defaultRenderer=new re(ve)}createRenderer(ve,Ne){if(!ve||!Ne)return this.defaultRenderer;switch(Ne.encapsulation){case ie.ifc.Emulated:{let qe=this.rendererByCompId.get(Ne.id);return qe||(qe=new w(this.eventManager,this.sharedStylesHost,Ne,this.appId),this.rendererByCompId.set(Ne.id,qe)),qe.applyToHost(ve),qe}case 1:case ie.ifc.ShadowDom:return new z(this.eventManager,this.sharedStylesHost,ve,Ne);default:if(!this.rendererByCompId.has(Ne.id)){const qe=F(Ne.id,Ne.styles,[]);this.sharedStylesHost.addStyles(qe),this.rendererByCompId.set(Ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(ve){return new(ve||Le)(ie.LFG(W),ie.LFG(H),ie.LFG(ie.AFp))},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class re{constructor(Pe){this.eventManager=Pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Pe,ve){return ve?document.createElementNS(v[ve]||ve,Pe):document.createElement(Pe)}createComment(Pe){return document.createComment(Pe)}createText(Pe){return document.createTextNode(Pe)}appendChild(Pe,ve){Pe.appendChild(ve)}insertBefore(Pe,ve,Ne){Pe&&Pe.insertBefore(ve,Ne)}removeChild(Pe,ve){Pe&&Pe.removeChild(ve)}selectRootElement(Pe,ve){let Ne="string"==typeof Pe?document.querySelector(Pe):Pe;if(!Ne)throw new Error(`The selector "${Pe}" did not match any elements`);return ve||(Ne.textContent=""),Ne}parentNode(Pe){return Pe.parentNode}nextSibling(Pe){return Pe.nextSibling}setAttribute(Pe,ve,Ne,qe){if(qe){ve=qe+":"+ve;const bt=v[qe];bt?Pe.setAttributeNS(bt,ve,Ne):Pe.setAttribute(ve,Ne)}else Pe.setAttribute(ve,Ne)}removeAttribute(Pe,ve,Ne){if(Ne){const qe=v[Ne];qe?Pe.removeAttributeNS(qe,ve):Pe.removeAttribute(`${Ne}:${ve}`)}else Pe.removeAttribute(ve)}addClass(Pe,ve){Pe.classList.add(ve)}removeClass(Pe,ve){Pe.classList.remove(ve)}setStyle(Pe,ve,Ne,qe){qe&(ie.JOm.DashCase|ie.JOm.Important)?Pe.style.setProperty(ve,Ne,qe&ie.JOm.Important?"important":""):Pe.style[ve]=Ne}removeStyle(Pe,ve,Ne){Ne&ie.JOm.DashCase?Pe.style.removeProperty(ve):Pe.style[ve]=""}setProperty(Pe,ve,Ne){Pe[ve]=Ne}setValue(Pe,ve){Pe.nodeValue=ve}listen(Pe,ve,Ne){return"string"==typeof Pe?this.eventManager.addGlobalEventListener(Pe,ve,U(Ne)):this.eventManager.addEventListener(Pe,ve,U(Ne))}}class w extends re{constructor(Pe,ve,Ne,qe){super(Pe),this.component=Ne;const bt=F(qe+"-"+Ne.id,Ne.styles,[]);ve.addStyles(bt),this.contentAttr=function Y(Le){return Q.replace(R,Le)}(qe+"-"+Ne.id),this.hostAttr=function te(Le){return he.replace(R,Le)}(qe+"-"+Ne.id)}applyToHost(Pe){super.setAttribute(Pe,this.hostAttr,"")}createElement(Pe,ve){const Ne=super.createElement(Pe,ve);return super.setAttribute(Ne,this.contentAttr,""),Ne}}class z extends re{constructor(Pe,ve,Ne,qe){super(Pe),this.sharedStylesHost=ve,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bt=F(qe.id,qe.styles,[]);for(let Ot=0;Ot<bt.length;Ot++){const rn=document.createElement("style");rn.textContent=bt[Ot],this.shadowRoot.appendChild(rn)}}nodeOrShadowRoot(Pe){return Pe===this.hostEl?this.shadowRoot:Pe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Pe,ve){return super.appendChild(this.nodeOrShadowRoot(Pe),ve)}insertBefore(Pe,ve,Ne){return super.insertBefore(this.nodeOrShadowRoot(Pe),ve,Ne)}removeChild(Pe,ve){return super.removeChild(this.nodeOrShadowRoot(Pe),ve)}parentNode(Pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pe)))}}let V=(()=>{class Le extends de{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Ne,qe){return ve.addEventListener(Ne,qe,!1),()=>this.removeEventListener(ve,Ne,qe)}removeEventListener(ve,Ne,qe){return ve.removeEventListener(Ne,qe)}}return Le.\u0275fac=function(ve){return new(ve||Le)(ie.LFG(h.K0))},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const ae=["alt","control","meta","shift"],K={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ee={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},me={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let G=(()=>{class Le extends de{constructor(ve){super(ve)}supports(ve){return null!=Le.parseEventName(ve)}addEventListener(ve,Ne,qe){const bt=Le.parseEventName(Ne),Ot=Le.eventCallback(bt.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(ve,bt.domEventName,Ot))}static parseEventName(ve){const Ne=ve.toLowerCase().split("."),qe=Ne.shift();if(0===Ne.length||"keydown"!==qe&&"keyup"!==qe)return null;const bt=Le._normalizeKey(Ne.pop());let Ot="";if(ae.forEach(xn=>{const Ar=Ne.indexOf(xn);Ar>-1&&(Ne.splice(Ar,1),Ot+=xn+".")}),Ot+=bt,0!=Ne.length||0===bt.length)return null;const rn={};return rn.domEventName=qe,rn.fullKey=Ot,rn}static getEventFullKey(ve){let Ne="",qe=function _e(Le){let Pe=Le.key;if(null==Pe){if(Pe=Le.keyIdentifier,null==Pe)return"Unidentified";Pe.startsWith("U+")&&(Pe=String.fromCharCode(parseInt(Pe.substring(2),16)),3===Le.location&&ee.hasOwnProperty(Pe)&&(Pe=ee[Pe]))}return K[Pe]||Pe}(ve);return qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),ae.forEach(bt=>{bt!=qe&&me[bt](ve)&&(Ne+=bt+".")}),Ne+=qe,Ne}static eventCallback(ve,Ne,qe){return bt=>{Le.getEventFullKey(bt)===ve&&qe.runGuarded(()=>Ne(bt))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return Le.\u0275fac=function(ve){return new(ve||Le)(ie.LFG(h.K0))},Le.\u0275prov=ie.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const ze=(0,ie.eFA)(ie._c5,"browser",[{provide:ie.Lbi,useValue:h.bD},{provide:ie.g9A,useValue:function we(){be.makeCurrent(),Z.init()},multi:!0},{provide:h.K0,useFactory:function Ie(){return(0,ie.RDi)(document),document},deps:[]}]),He=[{provide:ie.zSh,useValue:"root"},{provide:ie.qLn,useFactory:function De(){return new ie.qLn},deps:[]},{provide:_,useClass:V,multi:!0,deps:[h.K0,ie.R0b,ie.Lbi]},{provide:_,useClass:G,multi:!0,deps:[h.K0]},{provide:q,useClass:q,deps:[W,H,ie.AFp]},{provide:ie.FYo,useExisting:q},{provide:B,useExisting:H},{provide:H,useClass:H,deps:[h.K0]},{provide:ie.dDg,useClass:ie.dDg,deps:[ie.R0b]},{provide:W,useClass:W,deps:[_,ie.R0b]},{provide:h.JF,useClass:I,deps:[]}];let Ze=(()=>{class Le{constructor(ve){if(ve)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ve){return{ngModule:Le,providers:[{provide:ie.AFp,useValue:ve.appId},{provide:y,useExisting:ie.AFp},D]}}}return Le.\u0275fac=function(ve){return new(ve||Le)(ie.LFG(Le,12))},Le.\u0275mod=ie.oAB({type:Le}),Le.\u0275inj=ie.cJS({providers:He,imports:[h.ez,ie.hGG]}),Le})();"undefined"!=typeof window&&window},4927:(Ue,ne,le)=>{"use strict";le.d(ne,{F0:()=>On,yS:()=>Ti,Bz:()=>Ri,lC:()=>ce});var h=le(1223),ie=le(7669),ge=le(2076);function be(...i){const o=(0,ie.yG)(i);return(0,ge.D)(i,o)}var ye=le(7579);class se extends ye.x{constructor(o){super(),this._value=o}get value(){return this.getValue()}_subscribe(o){const a=super._subscribe(o);return!a.closed&&o.next(this._value),a}getValue(){const{hasError:o,thrownError:a,_value:c}=this;if(o)throw a;return this._throwIfClosed(),c}next(o){super.next(this._value=o)}}var f=le(8306);const{isArray:T}=Array,{getPrototypeOf:y,prototype:E,keys:D}=Object;var _=le(4671),W=le(3268),B=le(5403),H=le(9672);function m(...i){const o=(0,ie.yG)(i),a=(0,ie.jO)(i),{args:c,keys:p}=function Z(i){if(1===i.length){const o=i[0];if(T(o))return{args:o,keys:null};if(function I(i){return i&&"object"==typeof i&&y(i)===E}(o)){const a=D(o);return{args:a.map(c=>o[c]),keys:a}}}return{args:i,keys:null}}(i);if(0===c.length)return(0,ge.D)([],o);const C=new f.y(function v(i,o,a=_.y){return c=>{R(o,()=>{const{length:p}=i,C=new Array(p);let $=p,ue=p;for(let Ce=0;Ce<p;Ce++)R(o,()=>{const je=(0,ge.D)(i[Ce],o);let rt=!1;je.subscribe((0,B.x)(c,Qe=>{C[Ce]=Qe,rt||(rt=!0,ue--),ue||c.next(a(C.slice()))},()=>{--$||c.complete()}))},c)},c)}}(c,o,p?$=>function de(i,o){return i.reduce((a,c,p)=>(a[c]=o[p],a),{})}(p,$):_.y));return a?C.pipe((0,W.Z)(a)):C}function R(i,o,a){i?(0,H.f)(a,i,o):o()}var O=le(576);function L(i,o){const a=(0,O.m)(i)?i:()=>i,c=p=>p.error(a());return new f.y(o?p=>o.schedule(c,0,p):c)}const Q=(0,le(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var Y=le(8189);function F(...i){return function te(){return(0,Y.J)(1)}()((0,ge.D)(i,(0,ie.yG)(i)))}var U=le(8421);function J(i){return new f.y(o=>{(0,U.Xf)(i()).subscribe(o)})}var q=le(727),re=le(4482);function k(){return(0,re.e)((i,o)=>{let a=null;i._refCount++;const c=(0,B.x)(o,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(a=null);const p=i._connection,C=a;a=null,p&&(!C||p===C)&&p.unsubscribe(),o.unsubscribe()});i.subscribe(c),c.closed||(a=i.connect())})}class M extends f.y{constructor(o,a){super(),this.source=o,this.subjectFactory=a,this._subject=null,this._refCount=0,this._connection=null,(0,re.A)(o)&&(this.lift=o.lift)}_subscribe(o){return this.getSubject().subscribe(o)}getSubject(){const o=this._subject;return(!o||o.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:o}=this;this._subject=this._connection=null,null==o||o.unsubscribe()}connect(){let o=this._connection;if(!o){o=this._connection=new q.w0;const a=this.getSubject();o.add(this.source.subscribe((0,B.x)(a,void 0,()=>{this._teardown(),a.complete()},c=>{this._teardown(),a.error(c)},()=>this._teardown()))),o.closed&&(this._connection=null,o=q.w0.EMPTY)}return o}refCount(){return k()(this)}}var w=le(515);function z(i,o){return(0,re.e)((a,c)=>{let p=null,C=0,$=!1;const ue=()=>$&&!p&&c.complete();a.subscribe((0,B.x)(c,Ce=>{null==p||p.unsubscribe();let je=0;const rt=C++;(0,U.Xf)(i(Ce,rt)).subscribe(p=(0,B.x)(c,Qe=>c.next(o?o(Ce,Qe,rt,je++):Qe),()=>{p=null,ue()}))},()=>{$=!0,ue()}))})}function ae(i,o,a,c,p){return(C,$)=>{let ue=a,Ce=o,je=0;C.subscribe((0,B.x)($,rt=>{const Qe=je++;Ce=ue?i(Ce,rt,Qe):(ue=!0,rt),c&&$.next(Ce)},p&&(()=>{ue&&$.next(Ce),$.complete()})))}}function A(i,o){return(0,re.e)(ae(i,o,arguments.length>=2,!0))}function K(i){return(0,re.e)((o,a)=>{let C,c=null,p=!1;c=o.subscribe((0,B.x)(a,void 0,void 0,$=>{C=(0,U.Xf)(i($,K(i)(o))),c?(c.unsubscribe(),c=null,C.subscribe(a)):p=!0})),p&&(c.unsubscribe(),c=null,C.subscribe(a))})}var ee=le(5577);function me(i,o){return(0,O.m)(o)?(0,ee.z)(i,o,1):(0,ee.z)(i,1)}var G=le(9300);function _e(i){return i<=0?()=>w.E:(0,re.e)((o,a)=>{let c=[];o.subscribe((0,B.x)(a,p=>{c.push(p),i<c.length&&c.shift()},()=>{for(const p of c)a.next(p);a.complete()},void 0,()=>{c=null}))})}function we(i=De){return(0,re.e)((o,a)=>{let c=!1;o.subscribe((0,B.x)(a,p=>{c=!0,a.next(p)},()=>c?a.complete():a.error(i())))})}function De(){return new Q}function Ie(i){return(0,re.e)((o,a)=>{let c=!1;o.subscribe((0,B.x)(a,p=>{c=!0,a.next(p)},()=>{c||a.next(i),a.complete()}))})}var ze=le(5698);function He(i,o){const a=arguments.length>=2;return c=>c.pipe(i?(0,G.h)((p,C)=>i(p,C,c)):_.y,(0,ze.q)(1),a?Ie(o):we(()=>new Q))}function Ze(i,o,a){const c=(0,O.m)(i)||o||a?{next:i,error:o,complete:a}:i;return c?(0,re.e)((p,C)=>{var $;null===($=c.subscribe)||void 0===$||$.call(c);let ue=!0;p.subscribe((0,B.x)(C,Ce=>{var je;null===(je=c.next)||void 0===je||je.call(c,Ce),C.next(Ce)},()=>{var Ce;ue=!1,null===(Ce=c.complete)||void 0===Ce||Ce.call(c),C.complete()},Ce=>{var je;ue=!1,null===(je=c.error)||void 0===je||je.call(c,Ce),C.error(Ce)},()=>{var Ce,je;ue&&(null===(Ce=c.unsubscribe)||void 0===Ce||Ce.call(c)),null===(je=c.finalize)||void 0===je||je.call(c)}))}):_.y}var fe=le(4004),xe=le(9808);class Ae{constructor(o,a){this.id=o,this.url=a}}class Me extends Ae{constructor(o,a,c="imperative",p=null){super(o,a),this.navigationTrigger=c,this.restoredState=p}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ve extends Ae{constructor(o,a,c){super(o,a),this.urlAfterRedirects=c}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xe extends Ae{constructor(o,a,c){super(o,a),this.reason=c}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Je extends Ae{constructor(o,a,c){super(o,a),this.error=c}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mt extends Ae{constructor(o,a,c,p){super(o,a),this.urlAfterRedirects=c,this.state=p}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends Ae{constructor(o,a,c,p){super(o,a),this.urlAfterRedirects=c,this.state=p}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et extends Ae{constructor(o,a,c,p,C){super(o,a),this.urlAfterRedirects=c,this.state=p,this.shouldActivate=C}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yt extends Ae{constructor(o,a,c,p){super(o,a),this.urlAfterRedirects=c,this.state=p}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends Ae{constructor(o,a,c,p){super(o,a),this.urlAfterRedirects=c,this.state=p}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt{constructor(o){this.route=o}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ft{constructor(o){this.route=o}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cn{constructor(o){this.snapshot=o}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(o){this.snapshot=o}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(o){this.snapshot=o}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(o){this.snapshot=o}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(o,a,c){this.routerEvent=o,this.position=a,this.anchor=c}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class ft{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const a=this.params[o];return Array.isArray(a)?a[0]:a}return null}getAll(o){if(this.has(o)){const a=this.params[o];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}}function ct(i){return new ft(i)}const lt="ngNavigationCancelingError";function qt(i){const o=Error("NavigationCancelingError: "+i);return o[lt]=!0,o}function Cn(i,o,a){const c=a.path.split("/");if(c.length>i.length||"full"===a.pathMatch&&(o.hasChildren()||c.length<i.length))return null;const p={};for(let C=0;C<c.length;C++){const $=c[C],ue=i[C];if($.startsWith(":"))p[$.substring(1)]=ue;else if($!==ue.path)return null}return{consumed:i.slice(0,c.length),posParams:p}}function zt(i,o){const a=i?Object.keys(i):void 0,c=o?Object.keys(o):void 0;if(!a||!c||a.length!=c.length)return!1;let p;for(let C=0;C<a.length;C++)if(p=a[C],!Pt(i[p],o[p]))return!1;return!0}function Pt(i,o){if(Array.isArray(i)&&Array.isArray(o)){if(i.length!==o.length)return!1;const a=[...i].sort(),c=[...o].sort();return a.every((p,C)=>c[C]===p)}return i===o}function En(i){return Array.prototype.concat.apply([],i)}function Ut(i){return i.length>0?i[i.length-1]:null}function Wt(i,o){for(const a in i)i.hasOwnProperty(a)&&o(i[a],a)}function tn(i){return(0,h.CqO)(i)?i:(0,h.QGY)(i)?(0,ge.D)(Promise.resolve(i)):be(i)}const Pe={exact:function bt(i,o,a){if(!kn(i.segments,o.segments)||!Ar(i.segments,o.segments,a)||i.numberOfChildren!==o.numberOfChildren)return!1;for(const c in o.children)if(!i.children[c]||!bt(i.children[c],o.children[c],a))return!1;return!0},subset:rn},ve={exact:function qe(i,o){return zt(i,o)},subset:function Ot(i,o){return Object.keys(o).length<=Object.keys(i).length&&Object.keys(o).every(a=>Pt(i[a],o[a]))},ignored:()=>!0};function Ne(i,o,a){return Pe[a.paths](i.root,o.root,a.matrixParams)&&ve[a.queryParams](i.queryParams,o.queryParams)&&!("exact"===a.fragment&&i.fragment!==o.fragment)}function rn(i,o,a){return xn(i,o,o.segments,a)}function xn(i,o,a,c){if(i.segments.length>a.length){const p=i.segments.slice(0,a.length);return!(!kn(p,a)||o.hasChildren()||!Ar(p,a,c))}if(i.segments.length===a.length){if(!kn(i.segments,a)||!Ar(i.segments,a,c))return!1;for(const p in o.children)if(!i.children[p]||!rn(i.children[p],o.children[p],c))return!1;return!0}{const p=a.slice(0,i.segments.length),C=a.slice(i.segments.length);return!!(kn(i.segments,p)&&Ar(i.segments,p,c)&&i.children[Be])&&xn(i.children[Be],o,C,c)}}function Ar(i,o,a){return o.every((c,p)=>ve[a](i[p].parameters,c.parameters))}class tr{constructor(o,a,c){this.root=o,this.queryParams=a,this.fragment=c}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return si.serialize(this)}}class xt{constructor(o,a){this.segments=o,this.children=a,this.parent=null,Wt(a,(c,p)=>c.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pr(this)}}class an{constructor(o,a){this.path=o,this.parameters=a}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return wn(this)}}function kn(i,o){return i.length===o.length&&i.every((a,c)=>a.path===o[c].path)}class ii{}class qr{parse(o){const a=new dr(o);return new tr(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(o){const a=`/${Yn(o.root,!0)}`,c=function hn(i){const o=Object.keys(i).map(a=>{const c=i[a];return Array.isArray(c)?c.map(p=>`${Yr(a)}=${Yr(p)}`).join("&"):`${Yr(a)}=${Yr(c)}`}).filter(a=>!!a);return o.length?`?${o.join("&")}`:""}(o.queryParams);return`${a}${c}${"string"==typeof o.fragment?`#${function Nn(i){return encodeURI(i)}(o.fragment)}`:""}`}}const si=new qr;function Pr(i){return i.segments.map(o=>wn(o)).join("/")}function Yn(i,o){if(!i.hasChildren())return Pr(i);if(o){const a=i.children[Be]?Yn(i.children[Be],!1):"",c=[];return Wt(i.children,(p,C)=>{C!==Be&&c.push(`${C}:${Yn(p,!1)}`)}),c.length>0?`${a}(${c.join("//")})`:a}{const a=function zn(i,o){let a=[];return Wt(i.children,(c,p)=>{p===Be&&(a=a.concat(o(c,p)))}),Wt(i.children,(c,p)=>{p!==Be&&(a=a.concat(o(c,p)))}),a}(i,(c,p)=>p===Be?[Yn(i.children[Be],!1)]:[`${p}:${Yn(c,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Be]?`${Pr(i)}/${a[0]}`:`${Pr(i)}/(${a.join("//")})`}}function dn(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yr(i){return dn(i).replace(/%3B/gi,";")}function ot(i){return dn(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(i){return decodeURIComponent(i)}function Yt(i){return Mt(i.replace(/\+/g,"%20"))}function wn(i){return`${ot(i.path)}${function In(i){return Object.keys(i).map(o=>`;${ot(o)}=${ot(i[o])}`).join("")}(i.parameters)}`}const cr=/^[^\/()?;=#]+/;function Gt(i){const o=i.match(cr);return o?o[0]:""}const Kr=/^[^=?&#]+/,Tt=/^[^&#]+/;class dr{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let c={};return this.peekStartsWith("(")&&(c=this.parseParens(!1)),(o.length>0||Object.keys(a).length>0)&&(c[Be]=new xt(o,a)),c}parseSegment(){const o=Gt(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(o),new an(Mt(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const a=Gt(this.remaining);if(!a)return;this.capture(a);let c="";if(this.consumeOptional("=")){const p=Gt(this.remaining);p&&(c=p,this.capture(c))}o[Mt(a)]=Mt(c)}parseQueryParam(o){const a=function yn(i){const o=i.match(Kr);return o?o[0]:""}(this.remaining);if(!a)return;this.capture(a);let c="";if(this.consumeOptional("=")){const $=function Tr(i){const o=i.match(Tt);return o?o[0]:""}(this.remaining);$&&(c=$,this.capture(c))}const p=Yt(a),C=Yt(c);if(o.hasOwnProperty(p)){let $=o[p];Array.isArray($)||($=[$],o[p]=$),$.push(C)}else o[p]=C}parseParens(o){const a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const c=Gt(this.remaining),p=this.remaining[c.length];if("/"!==p&&")"!==p&&";"!==p)throw new Error(`Cannot parse url '${this.url}'`);let C;c.indexOf(":")>-1?(C=c.substr(0,c.indexOf(":")),this.capture(C),this.capture(":")):o&&(C=Be);const $=this.parseChildren();a[C]=1===Object.keys($).length?$[Be]:new xt([],$),this.consumeOptional("//")}return a}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new Error(`Expected "${o}".`)}}class Mr{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const a=this.pathFromRoot(o);return a.length>1?a[a.length-2]:null}children(o){const a=rr(o,this._root);return a?a.children.map(c=>c.value):[]}firstChild(o){const a=rr(o,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(o){const a=Tn(o,this._root);return a.length<2?[]:a[a.length-2].children.map(p=>p.value).filter(p=>p!==o)}pathFromRoot(o){return Tn(o,this._root).map(a=>a.value)}}function rr(i,o){if(i===o.value)return o;for(const a of o.children){const c=rr(i,a);if(c)return c}return null}function Tn(i,o){if(i===o.value)return[o];for(const a of o.children){const c=Tn(i,a);if(c.length)return c.unshift(o),c}return[]}class Wn{constructor(o,a){this.value=o,this.children=a}toString(){return`TreeNode(${this.value})`}}function _n(i){const o={};return i&&i.children.forEach(a=>o[a.value.outlet]=a),o}class Bn extends Mr{constructor(o,a){super(o),this.snapshot=a,Xr(this,o)}toString(){return this.snapshot.toString()}}function Ht(i,o){const a=function Cs(i,o){const $=new xr([],{},{},"",{},Be,o,null,i.root,-1,{});return new Ir("",new Wn($,[]))}(i,o),c=new se([new an("",{})]),p=new se({}),C=new se({}),$=new se({}),ue=new se(""),Ce=new Qr(c,p,$,ue,C,Be,o,a.root);return Ce.snapshot=a.root,new Bn(new Wn(Ce,[]),a)}class Qr{constructor(o,a,c,p,C,$,ue,Ce){this.url=o,this.params=a,this.queryParams=c,this.fragment=p,this.data=C,this.outlet=$,this.component=ue,this._futureSnapshot=Ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fe.U)(o=>ct(o)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fe.U)(o=>ct(o)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sn(i,o="emptyOnly"){const a=i.pathFromRoot;let c=0;if("always"!==o)for(c=a.length-1;c>=1;){const p=a[c],C=a[c-1];if(p.routeConfig&&""===p.routeConfig.path)c--;else{if(C.component)break;c--}}return function ir(i){return i.reduce((o,a)=>({params:Object.assign(Object.assign({},o.params),a.params),data:Object.assign(Object.assign({},o.data),a.data),resolve:Object.assign(Object.assign({},o.resolve),a._resolvedData)}),{params:{},data:{},resolve:{}})}(a.slice(c))}class xr{constructor(o,a,c,p,C,$,ue,Ce,je,rt,Qe){this.url=o,this.params=a,this.queryParams=c,this.fragment=p,this.data=C,this.outlet=$,this.component=ue,this.routeConfig=Ce,this._urlSegment=je,this._lastPathIndex=rt,this._resolve=Qe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(c=>c.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ir extends Mr{constructor(o,a){super(a),this.url=o,Xr(this,a)}toString(){return Vn(this._root)}}function Xr(i,o){o.value._routerState=i,o.children.forEach(a=>Xr(i,a))}function Vn(i){const o=i.children.length>0?` { ${i.children.map(Vn).join(", ")} } `:"";return`${i.value}${o}`}function Wi(i){if(i.snapshot){const o=i.snapshot,a=i._futureSnapshot;i.snapshot=a,zt(o.queryParams,a.queryParams)||i.queryParams.next(a.queryParams),o.fragment!==a.fragment&&i.fragment.next(a.fragment),zt(o.params,a.params)||i.params.next(a.params),function mn(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(!zt(i[a],o[a]))return!1;return!0}(o.url,a.url)||i.url.next(a.url),zt(o.data,a.data)||i.data.next(a.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function yi(i,o){const a=zt(i.params,o.params)&&function nr(i,o){return kn(i,o)&&i.every((a,c)=>zt(a.parameters,o[c].parameters))}(i.url,o.url);return a&&!(!i.parent!=!o.parent)&&(!i.parent||yi(i.parent,o.parent))}function Cr(i,o,a){if(a&&i.shouldReuseRoute(o.value,a.value.snapshot)){const c=a.value;c._futureSnapshot=o.value;const p=function qi(i,o,a){return o.children.map(c=>{for(const p of a.children)if(i.shouldReuseRoute(c.value,p.value.snapshot))return Cr(i,c,p);return Cr(i,c)})}(i,o,a);return new Wn(c,p)}{if(i.shouldAttach(o.value)){const C=i.retrieve(o.value);if(null!==C){const $=C.route;return $.value._futureSnapshot=o.value,$.children=o.children.map(ue=>Cr(i,ue)),$}}const c=function Es(i){return new Qr(new se(i.url),new se(i.params),new se(i.queryParams),new se(i.fragment),new se(i.data),i.outlet,i.component,i)}(o.value),p=o.children.map(C=>Cr(i,C));return new Wn(c,p)}}function hr(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Zr(i){return"object"==typeof i&&null!=i&&i.outlets}function oi(i,o,a,c,p){let C={};if(c&&Wt(c,(ue,Ce)=>{C[Ce]=Array.isArray(ue)?ue.map(je=>`${je}`):`${ue}`}),i===o)return new tr(a,C,p);const $=Ss(i,o,a);return new tr($,C,p)}function Ss(i,o,a){const c={};return Wt(i.children,(p,C)=>{c[C]=p===o?a:Ss(p,o,a)}),new xt(i.segments,c)}class Jr{constructor(o,a,c){if(this.isAbsolute=o,this.numberOfDoubleDots=a,this.commands=c,o&&c.length>0&&hr(c[0]))throw new Error("Root segment cannot have matrix parameters");const p=c.find(Zr);if(p&&p!==Ut(c))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fr{constructor(o,a,c){this.segmentGroup=o,this.processChildren=a,this.index=c}}function pr(i,o,a){if(i||(i=new xt([],{})),0===i.segments.length&&i.hasChildren())return gr(i,o,a);const c=function ss(i,o,a){let c=0,p=o;const C={match:!1,pathIndex:0,commandIndex:0};for(;p<i.segments.length;){if(c>=a.length)return C;const $=i.segments[p],ue=a[c];if(Zr(ue))break;const Ce=`${ue}`,je=c<a.length-1?a[c+1]:null;if(p>0&&void 0===Ce)break;if(Ce&&je&&"object"==typeof je&&void 0===je.outlets){if(!Qn(Ce,je,$))return C;c+=2}else{if(!Qn(Ce,{},$))return C;c++}p++}return{match:!0,pathIndex:p,commandIndex:c}}(i,o,a),p=a.slice(c.commandIndex);if(c.match&&c.pathIndex<i.segments.length){const C=new xt(i.segments.slice(0,c.pathIndex),{});return C.children[Be]=new xt(i.segments.slice(c.pathIndex),i.children),gr(C,0,p)}return c.match&&0===p.length?new xt(i.segments,{}):c.match&&!i.hasChildren()?vi(i,o,a):c.match?gr(i,0,p):vi(i,o,a)}function gr(i,o,a){if(0===a.length)return new xt(i.segments,{});{const c=function Kn(i){return Zr(i[0])?i[0].outlets:{[Be]:i}}(a),p={};return Wt(c,(C,$)=>{"string"==typeof C&&(C=[C]),null!==C&&(p[$]=pr(i.children[$],o,C))}),Wt(i.children,(C,$)=>{void 0===c[$]&&(p[$]=C)}),new xt(i.segments,p)}}function vi(i,o,a){const c=i.segments.slice(0,o);let p=0;for(;p<a.length;){const C=a[p];if(Zr(C)){const Ce=os(C.outlets);return new xt(c,Ce)}if(0===p&&hr(a[0])){c.push(new an(i.segments[o].path,bi(a[0]))),p++;continue}const $=Zr(C)?C.outlets[Be]:`${C}`,ue=p<a.length-1?a[p+1]:null;$&&ue&&hr(ue)?(c.push(new an($,bi(ue))),p+=2):(c.push(new an($,{})),p++)}return new xt(c,{})}function os(i){const o={};return Wt(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[c]=vi(new xt([],{}),0,a))}),o}function bi(i){const o={};return Wt(i,(a,c)=>o[c]=`${a}`),o}function Qn(i,o,a){return i==a.path&&zt(o,a.parameters)}class Ai{constructor(o,a,c,p){this.routeReuseStrategy=o,this.futureState=a,this.currState=c,this.forwardEvent=p}activate(o){const a=this.futureState._root,c=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,c,o),Wi(this.futureState.root),this.activateChildRoutes(a,c,o)}deactivateChildRoutes(o,a,c){const p=_n(a);o.children.forEach(C=>{const $=C.value.outlet;this.deactivateRoutes(C,p[$],c),delete p[$]}),Wt(p,(C,$)=>{this.deactivateRouteAndItsChildren(C,c)})}deactivateRoutes(o,a,c){const p=o.value,C=a?a.value:null;if(p===C)if(p.component){const $=c.getContext(p.outlet);$&&this.deactivateChildRoutes(o,a,$.children)}else this.deactivateChildRoutes(o,a,c);else C&&this.deactivateRouteAndItsChildren(a,c)}deactivateRouteAndItsChildren(o,a){o.value.component&&this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,a):this.deactivateRouteAndOutlet(o,a)}detachAndStoreRouteSubtree(o,a){const c=a.getContext(o.value.outlet),p=c&&o.value.component?c.children:a,C=_n(o);for(const $ of Object.keys(C))this.deactivateRouteAndItsChildren(C[$],p);if(c&&c.outlet){const $=c.outlet.detach(),ue=c.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:$,route:o,contexts:ue})}}deactivateRouteAndOutlet(o,a){const c=a.getContext(o.value.outlet),p=c&&o.value.component?c.children:a,C=_n(o);for(const $ of Object.keys(C))this.deactivateRouteAndItsChildren(C[$],p);c&&c.outlet&&(c.outlet.deactivate(),c.children.onOutletDeactivated(),c.attachRef=null,c.resolver=null,c.route=null)}activateChildRoutes(o,a,c){const p=_n(a);o.children.forEach(C=>{this.activateRoutes(C,p[C.value.outlet],c),this.forwardEvent(new Te(C.value.snapshot))}),o.children.length&&this.forwardEvent(new Lt(o.value.snapshot))}activateRoutes(o,a,c){const p=o.value,C=a?a.value:null;if(Wi(p),p===C)if(p.component){const $=c.getOrCreateContext(p.outlet);this.activateChildRoutes(o,a,$.children)}else this.activateChildRoutes(o,a,c);else if(p.component){const $=c.getOrCreateContext(p.outlet);if(this.routeReuseStrategy.shouldAttach(p.snapshot)){const ue=this.routeReuseStrategy.retrieve(p.snapshot);this.routeReuseStrategy.store(p.snapshot,null),$.children.onOutletReAttached(ue.contexts),$.attachRef=ue.componentRef,$.route=ue.route.value,$.outlet&&$.outlet.attach(ue.componentRef,ue.route.value),Wi(ue.route.value),this.activateChildRoutes(o,null,$.children)}else{const ue=function Ts(i){for(let o=i.parent;o;o=o.parent){const a=o.routeConfig;if(a&&a._loadedConfig)return a._loadedConfig;if(a&&a.component)return null}return null}(p.snapshot),Ce=ue?ue.module.componentFactoryResolver:null;$.attachRef=null,$.route=p,$.resolver=Ce,$.outlet&&$.outlet.activateWith(p,Ce),this.activateChildRoutes(o,null,$.children)}}else this.activateChildRoutes(o,null,c)}}class as{constructor(o,a){this.routes=o,this.module=a}}function Rr(i){return"function"==typeof i}function mr(i){return i instanceof tr}const Fr=Symbol("INITIAL_VALUE");function P(){return z(i=>m(i.map(o=>o.pipe((0,ze.q)(1),function V(...i){const o=(0,ie.yG)(i);return(0,re.e)((a,c)=>{(o?F(i,a,o):F(i,a)).subscribe(c)})}(Fr)))).pipe(A((o,a)=>{let c=!1;return a.reduce((p,C,$)=>p!==Fr?p:(C===Fr&&(c=!0),c||!1!==C&&$!==a.length-1&&!mr(C)?p:C),o)},Fr),(0,G.h)(o=>o!==Fr),(0,fe.U)(o=>mr(o)?o:!0===o),(0,ze.q)(1)))}class oe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new x,this.attachRef=null}}class x{constructor(){this.contexts=new Map}onChildOutletCreated(o,a){const c=this.getOrCreateContext(o);c.outlet=a,this.contexts.set(o,c)}onChildOutletDestroyed(o){const a=this.getContext(o);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let a=this.getContext(o);return a||(a=new oe,this.contexts.set(o,a)),a}getContext(o){return this.contexts.get(o)||null}}let ce=(()=>{class i{constructor(a,c,p,C,$){this.parentContexts=a,this.location=c,this.resolver=p,this.changeDetector=$,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=C||Be,a.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const a=this.parentContexts.getContext(this.name);a&&a.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,c){this.activated=a,this._activatedRoute=c,this.location.insert(a.hostView),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){const a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,c){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=a;const $=(c=c||this.resolver).resolveComponentFactory(a._futureSnapshot.routeConfig.component),ue=this.parentContexts.getOrCreateContext(this.name).children,Ce=new Se(a,ue,this.location.injector);this.activated=this.location.createComponent($,this.location.length,Ce),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(a){return new(a||i)(h.Y36(x),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},i.\u0275dir=h.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class Se{constructor(o,a,c){this.route=o,this.childContexts=a,this.parent=c}get(o,a){return o===Qr?this.route:o===x?this.childContexts:this.parent.get(o,a)}}let $e=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(a,c){1&a&&h._UZ(0,"router-outlet")},directives:[ce],encapsulation:2}),i})();function Ke(i,o=""){for(let a=0;a<i.length;a++){const c=i[a];ht(c,Et(o,c))}}function ht(i,o){i.children&&Ke(i.children,o)}function Et(i,o){return o?i||o.path?i&&!o.path?`${i}/`:!i&&o.path?o.path:`${i}/${o.path}`:"":i}function $t(i){const o=i.children&&i.children.map($t),a=o?Object.assign(Object.assign({},i),{children:o}):Object.assign({},i);return!a.component&&(o||a.loadChildren)&&a.outlet&&a.outlet!==Be&&(a.component=$e),a}function kt(i){return i.outlet||Be}function gt(i,o){const a=i.filter(c=>kt(c)===o);return a.push(...i.filter(c=>kt(c)!==o)),a}const vn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kt(i,o,a){var c;if(""===o.path)return"full"===o.pathMatch&&(i.hasChildren()||a.length>0)?Object.assign({},vn):{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};const C=(o.matcher||Cn)(a,i,o);if(!C)return Object.assign({},vn);const $={};Wt(C.posParams,(Ce,je)=>{$[je]=Ce.path});const ue=C.consumed.length>0?Object.assign(Object.assign({},$),C.consumed[C.consumed.length-1].parameters):$;return{matched:!0,consumedSegments:C.consumed,remainingSegments:a.slice(C.consumed.length),parameters:ue,positionalParamSegments:null!==(c=C.posParams)&&void 0!==c?c:{}}}function on(i,o,a,c,p="corrected"){if(a.length>0&&function ei(i,o,a){return a.some(c=>Sn(i,o,c)&&kt(c)!==Be)}(i,a,c)){const $=new xt(o,function Lr(i,o,a,c){const p={};p[Be]=c,c._sourceSegment=i,c._segmentIndexShift=o.length;for(const C of a)if(""===C.path&&kt(C)!==Be){const $=new xt([],{});$._sourceSegment=i,$._segmentIndexShift=o.length,p[kt(C)]=$}return p}(i,o,c,new xt(a,i.children)));return $._sourceSegment=i,$._segmentIndexShift=o.length,{segmentGroup:$,slicedSegments:[]}}if(0===a.length&&function Rn(i,o,a){return a.some(c=>Sn(i,o,c))}(i,a,c)){const $=new xt(i.segments,function Dn(i,o,a,c,p,C){const $={};for(const ue of c)if(Sn(i,a,ue)&&!p[kt(ue)]){const Ce=new xt([],{});Ce._sourceSegment=i,Ce._segmentIndexShift="legacy"===C?i.segments.length:o.length,$[kt(ue)]=Ce}return Object.assign(Object.assign({},p),$)}(i,o,a,c,i.children,p));return $._sourceSegment=i,$._segmentIndexShift=o.length,{segmentGroup:$,slicedSegments:a}}const C=new xt(i.segments,i.children);return C._sourceSegment=i,C._segmentIndexShift=o.length,{segmentGroup:C,slicedSegments:a}}function Sn(i,o,a){return(!(i.hasChildren()||o.length>0)||"full"!==a.pathMatch)&&""===a.path}function Zn(i,o,a,c){return!!(kt(i)===c||c!==Be&&Sn(o,a,i))&&("**"===i.path||Kt(o,i,a).matched)}function kr(i,o,a){return 0===o.length&&!i.children[a]}class Ei{constructor(o){this.segmentGroup=o||null}}class sr{constructor(o){this.urlTree=o}}function Si(i){return L(new Ei(i))}function ls(i){return L(new sr(i))}class xs{constructor(o,a,c,p,C){this.configLoader=a,this.urlSerializer=c,this.urlTree=p,this.config=C,this.allowRedirects=!0,this.ngModule=o.get(h.h0i)}apply(){const o=on(this.urlTree.root,[],[],this.config).segmentGroup,a=new xt(o.segments,o.children);return this.expandSegmentGroup(this.ngModule,this.config,a,Be).pipe((0,fe.U)(C=>this.createUrlTree(ai(C),this.urlTree.queryParams,this.urlTree.fragment))).pipe(K(C=>{if(C instanceof sr)return this.allowRedirects=!1,this.match(C.urlTree);throw C instanceof Ei?this.noMatchError(C):C}))}match(o){return this.expandSegmentGroup(this.ngModule,this.config,o.root,Be).pipe((0,fe.U)(p=>this.createUrlTree(ai(p),o.queryParams,o.fragment))).pipe(K(p=>{throw p instanceof Ei?this.noMatchError(p):p}))}noMatchError(o){return new Error(`Cannot match any routes. URL Segment: '${o.segmentGroup}'`)}createUrlTree(o,a,c){const p=o.segments.length>0?new xt([],{[Be]:o}):o;return new tr(p,a,c)}expandSegmentGroup(o,a,c,p){return 0===c.segments.length&&c.hasChildren()?this.expandChildren(o,a,c).pipe((0,fe.U)(C=>new xt([],C))):this.expandSegment(o,c,a,c.segments,p,!0)}expandChildren(o,a,c){const p=[];for(const C of Object.keys(c.children))"primary"===C?p.unshift(C):p.push(C);return(0,ge.D)(p).pipe(me(C=>{const $=c.children[C],ue=gt(a,C);return this.expandSegmentGroup(o,ue,$,C).pipe((0,fe.U)(Ce=>({segment:Ce,outlet:C})))}),A((C,$)=>(C[$.outlet]=$.segment,C),{}),function Fe(i,o){const a=arguments.length>=2;return c=>c.pipe(i?(0,G.h)((p,C)=>i(p,C,c)):_.y,_e(1),a?Ie(o):we(()=>new Q))}())}expandSegment(o,a,c,p,C,$){return(0,ge.D)(c).pipe(me(ue=>this.expandSegmentAgainstRoute(o,a,c,ue,p,C,$).pipe(K(je=>{if(je instanceof Ei)return be(null);throw je}))),He(ue=>!!ue),K((ue,Ce)=>{if(ue instanceof Q||"EmptyError"===ue.name)return kr(a,p,C)?be(new xt([],{})):Si(a);throw ue}))}expandSegmentAgainstRoute(o,a,c,p,C,$,ue){return Zn(p,a,C,$)?void 0===p.redirectTo?this.matchSegmentAgainstRoute(o,a,p,C,$):ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(o,a,c,p,C,$):Si(a):Si(a)}expandSegmentAgainstRouteUsingRedirect(o,a,c,p,C,$){return"**"===p.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o,c,p,$):this.expandRegularSegmentAgainstRouteUsingRedirect(o,a,c,p,C,$)}expandWildCardWithParamsAgainstRouteUsingRedirect(o,a,c,p){const C=this.applyRedirectCommands([],c.redirectTo,{});return c.redirectTo.startsWith("/")?ls(C):this.lineralizeSegments(c,C).pipe((0,ee.z)($=>{const ue=new xt($,{});return this.expandSegment(o,ue,a,$,p,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(o,a,c,p,C,$){const{matched:ue,consumedSegments:Ce,remainingSegments:je,positionalParamSegments:rt}=Kt(a,p,C);if(!ue)return Si(a);const Qe=this.applyRedirectCommands(Ce,p.redirectTo,rt);return p.redirectTo.startsWith("/")?ls(Qe):this.lineralizeSegments(p,Qe).pipe((0,ee.z)(it=>this.expandSegment(o,a,c,it.concat(je),$,!1)))}matchSegmentAgainstRoute(o,a,c,p,C){if("**"===c.path)return c.loadChildren?(c._loadedConfig?be(c._loadedConfig):this.configLoader.load(o.injector,c)).pipe((0,fe.U)(Qe=>(c._loadedConfig=Qe,new xt(p,{})))):be(new xt(p,{}));const{matched:$,consumedSegments:ue,remainingSegments:Ce}=Kt(a,c,p);return $?this.getChildConfig(o,c,p).pipe((0,ee.z)(rt=>{const Qe=rt.module,it=rt.routes,{segmentGroup:at,slicedSegments:Nt}=on(a,ue,Ce,it),Qt=new xt(at.segments,at.children);if(0===Nt.length&&Qt.hasChildren())return this.expandChildren(Qe,it,Qt).pipe((0,fe.U)(yr=>new xt(ue,yr)));if(0===it.length&&0===Nt.length)return be(new xt(ue,{}));const ln=kt(c)===C;return this.expandSegment(Qe,Qt,it,Nt,ln?Be:C,!0).pipe((0,fe.U)(Zt=>new xt(ue.concat(Zt.segments),Zt.children)))})):Si(a)}getChildConfig(o,a,c){return a.children?be(new as(a.children,o)):a.loadChildren?void 0!==a._loadedConfig?be(a._loadedConfig):this.runCanLoadGuards(o.injector,a,c).pipe((0,ee.z)(p=>p?this.configLoader.load(o.injector,a).pipe((0,fe.U)(C=>(a._loadedConfig=C,C))):function Da(i){return L(qt(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))}(a))):be(new as([],o))}runCanLoadGuards(o,a,c){const p=a.canLoad;return p&&0!==p.length?be(p.map($=>{const ue=o.get($);let Ce;if(function Ci(i){return i&&Rr(i.canLoad)}(ue))Ce=ue.canLoad(a,c);else{if(!Rr(ue))throw new Error("Invalid CanLoad guard");Ce=ue(a,c)}return tn(Ce)})).pipe(P(),Ze($=>{if(!mr($))return;const ue=qt(`Redirecting to "${this.urlSerializer.serialize($)}"`);throw ue.url=$,ue}),(0,fe.U)($=>!0===$)):be(!0)}lineralizeSegments(o,a){let c=[],p=a.root;for(;;){if(c=c.concat(p.segments),0===p.numberOfChildren)return be(c);if(p.numberOfChildren>1||!p.children[Be])return L(new Error(`Only absolute redirects can have named outlets. redirectTo: '${o.redirectTo}'`));p=p.children[Be]}}applyRedirectCommands(o,a,c){return this.applyRedirectCreatreUrlTree(a,this.urlSerializer.parse(a),o,c)}applyRedirectCreatreUrlTree(o,a,c,p){const C=this.createSegmentGroup(o,a.root,c,p);return new tr(C,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(o,a){const c={};return Wt(o,(p,C)=>{if("string"==typeof p&&p.startsWith(":")){const ue=p.substring(1);c[C]=a[ue]}else c[C]=p}),c}createSegmentGroup(o,a,c,p){const C=this.createSegments(o,a.segments,c,p);let $={};return Wt(a.children,(ue,Ce)=>{$[Ce]=this.createSegmentGroup(o,ue,c,p)}),new xt(C,$)}createSegments(o,a,c,p){return a.map(C=>C.path.startsWith(":")?this.findPosParam(o,C,p):this.findOrReturn(C,c))}findPosParam(o,a,c){const p=c[a.path.substring(1)];if(!p)throw new Error(`Cannot redirect to '${o}'. Cannot find '${a.path}'.`);return p}findOrReturn(o,a){let c=0;for(const p of a){if(p.path===o.path)return a.splice(c),p;c++}return o}}function ai(i){const o={};for(const c of Object.keys(i.children)){const C=ai(i.children[c]);(C.segments.length>0||C.hasChildren())&&(o[c]=C)}return function Ho(i){if(1===i.numberOfChildren&&i.children[Be]){const o=i.children[Be];return new xt(i.segments.concat(o.segments),o.children)}return i}(new xt(i.segments,o))}class Yi{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class Ye{constructor(o,a){this.component=o,this.route=a}}function Bt(i,o,a){const c=i._root;return ti(c,o?o._root:null,a,[c.value])}function fn(i,o,a){const c=function us(i){if(!i)return null;for(let o=i.parent;o;o=o.parent){const a=o.routeConfig;if(a&&a._loadedConfig)return a._loadedConfig}return null}(o);return(c?c.module.injector:a).get(i)}function ti(i,o,a,c,p={canDeactivateChecks:[],canActivateChecks:[]}){const C=_n(o);return i.children.forEach($=>{(function Er(i,o,a,c,p={canDeactivateChecks:[],canActivateChecks:[]}){const C=i.value,$=o?o.value:null,ue=a?a.getContext(i.value.outlet):null;if($&&C.routeConfig===$.routeConfig){const Ce=function Rs(i,o,a){if("function"==typeof a)return a(i,o);switch(a){case"pathParamsChange":return!kn(i.url,o.url);case"pathParamsOrQueryParamsChange":return!kn(i.url,o.url)||!zt(i.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yi(i,o)||!zt(i.queryParams,o.queryParams);default:return!yi(i,o)}}($,C,C.routeConfig.runGuardsAndResolvers);Ce?p.canActivateChecks.push(new Yi(c)):(C.data=$.data,C._resolvedData=$._resolvedData),ti(i,o,C.component?ue?ue.children:null:a,c,p),Ce&&ue&&ue.outlet&&ue.outlet.isActivated&&p.canDeactivateChecks.push(new Ye(ue.outlet.component,$))}else $&&li(o,ue,p),p.canActivateChecks.push(new Yi(c)),ti(i,null,C.component?ue?ue.children:null:a,c,p)})($,C[$.value.outlet],a,c.concat([$.value]),p),delete C[$.value.outlet]}),Wt(C,($,ue)=>li($,a.getContext(ue),p)),p}function li(i,o,a){const c=_n(i),p=i.value;Wt(c,(C,$)=>{li(C,p.component?o?o.children.getContext($):null:o,a)}),a.canDeactivateChecks.push(new Ye(p.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,p))}class Sr{}function Zs(i){return new f.y(o=>o.error(i))}class eo{constructor(o,a,c,p,C,$){this.rootComponentType=o,this.config=a,this.urlTree=c,this.url=p,this.paramsInheritanceStrategy=C,this.relativeLinkResolution=$}recognize(){const o=on(this.urlTree.root,[],[],this.config.filter($=>void 0===$.redirectTo),this.relativeLinkResolution).segmentGroup,a=this.processSegmentGroup(this.config,o,Be);if(null===a)return null;const c=new xr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),p=new Wn(c,a),C=new Ir(this.url,p);return this.inheritParamsAndData(C._root),C}inheritParamsAndData(o){const a=o.value,c=sn(a,this.paramsInheritanceStrategy);a.params=Object.freeze(c.params),a.data=Object.freeze(c.data),o.children.forEach(p=>this.inheritParamsAndData(p))}processSegmentGroup(o,a,c){return 0===a.segments.length&&a.hasChildren()?this.processChildren(o,a):this.processSegment(o,a,a.segments,c)}processChildren(o,a){const c=[];for(const C of Object.keys(a.children)){const $=a.children[C],ue=gt(o,C),Ce=this.processSegmentGroup(ue,$,C);if(null===Ce)return null;c.push(...Ce)}const p=Ls(c);return function zo(i){i.sort((o,a)=>o.value.outlet===Be?-1:a.value.outlet===Be?1:o.value.outlet.localeCompare(a.value.outlet))}(p),p}processSegment(o,a,c,p){for(const C of o){const $=this.processSegmentAgainstRoute(C,a,c,p);if(null!==$)return $}return kr(a,c,p)?[]:null}processSegmentAgainstRoute(o,a,c,p){if(o.redirectTo||!Zn(o,a,c,p))return null;let C,$=[],ue=[];if("**"===o.path){const at=c.length>0?Ut(c).parameters:{};C=new xr(c,at,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xi(o),kt(o),o.component,o,no(a),ds(a)+c.length,qn(o))}else{const at=Kt(a,o,c);if(!at.matched)return null;$=at.consumedSegments,ue=at.remainingSegments,C=new xr($,at.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xi(o),kt(o),o.component,o,no(a),ds(a)+$.length,qn(o))}const Ce=function Qi(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(o),{segmentGroup:je,slicedSegments:rt}=on(a,$,ue,Ce.filter(at=>void 0===at.redirectTo),this.relativeLinkResolution);if(0===rt.length&&je.hasChildren()){const at=this.processChildren(Ce,je);return null===at?null:[new Wn(C,at)]}if(0===Ce.length&&0===rt.length)return[new Wn(C,[])];const Qe=kt(o)===p,it=this.processSegment(Ce,je,rt,Qe?Be:p);return null===it?null:[new Wn(C,it)]}}function Fs(i){const o=i.value.routeConfig;return o&&""===o.path&&void 0===o.redirectTo}function Ls(i){const o=[],a=new Set;for(const c of i){if(!Fs(c)){o.push(c);continue}const p=o.find(C=>c.value.routeConfig===C.value.routeConfig);void 0!==p?(p.children.push(...c.children),a.add(p)):o.push(c)}for(const c of a){const p=Ls(c.children);o.push(new Wn(c.value,p))}return o.filter(c=>!a.has(c))}function no(i){let o=i;for(;o._sourceSegment;)o=o._sourceSegment;return o}function ds(i){let o=i,a=o._segmentIndexShift?o._segmentIndexShift:0;for(;o._sourceSegment;)o=o._sourceSegment,a+=o._segmentIndexShift?o._segmentIndexShift:0;return a-1}function Xi(i){return i.data||{}}function qn(i){return i.resolve||{}}function ro(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Mn(i){return z(o=>{const a=i(o);return a?(0,ge.D)(a).pipe((0,fe.U)(()=>o)):be(o)})}class Wo extends class nn{shouldDetach(o){return!1}store(o,a){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,a){return o.routeConfig===a.routeConfig}}{}const gs=new h.OlP("ROUTES");class Ns{constructor(o,a,c,p){this.injector=o,this.compiler=a,this.onLoadStartListener=c,this.onLoadEndListener=p}load(o,a){if(a._loader$)return a._loader$;this.onLoadStartListener&&this.onLoadStartListener(a);const p=this.loadModuleFactory(a.loadChildren).pipe((0,fe.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(a);const $=C.create(o);return new as(En($.injector.get(gs,void 0,h.XFs.Self|h.XFs.Optional)).map($t),$)}),K(C=>{throw a._loader$=void 0,C}));return a._loader$=new M(p,()=>new ye.x).pipe(k()),a._loader$}loadModuleFactory(o){return tn(o()).pipe((0,ee.z)(a=>a instanceof h.YKP?be(a):(0,ge.D)(this.compiler.compileModuleAsync(a))))}}class or{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,a){return o}}function Pi(i){throw i}function ms(i,o,a){return o.parse("/")}function Zi(i,o){return be(null)}const Ji={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class i{constructor(a,c,p,C,$,ue,Ce){this.rootComponentType=a,this.urlSerializer=c,this.rootContexts=p,this.location=C,this.config=Ce,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye.x,this.errorHandler=Pi,this.malformedUriErrorHandler=ms,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zi,afterPreactivation:Zi},this.urlHandlingStrategy=new or,this.routeReuseStrategy=new Wo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=$.get(h.h0i),this.console=$.get(h.c2e);const Qe=$.get(h.R0b);this.isNgZoneEnabled=Qe instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(Ce),this.currentUrlTree=function Le(){return new tr(new xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ns($,ue,it=>this.triggerEvent(new nt(it)),it=>this.triggerEvent(new Ft(it))),this.routerState=Ht(this.currentUrlTree,this.rootComponentType),this.transitions=new se({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var a;return null===(a=this.location.getState())||void 0===a?void 0:a.\u0275routerPageId}setupNavigations(a){const c=this.events;return a.pipe((0,G.h)(p=>0!==p.id),(0,fe.U)(p=>Object.assign(Object.assign({},p),{extractedUrl:this.urlHandlingStrategy.extract(p.rawUrl)})),z(p=>{let C=!1,$=!1;return be(p).pipe(Ze(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.currentRawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),z(ue=>{const Ce=this.browserUrlTree.toString(),je=!this.navigated||ue.extractedUrl.toString()!==Ce||Ce!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||je)&&this.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return Br(ue.source)&&(this.browserUrlTree=ue.extractedUrl),be(ue).pipe(z(Qe=>{const it=this.transitions.getValue();return c.next(new Me(Qe.id,this.serializeUrl(Qe.extractedUrl),Qe.source,Qe.restoredState)),it!==this.transitions.getValue()?w.E:Promise.resolve(Qe)}),function Is(i,o,a,c){return z(p=>function Uo(i,o,a,c,p){return new xs(i,o,a,c,p).apply()}(i,o,a,p.extractedUrl,c).pipe((0,fe.U)(C=>Object.assign(Object.assign({},p),{urlAfterRedirects:C}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ze(Qe=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Qe.urlAfterRedirects})}),function hs(i,o,a,c,p){return(0,ee.z)(C=>function Js(i,o,a,c,p="emptyOnly",C="legacy"){try{const $=new eo(i,o,a,c,p,C).recognize();return null===$?Zs(new Sr):be($)}catch($){return Zs($)}}(i,o,C.urlAfterRedirects,a(C.urlAfterRedirects),c,p).pipe((0,fe.U)($=>Object.assign(Object.assign({},C),{targetSnapshot:$}))))}(this.rootComponentType,this.config,Qe=>this.serializeUrl(Qe),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ze(Qe=>{if("eager"===this.urlUpdateStrategy){if(!Qe.extras.skipLocationChange){const at=this.urlHandlingStrategy.merge(Qe.urlAfterRedirects,Qe.rawUrl);this.setBrowserUrl(at,Qe)}this.browserUrlTree=Qe.urlAfterRedirects}const it=new mt(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);c.next(it)}));if(je&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:it,extractedUrl:at,source:Nt,restoredState:Qt,extras:ln}=ue,pn=new Me(it,this.serializeUrl(at),Nt,Qt);c.next(pn);const Zt=Ht(at,this.rootComponentType).snapshot;return be(Object.assign(Object.assign({},ue),{targetSnapshot:Zt,urlAfterRedirects:at,extras:Object.assign(Object.assign({},ln),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ue.rawUrl,ue.resolve(null),w.E}),Mn(ue=>{const{targetSnapshot:Ce,id:je,extractedUrl:rt,rawUrl:Qe,extras:{skipLocationChange:it,replaceUrl:at}}=ue;return this.hooks.beforePreactivation(Ce,{navigationId:je,appliedUrlTree:rt,rawUrlTree:Qe,skipLocationChange:!!it,replaceUrl:!!at})}),Ze(ue=>{const Ce=new _t(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot);this.triggerEvent(Ce)}),(0,fe.U)(ue=>Object.assign(Object.assign({},ue),{guards:Bt(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)})),function Go(i,o){return(0,ee.z)(a=>{const{targetSnapshot:c,currentSnapshot:p,guards:{canActivateChecks:C,canDeactivateChecks:$}}=a;return 0===$.length&&0===C.length?be(Object.assign(Object.assign({},a),{guardsResult:!0})):function Os(i,o,a,c){return(0,ge.D)(i).pipe((0,ee.z)(p=>function wi(i,o,a,c,p){const C=o&&o.routeConfig?o.routeConfig.canDeactivate:null;return C&&0!==C.length?be(C.map(ue=>{const Ce=fn(ue,o,p);let je;if(function Xn(i){return i&&Rr(i.canDeactivate)}(Ce))je=tn(Ce.canDeactivate(i,o,a,c));else{if(!Rr(Ce))throw new Error("Invalid CanDeactivate guard");je=tn(Ce(i,o,a,c))}return je.pipe(He())})).pipe(P()):be(!0)}(p.component,p.route,a,o,c)),He(p=>!0!==p,!0))}($,c,p,i).pipe((0,ee.z)(ue=>ue&&function jn(i){return"boolean"==typeof i}(ue)?function Ki(i,o,a,c){return(0,ge.D)(o).pipe(me(p=>F(function Un(i,o){return null!==i&&o&&o(new cn(i)),be(!0)}(p.route.parent,c),function cs(i,o){return null!==i&&o&&o(new ke(i)),be(!0)}(p.route,c),function Xs(i,o,a){const c=o[o.length-1],C=o.slice(0,o.length-1).reverse().map($=>function $o(i){const o=i.routeConfig?i.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:i,guards:o}:null}($)).filter($=>null!==$).map($=>J(()=>be($.guards.map(Ce=>{const je=fn(Ce,$.node,a);let rt;if(function Ms(i){return i&&Rr(i.canActivateChild)}(je))rt=tn(je.canActivateChild(c,i));else{if(!Rr(je))throw new Error("Invalid CanActivateChild guard");rt=tn(je(c,i))}return rt.pipe(He())})).pipe(P())));return be(C).pipe(P())}(i,p.path,a),function Nr(i,o,a){const c=o.routeConfig?o.routeConfig.canActivate:null;if(!c||0===c.length)return be(!0);const p=c.map(C=>J(()=>{const $=fn(C,o,a);let ue;if(function Or(i){return i&&Rr(i.canActivate)}($))ue=tn($.canActivate(o,i));else{if(!Rr($))throw new Error("Invalid CanActivate guard");ue=tn($(o,i))}return ue.pipe(He())}));return be(p).pipe(P())}(i,p.route,a))),He(p=>!0!==p,!0))}(c,C,i,o):be(ue)),(0,fe.U)(ue=>Object.assign(Object.assign({},a),{guardsResult:ue})))})}(this.ngModule.injector,ue=>this.triggerEvent(ue)),Ze(ue=>{if(mr(ue.guardsResult)){const je=qt(`Redirecting to "${this.serializeUrl(ue.guardsResult)}"`);throw je.url=ue.guardsResult,je}const Ce=new et(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.triggerEvent(Ce)}),(0,G.h)(ue=>!!ue.guardsResult||(this.restoreHistory(ue),this.cancelNavigationTransition(ue,""),!1)),Mn(ue=>{if(ue.guards.canActivateChecks.length)return be(ue).pipe(Ze(Ce=>{const je=new yt(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(je)}),z(Ce=>{let je=!1;return be(Ce).pipe(function Di(i,o){return(0,ee.z)(a=>{const{targetSnapshot:c,guards:{canActivateChecks:p}}=a;if(!p.length)return be(a);let C=0;return(0,ge.D)(p).pipe(me($=>function fs(i,o,a,c){return function ps(i,o,a,c){const p=ro(i);if(0===p.length)return be({});const C={};return(0,ge.D)(p).pipe((0,ee.z)($=>function ks(i,o,a,c){const p=fn(i,o,c);return tn(p.resolve?p.resolve(o,a):p(o,a))}(i[$],o,a,c).pipe(Ze(ue=>{C[$]=ue}))),_e(1),(0,ee.z)(()=>ro(C).length===p.length?be(C):w.E))}(i._resolve,i,o,c).pipe((0,fe.U)(C=>(i._resolvedData=C,i.data=Object.assign(Object.assign({},i.data),sn(i,a).resolve),null)))}($.route,c,i,o)),Ze(()=>C++),_e(1),(0,ee.z)($=>C===p.length?be(a):w.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ze({next:()=>je=!0,complete:()=>{je||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"At least one route resolver didn't emit any value."))}}))}),Ze(Ce=>{const je=new ut(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(je)}))}),Mn(ue=>{const{targetSnapshot:Ce,id:je,extractedUrl:rt,rawUrl:Qe,extras:{skipLocationChange:it,replaceUrl:at}}=ue;return this.hooks.afterPreactivation(Ce,{navigationId:je,appliedUrlTree:rt,rawUrlTree:Qe,skipLocationChange:!!it,replaceUrl:!!at})}),(0,fe.U)(ue=>{const Ce=function _i(i,o,a){const c=Cr(i,o._root,a?a._root:void 0);return new Bn(c,o)}(this.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return Object.assign(Object.assign({},ue),{targetRouterState:Ce})}),Ze(ue=>{this.currentUrlTree=ue.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ue.urlAfterRedirects,ue.rawUrl),this.routerState=ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ue),this.browserUrlTree=ue.urlAfterRedirects)}),((i,o,a)=>(0,fe.U)(c=>(new Ai(o,c.targetRouterState,c.currentRouterState,a).activate(i),c)))(this.rootContexts,this.routeReuseStrategy,ue=>this.triggerEvent(ue)),Ze({next(){C=!0},complete(){C=!0}}),function N(i){return(0,re.e)((o,a)=>{try{o.subscribe(a)}finally{a.add(i)}})}(()=>{var ue;C||$||this.cancelNavigationTransition(p,`Navigation ID ${p.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.id)===p.id&&(this.currentNavigation=null)}),K(ue=>{if($=!0,function Rt(i){return i&&i[lt]}(ue)){const Ce=mr(ue.url);Ce||(this.navigated=!0,this.restoreHistory(p,!0));const je=new Xe(p.id,this.serializeUrl(p.extractedUrl),ue.message);c.next(je),Ce?setTimeout(()=>{const rt=this.urlHandlingStrategy.merge(ue.url,this.rawUrlTree),Qe={skipLocationChange:p.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Br(p.source)};this.scheduleNavigation(rt,"imperative",null,Qe,{resolve:p.resolve,reject:p.reject,promise:p.promise})},0):p.resolve(!1)}else{this.restoreHistory(p,!0);const Ce=new Je(p.id,this.serializeUrl(p.extractedUrl),ue);c.next(Ce);try{p.resolve(this.errorHandler(ue))}catch(je){p.reject(je)}}return w.E}))}))}resetRootComponentType(a){this.rootComponentType=a,this.routerState.root.component=this.rootComponentType}setTransition(a){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),a))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(a=>{const c="popstate"===a.type?"popstate":"hashchange";"popstate"===c&&setTimeout(()=>{var p;const C={replaceUrl:!0},$=(null===(p=a.state)||void 0===p?void 0:p.navigationId)?a.state:null;if($){const Ce=Object.assign({},$);delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(C.state=Ce)}const ue=this.parseUrl(a.url);this.scheduleNavigation(ue,c,$,C)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(a){this.events.next(a)}resetConfig(a){Ke(a),this.config=a.map($t),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(a,c={}){const{relativeTo:p,queryParams:C,fragment:$,queryParamsHandling:ue,preserveFragment:Ce}=c,je=p||this.routerState.root,rt=Ce?this.currentUrlTree.fragment:$;let Qe=null;switch(ue){case"merge":Qe=Object.assign(Object.assign({},this.currentUrlTree.queryParams),C);break;case"preserve":Qe=this.currentUrlTree.queryParams;break;default:Qe=C||null}return null!==Qe&&(Qe=this.removeEmptyProps(Qe)),function rs(i,o,a,c,p){if(0===a.length)return oi(o.root,o.root,o.root,c,p);const C=function is(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Jr(!0,0,i);let o=0,a=!1;const c=i.reduce((p,C,$)=>{if("object"==typeof C&&null!=C){if(C.outlets){const ue={};return Wt(C.outlets,(Ce,je)=>{ue[je]="string"==typeof Ce?Ce.split("/"):Ce}),[...p,{outlets:ue}]}if(C.segmentPath)return[...p,C.segmentPath]}return"string"!=typeof C?[...p,C]:0===$?(C.split("/").forEach((ue,Ce)=>{0==Ce&&"."===ue||(0==Ce&&""===ue?a=!0:".."===ue?o++:""!=ue&&p.push(ue))}),p):[...p,C]},[]);return new Jr(a,o,c)}(a);if(C.toRoot())return oi(o.root,o.root,new xt([],{}),c,p);const $=function ws(i,o,a){if(i.isAbsolute)return new fr(o.root,!0,0);if(-1===a.snapshot._lastPathIndex){const C=a.snapshot._urlSegment;return new fr(C,C===o.root,0)}const c=hr(i.commands[0])?0:1;return function Ds(i,o,a){let c=i,p=o,C=a;for(;C>p;){if(C-=p,c=c.parent,!c)throw new Error("Invalid number of '../'");p=c.segments.length}return new fr(c,!1,p-C)}(a.snapshot._urlSegment,a.snapshot._lastPathIndex+c,i.numberOfDoubleDots)}(C,o,i),ue=$.processChildren?gr($.segmentGroup,$.index,C.commands):pr($.segmentGroup,$.index,C.commands);return oi(o.root,$.segmentGroup,ue,c,p)}(je,this.currentUrlTree,a,Qe,null!=rt?rt:null)}navigateByUrl(a,c={skipLocationChange:!1}){const p=mr(a)?a:this.parseUrl(a),C=this.urlHandlingStrategy.merge(p,this.rawUrlTree);return this.scheduleNavigation(C,"imperative",null,c)}navigate(a,c={skipLocationChange:!1}){return function ys(i){for(let o=0;o<i.length;o++){const a=i[o];if(null==a)throw new Error(`The requested path contains ${a} segment at index ${o}`)}}(a),this.navigateByUrl(this.createUrlTree(a,c),c)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){let c;try{c=this.urlSerializer.parse(a)}catch(p){c=this.malformedUriErrorHandler(p,this.urlSerializer,a)}return c}isActive(a,c){let p;if(p=!0===c?Object.assign({},Ji):!1===c?Object.assign({},Bs):c,mr(a))return Ne(this.currentUrlTree,a,p);const C=this.parseUrl(a);return Ne(this.currentUrlTree,C,p)}removeEmptyProps(a){return Object.keys(a).reduce((c,p)=>{const C=a[p];return null!=C&&(c[p]=C),c},{})}processNavigations(){this.navigations.subscribe(a=>{this.navigated=!0,this.lastSuccessfulId=a.id,this.currentPageId=a.targetPageId,this.events.next(new Ve(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,a.resolve(!0)},a=>{this.console.warn(`Unhandled Navigation Error: ${a}`)})}scheduleNavigation(a,c,p,C,$){var ue,Ce;if(this.disposed)return Promise.resolve(!1);let je,rt,Qe;$?(je=$.resolve,rt=$.reject,Qe=$.promise):Qe=new Promise((Nt,Qt)=>{je=Nt,rt=Qt});const it=++this.navigationId;let at;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(p=this.location.getState()),at=p&&p.\u0275routerPageId?p.\u0275routerPageId:C.replaceUrl||C.skipLocationChange?null!==(ue=this.browserPageId)&&void 0!==ue?ue:0:(null!==(Ce=this.browserPageId)&&void 0!==Ce?Ce:0)+1):at=0,this.setTransition({id:it,targetPageId:at,source:c,restoredState:p,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:a,extras:C,resolve:je,reject:rt,promise:Qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qe.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(a,c){const p=this.urlSerializer.serialize(a),C=Object.assign(Object.assign({},c.extras.state),this.generateNgRouterState(c.id,c.targetPageId));this.location.isCurrentPathEqualTo(p)||c.extras.replaceUrl?this.location.replaceState(p,"",C):this.location.go(p,"",C)}restoreHistory(a,c=!1){var p,C;if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-a.targetPageId;"popstate"!==a.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(p=this.currentNavigation)||void 0===p?void 0:p.finalUrl)||0===$?this.currentUrlTree===(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)&&0===$&&(this.resetState(a),this.browserUrlTree=a.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo($)}else"replace"===this.canceledNavigationResolution&&(c&&this.resetState(a),this.resetUrlToCurrentUrlTree())}resetState(a){this.routerState=a.currentRouterState,this.currentUrlTree=a.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(a,c){const p=new Xe(a.id,this.serializeUrl(a.extractedUrl),c);this.triggerEvent(p),a.resolve(!1)}generateNgRouterState(a,c){return"computed"===this.canceledNavigationResolution?{navigationId:a,\u0275routerPageId:c}:{navigationId:a}}}return i.\u0275fac=function(a){h.$Z()},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Br(i){return"imperative"!==i}let Ti=(()=>{class i{constructor(a,c,p){this.router=a,this.route=c,this.locationStrategy=p,this.commands=null,this.href=null,this.onChanges=new ye.x,this.subscription=a.events.subscribe(C=>{C instanceof Ve&&this.updateTargetUrlAndHref()})}set routerLink(a){this.commands=null!=a?Array.isArray(a)?a:[a]:null}ngOnChanges(a){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(a,c,p,C,$){if(0!==a||c||p||C||$||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ue={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ue),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return i.\u0275fac=function(a){return new(a||i)(h.Y36(On),h.Y36(Qr),h.Y36(xe.S$))},i.\u0275dir=h.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(a,c){1&a&&h.NdJ("click",function(C){return c.onClick(C.button,C.ctrlKey,C.shiftKey,C.altKey,C.metaKey)}),2&a&&h.uIk("target",c.target)("href",c.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),i})();function Mi(i){return""===i||!!i}class so{}class Yo{preload(o,a){return be(null)}}let oo=(()=>{class i{constructor(a,c,p,C){this.router=a,this.injector=p,this.preloadingStrategy=C,this.loader=new Ns(p,c,Ce=>a.triggerEvent(new nt(Ce)),Ce=>a.triggerEvent(new Ft(Ce)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,G.h)(a=>a instanceof Ve),me(()=>this.preload())).subscribe(()=>{})}preload(){const a=this.injector.get(h.h0i);return this.processRoutes(a,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(a,c){const p=[];for(const C of c)if(C.loadChildren&&!C.canLoad&&C._loadedConfig){const $=C._loadedConfig;p.push(this.processRoutes($.module,$.routes))}else C.loadChildren&&!C.canLoad?p.push(this.preloadConfig(a,C)):C.children&&p.push(this.processRoutes(a,C.children));return(0,ge.D)(p).pipe((0,Y.J)(),(0,fe.U)(C=>{}))}preloadConfig(a,c){return this.preloadingStrategy.preload(c,()=>(c._loadedConfig?be(c._loadedConfig):this.loader.load(a.injector,c)).pipe((0,ee.z)(C=>(c._loadedConfig=C,this.processRoutes(C.module,C.routes)))))}}return i.\u0275fac=function(a){return new(a||i)(h.LFG(On),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(so))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Vr=(()=>{class i{constructor(a,c,p={}){this.router=a,this.viewportScroller=c,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(a=>{a instanceof Me?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=a.navigationTrigger,this.restoredId=a.restoredState?a.restoredState.navigationId:0):a instanceof Ve&&(this.lastId=a.id,this.scheduleScrollEvent(a,this.router.parseUrl(a.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(a=>{a instanceof Re&&(a.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(a.position):a.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(a.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(a,c){this.router.triggerEvent(new Re(a,"popstate"===this.lastSource?this.store[this.restoredId]:null,c))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(a){h.$Z()},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const jr=new h.OlP("ROUTER_CONFIGURATION"),Ii=new h.OlP("ROUTER_FORROOT_GUARD"),lo=[xe.Ye,{provide:ii,useClass:qr},{provide:On,useFactory:function Qo(i,o,a,c,p,C,$={},ue,Ce){const je=new On(null,i,o,a,c,p,En(C));return ue&&(je.urlHandlingStrategy=ue),Ce&&(je.routeReuseStrategy=Ce),function Us(i,o){i.errorHandler&&(o.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(o.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(o.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(o.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(o.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(o.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(o.canceledNavigationResolution=i.canceledNavigationResolution)}($,je),$.enableTracing&&je.events.subscribe(rt=>{var Qe,it;null===(Qe=console.group)||void 0===Qe||Qe.call(console,`Router Event: ${rt.constructor.name}`),console.log(rt.toString()),console.log(rt),null===(it=console.groupEnd)||void 0===it||it.call(console)}),je},deps:[ii,x,xe.Ye,h.zs3,h.Sil,gs,jr,[class io{},new h.FiY],[class ni{},new h.FiY]]},x,{provide:Qr,useFactory:function co(i){return i.routerState.root},deps:[On]},oo,Yo,class qo{preload(o,a){return a().pipe(K(()=>be(null)))}},{provide:jr,useValue:{enableTracing:!1}}];function uo(){return new h.PXZ("Router",On)}let Ri=(()=>{class i{constructor(a,c){}static forRoot(a,c){return{ngModule:i,providers:[lo,Fi(a),{provide:Ii,useFactory:js,deps:[[On,new h.FiY,new h.tp0]]},{provide:jr,useValue:c||{}},{provide:xe.S$,useFactory:Oi,deps:[xe.lw,[new h.tBr(xe.mr),new h.FiY],jr]},{provide:Vr,useFactory:Ko,deps:[On,xe.EM,jr]},{provide:so,useExisting:c&&c.preloadingStrategy?c.preloadingStrategy:Yo},{provide:h.PXZ,multi:!0,useFactory:uo},[Hs,{provide:h.ip1,multi:!0,useFactory:Pa,deps:[Hs]},{provide:$s,useFactory:es,deps:[Hs]},{provide:h.tb,multi:!0,useExisting:$s}]]}}static forChild(a){return{ngModule:i,providers:[Fi(a)]}}}return i.\u0275fac=function(a){return new(a||i)(h.LFG(Ii,8),h.LFG(On,8))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();function Ko(i,o,a){return a.scrollOffset&&o.setOffset(a.scrollOffset),new Vr(i,o,a)}function Oi(i,o,a={}){return a.useHash?new xe.Do(i,o):new xe.b0(i,o)}function js(i){return"guarded"}function Fi(i){return[{provide:h.deG,multi:!0,useValue:i},{provide:gs,multi:!0,useValue:i}]}let Hs=(()=>{class i{constructor(a){this.injector=a,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye.x}appInitializer(){return this.injector.get(xe.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let c=null;const p=new Promise(ue=>c=ue),C=this.injector.get(On),$=this.injector.get(jr);return"disabled"===$.initialNavigation?(C.setUpLocationChangeListener(),c(!0)):"enabled"===$.initialNavigation||"enabledBlocking"===$.initialNavigation?(C.hooks.afterPreactivation=()=>this.initNavigation?be(null):(this.initNavigation=!0,c(!0),this.resultOfPreactivationDone),C.initialNavigation()):c(!0),p})}bootstrapListener(a){const c=this.injector.get(jr),p=this.injector.get(oo),C=this.injector.get(Vr),$=this.injector.get(On),ue=this.injector.get(h.z2F);a===ue.components[0]&&(("enabledNonBlocking"===c.initialNavigation||void 0===c.initialNavigation)&&$.initialNavigation(),p.setUpPreloading(),C.init(),$.resetRootComponentType(ue.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(a){return new(a||i)(h.LFG(h.zs3))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Pa(i){return i.appInitializer.bind(i)}function es(i){return i.bootstrapListener.bind(i)}const $s=new h.OlP("Router Initializer")}},Ue=>{Ue(Ue.s=9463)}]);